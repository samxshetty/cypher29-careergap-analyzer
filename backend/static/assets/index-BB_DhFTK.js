var wR=Object.defineProperty;var aA=n=>{throw TypeError(n)};var bR=(n,e,t)=>e in n?wR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $=(n,e,t)=>bR(n,typeof e!="symbol"?e+"":e,t),cv=(n,e,t)=>e.has(n)||aA("Cannot "+t);var l=(n,e,t)=>(cv(n,e,"read from private field"),t?t.call(n):e.get(n)),A=(n,e,t)=>e.has(n)?aA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),v=(n,e,t,s)=>(cv(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),E=(n,e,t)=>(cv(n,e,"access private method"),t);var xt=(n,e,t,s)=>({set _(r){v(n,e,r,t)},get _(){return l(n,e,s)}});function xR(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in n)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function bb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var US={exports:{}},xy={},VS={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp=Symbol.for("react.element"),AR=Symbol.for("react.portal"),ER=Symbol.for("react.fragment"),SR=Symbol.for("react.strict_mode"),CR=Symbol.for("react.profiler"),_R=Symbol.for("react.provider"),TR=Symbol.for("react.context"),PR=Symbol.for("react.forward_ref"),kR=Symbol.for("react.suspense"),RR=Symbol.for("react.memo"),LR=Symbol.for("react.lazy"),lA=Symbol.iterator;function MR(n){return n===null||typeof n!="object"?null:(n=lA&&n[lA]||n["@@iterator"],typeof n=="function"?n:null)}var WS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GS=Object.assign,XS={};function xd(n,e,t){this.props=n,this.context=e,this.refs=XS,this.updater=t||WS}xd.prototype.isReactComponent={};xd.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};xd.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function qS(){}qS.prototype=xd.prototype;function xb(n,e,t){this.props=n,this.context=e,this.refs=XS,this.updater=t||WS}var Ab=xb.prototype=new qS;Ab.constructor=xb;GS(Ab,xd.prototype);Ab.isPureReactComponent=!0;var cA=Array.isArray,YS=Object.prototype.hasOwnProperty,Eb={current:null},KS={key:!0,ref:!0,__self:!0,__source:!0};function QS(n,e,t){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)YS.call(e,s)&&!KS.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];r.children=c}if(n&&n.defaultProps)for(s in a=n.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:Pp,type:n,key:i,ref:o,props:r,_owner:Eb.current}}function NR(n,e){return{$$typeof:Pp,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Sb(n){return typeof n=="object"&&n!==null&&n.$$typeof===Pp}function IR(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var uA=/\/+/g;function uv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?IR(""+n.key):e.toString(36)}function Eg(n,e,t,s,r){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Pp:case AR:o=!0}}if(o)return o=n,r=r(o),n=s===""?"."+uv(o,0):s,cA(r)?(t="",n!=null&&(t=n.replace(uA,"$&/")+"/"),Eg(r,e,t,"",function(u){return u})):r!=null&&(Sb(r)&&(r=NR(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(uA,"$&/")+"/")+n)),e.push(r)),1;if(o=0,s=s===""?".":s+":",cA(n))for(var a=0;a<n.length;a++){i=n[a];var c=s+uv(i,a);o+=Eg(i,e,t,c,r)}else if(c=MR(n),typeof c=="function")for(n=c.call(n),a=0;!(i=n.next()).done;)i=i.value,c=s+uv(i,a++),o+=Eg(i,e,t,c,r);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qp(n,e,t){if(n==null)return n;var s=[],r=0;return Eg(n,s,"","",function(i){return e.call(t,i,r++)}),s}function DR(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var wn={current:null},Sg={transition:null},OR={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:Sg,ReactCurrentOwner:Eb};function JS(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:qp,forEach:function(n,e,t){qp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return qp(n,function(){e++}),e},toArray:function(n){return qp(n,function(e){return e})||[]},only:function(n){if(!Sb(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};pe.Component=xd;pe.Fragment=ER;pe.Profiler=CR;pe.PureComponent=xb;pe.StrictMode=SR;pe.Suspense=kR;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OR;pe.act=JS;pe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=GS({},n.props),r=n.key,i=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Eb.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in e)YS.call(e,c)&&!KS.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=t;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Pp,type:n.type,key:r,ref:i,props:s,_owner:o}};pe.createContext=function(n){return n={$$typeof:TR,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:_R,_context:n},n.Consumer=n};pe.createElement=QS;pe.createFactory=function(n){var e=QS.bind(null,n);return e.type=n,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(n){return{$$typeof:PR,render:n}};pe.isValidElement=Sb;pe.lazy=function(n){return{$$typeof:LR,_payload:{_status:-1,_result:n},_init:DR}};pe.memo=function(n,e){return{$$typeof:RR,type:n,compare:e===void 0?null:e}};pe.startTransition=function(n){var e=Sg.transition;Sg.transition={};try{n()}finally{Sg.transition=e}};pe.unstable_act=JS;pe.useCallback=function(n,e){return wn.current.useCallback(n,e)};pe.useContext=function(n){return wn.current.useContext(n)};pe.useDebugValue=function(){};pe.useDeferredValue=function(n){return wn.current.useDeferredValue(n)};pe.useEffect=function(n,e){return wn.current.useEffect(n,e)};pe.useId=function(){return wn.current.useId()};pe.useImperativeHandle=function(n,e,t){return wn.current.useImperativeHandle(n,e,t)};pe.useInsertionEffect=function(n,e){return wn.current.useInsertionEffect(n,e)};pe.useLayoutEffect=function(n,e){return wn.current.useLayoutEffect(n,e)};pe.useMemo=function(n,e){return wn.current.useMemo(n,e)};pe.useReducer=function(n,e,t){return wn.current.useReducer(n,e,t)};pe.useRef=function(n){return wn.current.useRef(n)};pe.useState=function(n){return wn.current.useState(n)};pe.useSyncExternalStore=function(n,e,t){return wn.current.useSyncExternalStore(n,e,t)};pe.useTransition=function(){return wn.current.useTransition()};pe.version="18.3.1";VS.exports=pe;var _=VS.exports;const H=bb(_),ZS=xR({__proto__:null,default:H},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FR=_,jR=Symbol.for("react.element"),BR=Symbol.for("react.fragment"),zR=Object.prototype.hasOwnProperty,$R=FR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HR={key:!0,ref:!0,__self:!0,__source:!0};function e1(n,e,t){var s,r={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)zR.call(e,s)&&!HR.hasOwnProperty(s)&&(r[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:jR,type:n,key:i,ref:o,props:r,_owner:$R.current}}xy.Fragment=BR;xy.jsx=e1;xy.jsxs=e1;US.exports=xy;var k=US.exports,t1={exports:{}},os={},n1={exports:{}},s1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,F){var U=N.length;N.push(F);e:for(;0<U;){var ne=U-1>>>1,W=N[ne];if(0<r(W,F))N[ne]=F,N[U]=W,U=ne;else break e}}function t(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var F=N[0],U=N.pop();if(U!==F){N[0]=U;e:for(var ne=0,W=N.length,Q=W>>>1;ne<Q;){var se=2*(ne+1)-1,me=N[se],be=se+1,Z=N[be];if(0>r(me,U))be<W&&0>r(Z,me)?(N[ne]=Z,N[be]=U,ne=be):(N[ne]=me,N[se]=U,ne=se);else if(be<W&&0>r(Z,U))N[ne]=Z,N[be]=U,ne=be;else break e}}return F}function r(N,F){var U=N.sortIndex-F.sortIndex;return U!==0?U:N.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,p=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var F=t(u);F!==null;){if(F.callback===null)s(u);else if(F.startTime<=N)s(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=t(u)}}function S(N){if(g=!1,x(N),!y)if(t(c)!==null)y=!0,O(C);else{var F=t(u);F!==null&&j(S,F.startTime-N)}}function C(N,F){y=!1,g&&(g=!1,m(R),R=-1),p=!0;var U=f;try{for(x(F),h=t(c);h!==null&&(!(h.expirationTime>F)||N&&!D());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var W=ne(h.expirationTime<=F);F=n.unstable_now(),typeof W=="function"?h.callback=W:h===t(c)&&s(c),x(F)}else s(c);h=t(c)}if(h!==null)var Q=!0;else{var se=t(u);se!==null&&j(S,se.startTime-F),Q=!1}return Q}finally{h=null,f=U,p=!1}}var T=!1,P=null,R=-1,L=5,M=-1;function D(){return!(n.unstable_now()-M<L)}function B(){if(P!==null){var N=n.unstable_now();M=N;var F=!0;try{F=P(!0,N)}finally{F?V():(T=!1,P=null)}}else T=!1}var V;if(typeof w=="function")V=function(){w(B)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,K=I.port2;I.port1.onmessage=B,V=function(){K.postMessage(null)}}else V=function(){b(B,0)};function O(N){P=N,T||(T=!0,V())}function j(N,F){R=b(function(){N(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){y||p||(y=!0,O(C))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(N){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var U=f;f=F;try{return N()}finally{f=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,F){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var U=f;f=N;try{return F()}finally{f=U}},n.unstable_scheduleCallback=function(N,F,U){var ne=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ne+U:ne):U=ne,N){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=U+W,N={id:d++,callback:F,priorityLevel:N,startTime:U,expirationTime:W,sortIndex:-1},U>ne?(N.sortIndex=U,e(u,N),t(c)===null&&N===t(u)&&(g?(m(R),R=-1):g=!0,j(S,U-ne))):(N.sortIndex=W,e(c,N),y||p||(y=!0,O(C))),N},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(N){var F=f;return function(){var U=f;f=F;try{return N.apply(this,arguments)}finally{f=U}}}})(s1);n1.exports=s1;var UR=n1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR=_,is=UR;function z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r1=new Set,Eh={};function cc(n,e){ud(n,e),ud(n+"Capture",e)}function ud(n,e){for(Eh[n]=e,n=0;n<e.length;n++)r1.add(e[n])}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qv=Object.prototype.hasOwnProperty,WR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dA={},hA={};function GR(n){return Qv.call(hA,n)?!0:Qv.call(dA,n)?!1:WR.test(n)?hA[n]=!0:(dA[n]=!0,!1)}function XR(n,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function qR(n,e,t,s){if(e===null||typeof e>"u"||XR(n,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bn(n,e,t,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ut[n]=new bn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ut[e]=new bn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ut[n]=new bn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ut[n]=new bn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ut[n]=new bn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ut[n]=new bn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ut[n]=new bn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ut[n]=new bn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ut[n]=new bn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Cb=/[\-:]([a-z])/g;function _b(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Cb,_b);Ut[e]=new bn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Cb,_b);Ut[e]=new bn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Cb,_b);Ut[e]=new bn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ut[n]=new bn(n,1,!1,n.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ut[n]=new bn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Tb(n,e,t,s){var r=Ut.hasOwnProperty(e)?Ut[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qR(e,t,r,s)&&(t=null),s||r===null?GR(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,s=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,s?n.setAttributeNS(s,e,t):n.setAttribute(e,t))))}var Xi=VR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yp=Symbol.for("react.element"),Ec=Symbol.for("react.portal"),Sc=Symbol.for("react.fragment"),Pb=Symbol.for("react.strict_mode"),Jv=Symbol.for("react.profiler"),i1=Symbol.for("react.provider"),o1=Symbol.for("react.context"),kb=Symbol.for("react.forward_ref"),Zv=Symbol.for("react.suspense"),e0=Symbol.for("react.suspense_list"),Rb=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),a1=Symbol.for("react.offscreen"),fA=Symbol.iterator;function kd(n){return n===null||typeof n!="object"?null:(n=fA&&n[fA]||n["@@iterator"],typeof n=="function"?n:null)}var Qe=Object.assign,dv;function Ud(n){if(dv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);dv=e&&e[1]||""}return`
`+dv+n}var hv=!1;function fv(n,e){if(!n||hv)return"";hv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){s=u}n.call(e.prototype)}else{try{throw Error()}catch(u){s=u}n()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var c=`
`+r[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=a);break}}}finally{hv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ud(n):""}function YR(n){switch(n.tag){case 5:return Ud(n.type);case 16:return Ud("Lazy");case 13:return Ud("Suspense");case 19:return Ud("SuspenseList");case 0:case 2:case 15:return n=fv(n.type,!1),n;case 11:return n=fv(n.type.render,!1),n;case 1:return n=fv(n.type,!0),n;default:return""}}function t0(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Sc:return"Fragment";case Ec:return"Portal";case Jv:return"Profiler";case Pb:return"StrictMode";case Zv:return"Suspense";case e0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case o1:return(n.displayName||"Context")+".Consumer";case i1:return(n._context.displayName||"Context")+".Provider";case kb:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Rb:return e=n.displayName||null,e!==null?e:t0(n.type)||"Memo";case ro:e=n._payload,n=n._init;try{return t0(n(e))}catch{}}return null}function KR(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return t0(e);case 8:return e===Pb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ca(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function l1(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QR(n){var e=l1(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),s=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Kp(n){n._valueTracker||(n._valueTracker=QR(n))}function c1(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return n&&(s=l1(n)?n.checked?"true":"false":n.value),n=s,n!==t?(e.setValue(n),!0):!1}function pm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function n0(n,e){var t=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function pA(n,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=ca(e.value!=null?e.value:t),n._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function u1(n,e){e=e.checked,e!=null&&Tb(n,"checked",e,!1)}function s0(n,e){u1(n,e);var t=ca(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?r0(n,e.type,t):e.hasOwnProperty("defaultValue")&&r0(n,e.type,ca(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function gA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function r0(n,e,t){(e!=="number"||pm(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Vd=Array.isArray;function jc(n,e,t,s){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&s&&(n[t].defaultSelected=!0)}else{for(t=""+ca(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,s&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function i0(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function mA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(z(92));if(Vd(t)){if(1<t.length)throw Error(z(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ca(t)}}function d1(n,e){var t=ca(e.value),s=ca(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),s!=null&&(n.defaultValue=""+s)}function yA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function h1(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o0(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?h1(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Qp,f1=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,s,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,s,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Qp=Qp||document.createElement("div"),Qp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Sh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JR=["Webkit","ms","Moz","O"];Object.keys(hh).forEach(function(n){JR.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),hh[e]=hh[n]})});function p1(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||hh.hasOwnProperty(n)&&hh[n]?(""+e).trim():e+"px"}function g1(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,r=p1(t,e[t],s);t==="float"&&(t="cssFloat"),s?n.setProperty(t,r):n[t]=r}}var ZR=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a0(n,e){if(e){if(ZR[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function l0(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c0=null;function Lb(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var u0=null,Bc=null,zc=null;function vA(n){if(n=Lp(n)){if(typeof u0!="function")throw Error(z(280));var e=n.stateNode;e&&(e=_y(e),u0(n.stateNode,n.type,e))}}function m1(n){Bc?zc?zc.push(n):zc=[n]:Bc=n}function y1(){if(Bc){var n=Bc,e=zc;if(zc=Bc=null,vA(n),e)for(n=0;n<e.length;n++)vA(e[n])}}function v1(n,e){return n(e)}function w1(){}var pv=!1;function b1(n,e,t){if(pv)return n(e,t);pv=!0;try{return v1(n,e,t)}finally{pv=!1,(Bc!==null||zc!==null)&&(w1(),y1())}}function Ch(n,e){var t=n.stateNode;if(t===null)return null;var s=_y(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(z(231,e,typeof t));return t}var d0=!1;if(ji)try{var Rd={};Object.defineProperty(Rd,"passive",{get:function(){d0=!0}}),window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{d0=!1}function eL(n,e,t,s,r,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var fh=!1,gm=null,mm=!1,h0=null,tL={onError:function(n){fh=!0,gm=n}};function nL(n,e,t,s,r,i,o,a,c){fh=!1,gm=null,eL.apply(tL,arguments)}function sL(n,e,t,s,r,i,o,a,c){if(nL.apply(this,arguments),fh){if(fh){var u=gm;fh=!1,gm=null}else throw Error(z(198));mm||(mm=!0,h0=u)}}function uc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function x1(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function wA(n){if(uc(n)!==n)throw Error(z(188))}function rL(n){var e=n.alternate;if(!e){if(e=uc(n),e===null)throw Error(z(188));return e!==n?null:n}for(var t=n,s=e;;){var r=t.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){t=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===t)return wA(r),n;if(i===s)return wA(r),e;i=i.sibling}throw Error(z(188))}if(t.return!==s.return)t=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,s=i;break}if(a===s){o=!0,s=r,t=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===t){o=!0,t=i,s=r;break}if(a===s){o=!0,s=i,t=r;break}a=a.sibling}if(!o)throw Error(z(189))}}if(t.alternate!==s)throw Error(z(190))}if(t.tag!==3)throw Error(z(188));return t.stateNode.current===t?n:e}function A1(n){return n=rL(n),n!==null?E1(n):null}function E1(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=E1(n);if(e!==null)return e;n=n.sibling}return null}var S1=is.unstable_scheduleCallback,bA=is.unstable_cancelCallback,iL=is.unstable_shouldYield,oL=is.unstable_requestPaint,ot=is.unstable_now,aL=is.unstable_getCurrentPriorityLevel,Mb=is.unstable_ImmediatePriority,C1=is.unstable_UserBlockingPriority,ym=is.unstable_NormalPriority,lL=is.unstable_LowPriority,_1=is.unstable_IdlePriority,Ay=null,zr=null;function cL(n){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(Ay,n,void 0,(n.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:hL,uL=Math.log,dL=Math.LN2;function hL(n){return n>>>=0,n===0?32:31-(uL(n)/dL|0)|0}var Jp=64,Zp=4194304;function Wd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function vm(n,e){var t=n.pendingLanes;if(t===0)return 0;var s=0,r=n.suspendedLanes,i=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?s=Wd(a):(i&=o,i!==0&&(s=Wd(i)))}else o=t&~r,o!==0?s=Wd(o):i!==0&&(s=Wd(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=s;0<e;)t=31-Zs(e),r=1<<t,s|=n[t],e&=~r;return s}function fL(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pL(n,e){for(var t=n.suspendedLanes,s=n.pingedLanes,r=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-Zs(i),a=1<<o,c=r[o];c===-1?(!(a&t)||a&s)&&(r[o]=fL(a,e)):c<=e&&(n.expiredLanes|=a),i&=~a}}function f0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function T1(){var n=Jp;return Jp<<=1,!(Jp&4194240)&&(Jp=64),n}function gv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function kp(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Zs(e),n[e]=t}function gL(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Zs(t),i=1<<r;e[r]=0,s[r]=-1,n[r]=-1,t&=~i}}function Nb(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var s=31-Zs(t),r=1<<s;r&e|n[s]&e&&(n[s]|=e),t&=~r}}var _e=0;function P1(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var k1,Ib,R1,L1,M1,p0=!1,eg=[],ta=null,na=null,sa=null,_h=new Map,Th=new Map,ao=[],mL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xA(n,e){switch(n){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":_h.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Th.delete(e.pointerId)}}function Ld(n,e,t,s,r,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Lp(e),e!==null&&Ib(e)),n):(n.eventSystemFlags|=s,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function yL(n,e,t,s,r){switch(e){case"focusin":return ta=Ld(ta,n,e,t,s,r),!0;case"dragenter":return na=Ld(na,n,e,t,s,r),!0;case"mouseover":return sa=Ld(sa,n,e,t,s,r),!0;case"pointerover":var i=r.pointerId;return _h.set(i,Ld(_h.get(i)||null,n,e,t,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Th.set(i,Ld(Th.get(i)||null,n,e,t,s,r)),!0}return!1}function N1(n){var e=Da(n.target);if(e!==null){var t=uc(e);if(t!==null){if(e=t.tag,e===13){if(e=x1(t),e!==null){n.blockedOn=e,M1(n.priority,function(){R1(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Cg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=g0(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var s=new t.constructor(t.type,t);c0=s,t.target.dispatchEvent(s),c0=null}else return e=Lp(t),e!==null&&Ib(e),n.blockedOn=t,!1;e.shift()}return!0}function AA(n,e,t){Cg(n)&&t.delete(e)}function vL(){p0=!1,ta!==null&&Cg(ta)&&(ta=null),na!==null&&Cg(na)&&(na=null),sa!==null&&Cg(sa)&&(sa=null),_h.forEach(AA),Th.forEach(AA)}function Md(n,e){n.blockedOn===e&&(n.blockedOn=null,p0||(p0=!0,is.unstable_scheduleCallback(is.unstable_NormalPriority,vL)))}function Ph(n){function e(r){return Md(r,n)}if(0<eg.length){Md(eg[0],n);for(var t=1;t<eg.length;t++){var s=eg[t];s.blockedOn===n&&(s.blockedOn=null)}}for(ta!==null&&Md(ta,n),na!==null&&Md(na,n),sa!==null&&Md(sa,n),_h.forEach(e),Th.forEach(e),t=0;t<ao.length;t++)s=ao[t],s.blockedOn===n&&(s.blockedOn=null);for(;0<ao.length&&(t=ao[0],t.blockedOn===null);)N1(t),t.blockedOn===null&&ao.shift()}var $c=Xi.ReactCurrentBatchConfig,wm=!0;function wL(n,e,t,s){var r=_e,i=$c.transition;$c.transition=null;try{_e=1,Db(n,e,t,s)}finally{_e=r,$c.transition=i}}function bL(n,e,t,s){var r=_e,i=$c.transition;$c.transition=null;try{_e=4,Db(n,e,t,s)}finally{_e=r,$c.transition=i}}function Db(n,e,t,s){if(wm){var r=g0(n,e,t,s);if(r===null)Cv(n,e,s,bm,t),xA(n,s);else if(yL(r,n,e,t,s))s.stopPropagation();else if(xA(n,s),e&4&&-1<mL.indexOf(n)){for(;r!==null;){var i=Lp(r);if(i!==null&&k1(i),i=g0(n,e,t,s),i===null&&Cv(n,e,s,bm,t),i===r)break;r=i}r!==null&&s.stopPropagation()}else Cv(n,e,s,null,t)}}var bm=null;function g0(n,e,t,s){if(bm=null,n=Lb(s),n=Da(n),n!==null)if(e=uc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=x1(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return bm=n,null}function I1(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aL()){case Mb:return 1;case C1:return 4;case ym:case lL:return 16;case _1:return 536870912;default:return 16}default:return 16}}var Jo=null,Ob=null,_g=null;function D1(){if(_g)return _g;var n,e=Ob,t=e.length,s,r="value"in Jo?Jo.value:Jo.textContent,i=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(s=1;s<=o&&e[t-s]===r[i-s];s++);return _g=r.slice(n,1<s?1-s:void 0)}function Tg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function tg(){return!0}function EA(){return!1}function as(n){function e(t,s,r,i,o){this._reactName=t,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?tg:EA,this.isPropagationStopped=EA,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=tg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=tg)},persist:function(){},isPersistent:tg}),e}var Ad={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fb=as(Ad),Rp=Qe({},Ad,{view:0,detail:0}),xL=as(Rp),mv,yv,Nd,Ey=Qe({},Rp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jb,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Nd&&(Nd&&n.type==="mousemove"?(mv=n.screenX-Nd.screenX,yv=n.screenY-Nd.screenY):yv=mv=0,Nd=n),mv)},movementY:function(n){return"movementY"in n?n.movementY:yv}}),SA=as(Ey),AL=Qe({},Ey,{dataTransfer:0}),EL=as(AL),SL=Qe({},Rp,{relatedTarget:0}),vv=as(SL),CL=Qe({},Ad,{animationName:0,elapsedTime:0,pseudoElement:0}),_L=as(CL),TL=Qe({},Ad,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),PL=as(TL),kL=Qe({},Ad,{data:0}),CA=as(kL),RL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ML={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NL(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=ML[n])?!!e[n]:!1}function jb(){return NL}var IL=Qe({},Rp,{key:function(n){if(n.key){var e=RL[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Tg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?LL[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jb,charCode:function(n){return n.type==="keypress"?Tg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Tg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),DL=as(IL),OL=Qe({},Ey,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_A=as(OL),FL=Qe({},Rp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jb}),jL=as(FL),BL=Qe({},Ad,{propertyName:0,elapsedTime:0,pseudoElement:0}),zL=as(BL),$L=Qe({},Ey,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),HL=as($L),UL=[9,13,27,32],Bb=ji&&"CompositionEvent"in window,ph=null;ji&&"documentMode"in document&&(ph=document.documentMode);var VL=ji&&"TextEvent"in window&&!ph,O1=ji&&(!Bb||ph&&8<ph&&11>=ph),TA=" ",PA=!1;function F1(n,e){switch(n){case"keyup":return UL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j1(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Cc=!1;function WL(n,e){switch(n){case"compositionend":return j1(e);case"keypress":return e.which!==32?null:(PA=!0,TA);case"textInput":return n=e.data,n===TA&&PA?null:n;default:return null}}function GL(n,e){if(Cc)return n==="compositionend"||!Bb&&F1(n,e)?(n=D1(),_g=Ob=Jo=null,Cc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O1&&e.locale!=="ko"?null:e.data;default:return null}}var XL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!XL[n.type]:e==="textarea"}function B1(n,e,t,s){m1(s),e=xm(e,"onChange"),0<e.length&&(t=new Fb("onChange","change",null,t,s),n.push({event:t,listeners:e}))}var gh=null,kh=null;function qL(n){K1(n,0)}function Sy(n){var e=Pc(n);if(c1(e))return n}function YL(n,e){if(n==="change")return e}var z1=!1;if(ji){var wv;if(ji){var bv="oninput"in document;if(!bv){var RA=document.createElement("div");RA.setAttribute("oninput","return;"),bv=typeof RA.oninput=="function"}wv=bv}else wv=!1;z1=wv&&(!document.documentMode||9<document.documentMode)}function LA(){gh&&(gh.detachEvent("onpropertychange",$1),kh=gh=null)}function $1(n){if(n.propertyName==="value"&&Sy(kh)){var e=[];B1(e,kh,n,Lb(n)),b1(qL,e)}}function KL(n,e,t){n==="focusin"?(LA(),gh=e,kh=t,gh.attachEvent("onpropertychange",$1)):n==="focusout"&&LA()}function QL(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sy(kh)}function JL(n,e){if(n==="click")return Sy(e)}function ZL(n,e){if(n==="input"||n==="change")return Sy(e)}function eM(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var tr=typeof Object.is=="function"?Object.is:eM;function Rh(n,e){if(tr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var r=t[s];if(!Qv.call(e,r)||!tr(n[r],e[r]))return!1}return!0}function MA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function NA(n,e){var t=MA(n);n=0;for(var s;t;){if(t.nodeType===3){if(s=n+t.textContent.length,n<=e&&s>=e)return{node:t,offset:e-n};n=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=MA(t)}}function H1(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?H1(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function U1(){for(var n=window,e=pm();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=pm(n.document)}return e}function zb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function tM(n){var e=U1(),t=n.focusedElem,s=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&H1(t.ownerDocument.documentElement,t)){if(s!==null&&zb(t)){if(e=s.start,n=s.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!n.extend&&i>s&&(r=s,s=i,i=r),r=NA(t,i);var o=NA(t,s);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),i>s?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nM=ji&&"documentMode"in document&&11>=document.documentMode,_c=null,m0=null,mh=null,y0=!1;function IA(n,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;y0||_c==null||_c!==pm(s)||(s=_c,"selectionStart"in s&&zb(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),mh&&Rh(mh,s)||(mh=s,s=xm(m0,"onSelect"),0<s.length&&(e=new Fb("onSelect","select",null,e,t),n.push({event:e,listeners:s}),e.target=_c)))}function ng(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Tc={animationend:ng("Animation","AnimationEnd"),animationiteration:ng("Animation","AnimationIteration"),animationstart:ng("Animation","AnimationStart"),transitionend:ng("Transition","TransitionEnd")},xv={},V1={};ji&&(V1=document.createElement("div").style,"AnimationEvent"in window||(delete Tc.animationend.animation,delete Tc.animationiteration.animation,delete Tc.animationstart.animation),"TransitionEvent"in window||delete Tc.transitionend.transition);function Cy(n){if(xv[n])return xv[n];if(!Tc[n])return n;var e=Tc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in V1)return xv[n]=e[t];return n}var W1=Cy("animationend"),G1=Cy("animationiteration"),X1=Cy("animationstart"),q1=Cy("transitionend"),Y1=new Map,DA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(n,e){Y1.set(n,e),cc(e,[n])}for(var Av=0;Av<DA.length;Av++){var Ev=DA[Av],sM=Ev.toLowerCase(),rM=Ev[0].toUpperCase()+Ev.slice(1);ba(sM,"on"+rM)}ba(W1,"onAnimationEnd");ba(G1,"onAnimationIteration");ba(X1,"onAnimationStart");ba("dblclick","onDoubleClick");ba("focusin","onFocus");ba("focusout","onBlur");ba(q1,"onTransitionEnd");ud("onMouseEnter",["mouseout","mouseover"]);ud("onMouseLeave",["mouseout","mouseover"]);ud("onPointerEnter",["pointerout","pointerover"]);ud("onPointerLeave",["pointerout","pointerover"]);cc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cc("onBeforeInput",["compositionend","keypress","textInput","paste"]);cc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gd));function OA(n,e,t){var s=n.type||"unknown-event";n.currentTarget=t,sL(s,e,void 0,n),n.currentTarget=null}function K1(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var s=n[t],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&r.isPropagationStopped())break e;OA(r,a,u),i=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&r.isPropagationStopped())break e;OA(r,a,u),i=c}}}if(mm)throw n=h0,mm=!1,h0=null,n}function Fe(n,e){var t=e[A0];t===void 0&&(t=e[A0]=new Set);var s=n+"__bubble";t.has(s)||(Q1(e,n,2,!1),t.add(s))}function Sv(n,e,t){var s=0;e&&(s|=4),Q1(t,n,s,e)}var sg="_reactListening"+Math.random().toString(36).slice(2);function Lh(n){if(!n[sg]){n[sg]=!0,r1.forEach(function(t){t!=="selectionchange"&&(iM.has(t)||Sv(t,!1,n),Sv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[sg]||(e[sg]=!0,Sv("selectionchange",!1,e))}}function Q1(n,e,t,s){switch(I1(e)){case 1:var r=wL;break;case 4:r=bL;break;default:r=Db}t=r.bind(null,e,t,n),r=void 0,!d0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Cv(n,e,t,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Da(a),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}a=a.parentNode}}s=s.return}b1(function(){var u=i,d=Lb(t),h=[];e:{var f=Y1.get(n);if(f!==void 0){var p=Fb,y=n;switch(n){case"keypress":if(Tg(t)===0)break e;case"keydown":case"keyup":p=DL;break;case"focusin":y="focus",p=vv;break;case"focusout":y="blur",p=vv;break;case"beforeblur":case"afterblur":p=vv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=SA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=EL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jL;break;case W1:case G1:case X1:p=_L;break;case q1:p=zL;break;case"scroll":p=xL;break;case"wheel":p=HL;break;case"copy":case"cut":case"paste":p=PL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_A}var g=(e&4)!==0,b=!g&&n==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var w=u,x;w!==null;){x=w;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,m!==null&&(S=Ch(w,m),S!=null&&g.push(Mh(w,S,x)))),b)break;w=w.return}0<g.length&&(f=new p(f,y,null,t,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==c0&&(y=t.relatedTarget||t.fromElement)&&(Da(y)||y[Bi]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=t.relatedTarget||t.toElement,p=u,y=y?Da(y):null,y!==null&&(b=uc(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(g=SA,S="onMouseLeave",m="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(g=_A,S="onPointerLeave",m="onPointerEnter",w="pointer"),b=p==null?f:Pc(p),x=y==null?f:Pc(y),f=new g(S,w+"leave",p,t,d),f.target=b,f.relatedTarget=x,S=null,Da(d)===u&&(g=new g(m,w+"enter",y,t,d),g.target=x,g.relatedTarget=b,S=g),b=S,p&&y)t:{for(g=p,m=y,w=0,x=g;x;x=gc(x))w++;for(x=0,S=m;S;S=gc(S))x++;for(;0<w-x;)g=gc(g),w--;for(;0<x-w;)m=gc(m),x--;for(;w--;){if(g===m||m!==null&&g===m.alternate)break t;g=gc(g),m=gc(m)}g=null}else g=null;p!==null&&FA(h,f,p,g,!1),y!==null&&b!==null&&FA(h,b,y,g,!0)}}e:{if(f=u?Pc(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=YL;else if(kA(f))if(z1)C=ZL;else{C=QL;var T=KL}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=JL);if(C&&(C=C(n,u))){B1(h,C,t,d);break e}T&&T(n,f,u),n==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&r0(f,"number",f.value)}switch(T=u?Pc(u):window,n){case"focusin":(kA(T)||T.contentEditable==="true")&&(_c=T,m0=u,mh=null);break;case"focusout":mh=m0=_c=null;break;case"mousedown":y0=!0;break;case"contextmenu":case"mouseup":case"dragend":y0=!1,IA(h,t,d);break;case"selectionchange":if(nM)break;case"keydown":case"keyup":IA(h,t,d)}var P;if(Bb)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Cc?F1(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(O1&&t.locale!=="ko"&&(Cc||R!=="onCompositionStart"?R==="onCompositionEnd"&&Cc&&(P=D1()):(Jo=d,Ob="value"in Jo?Jo.value:Jo.textContent,Cc=!0)),T=xm(u,R),0<T.length&&(R=new CA(R,n,null,t,d),h.push({event:R,listeners:T}),P?R.data=P:(P=j1(t),P!==null&&(R.data=P)))),(P=VL?WL(n,t):GL(n,t))&&(u=xm(u,"onBeforeInput"),0<u.length&&(d=new CA("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=P))}K1(h,e)})}function Mh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function xm(n,e){for(var t=e+"Capture",s=[];n!==null;){var r=n,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Ch(n,t),i!=null&&s.unshift(Mh(n,i,r)),i=Ch(n,e),i!=null&&s.push(Mh(n,i,r))),n=n.return}return s}function gc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function FA(n,e,t,s,r){for(var i=e._reactName,o=[];t!==null&&t!==s;){var a=t,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,r?(c=Ch(t,i),c!=null&&o.unshift(Mh(t,c,a))):r||(c=Ch(t,i),c!=null&&o.push(Mh(t,c,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var oM=/\r\n?/g,aM=/\u0000|\uFFFD/g;function jA(n){return(typeof n=="string"?n:""+n).replace(oM,`
`).replace(aM,"")}function rg(n,e,t){if(e=jA(e),jA(n)!==e&&t)throw Error(z(425))}function Am(){}var v0=null,w0=null;function b0(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var x0=typeof setTimeout=="function"?setTimeout:void 0,lM=typeof clearTimeout=="function"?clearTimeout:void 0,BA=typeof Promise=="function"?Promise:void 0,cM=typeof queueMicrotask=="function"?queueMicrotask:typeof BA<"u"?function(n){return BA.resolve(null).then(n).catch(uM)}:x0;function uM(n){setTimeout(function(){throw n})}function _v(n,e){var t=e,s=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(s===0){n.removeChild(r),Ph(e);return}s--}else t!=="$"&&t!=="$?"&&t!=="$!"||s++;t=r}while(t);Ph(e)}function ra(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function zA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Ed=Math.random().toString(36).slice(2),Or="__reactFiber$"+Ed,Nh="__reactProps$"+Ed,Bi="__reactContainer$"+Ed,A0="__reactEvents$"+Ed,dM="__reactListeners$"+Ed,hM="__reactHandles$"+Ed;function Da(n){var e=n[Or];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Bi]||t[Or]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=zA(n);n!==null;){if(t=n[Or])return t;n=zA(n)}return e}n=t,t=n.parentNode}return null}function Lp(n){return n=n[Or]||n[Bi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Pc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(z(33))}function _y(n){return n[Nh]||null}var E0=[],kc=-1;function xa(n){return{current:n}}function je(n){0>kc||(n.current=E0[kc],E0[kc]=null,kc--)}function Ie(n,e){kc++,E0[kc]=n.current,n.current=e}var ua={},nn=xa(ua),Ln=xa(!1),tc=ua;function dd(n,e){var t=n.type.contextTypes;if(!t)return ua;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in t)r[i]=e[i];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Mn(n){return n=n.childContextTypes,n!=null}function Em(){je(Ln),je(nn)}function $A(n,e,t){if(nn.current!==ua)throw Error(z(168));Ie(nn,e),Ie(Ln,t)}function J1(n,e,t){var s=n.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(z(108,KR(n)||"Unknown",r));return Qe({},t,s)}function Sm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ua,tc=nn.current,Ie(nn,n),Ie(Ln,Ln.current),!0}function HA(n,e,t){var s=n.stateNode;if(!s)throw Error(z(169));t?(n=J1(n,e,tc),s.__reactInternalMemoizedMergedChildContext=n,je(Ln),je(nn),Ie(nn,n)):je(Ln),Ie(Ln,t)}var ti=null,Ty=!1,Tv=!1;function Z1(n){ti===null?ti=[n]:ti.push(n)}function fM(n){Ty=!0,Z1(n)}function Aa(){if(!Tv&&ti!==null){Tv=!0;var n=0,e=_e;try{var t=ti;for(_e=1;n<t.length;n++){var s=t[n];do s=s(!0);while(s!==null)}ti=null,Ty=!1}catch(r){throw ti!==null&&(ti=ti.slice(n+1)),S1(Mb,Aa),r}finally{_e=e,Tv=!1}}return null}var Rc=[],Lc=0,Cm=null,_m=0,ys=[],vs=0,nc=null,Ni=1,Ii="";function Ca(n,e){Rc[Lc++]=_m,Rc[Lc++]=Cm,Cm=n,_m=e}function eC(n,e,t){ys[vs++]=Ni,ys[vs++]=Ii,ys[vs++]=nc,nc=n;var s=Ni;n=Ii;var r=32-Zs(s)-1;s&=~(1<<r),t+=1;var i=32-Zs(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,Ni=1<<32-Zs(e)+r|t<<r|s,Ii=i+n}else Ni=1<<i|t<<r|s,Ii=n}function $b(n){n.return!==null&&(Ca(n,1),eC(n,1,0))}function Hb(n){for(;n===Cm;)Cm=Rc[--Lc],Rc[Lc]=null,_m=Rc[--Lc],Rc[Lc]=null;for(;n===nc;)nc=ys[--vs],ys[vs]=null,Ii=ys[--vs],ys[vs]=null,Ni=ys[--vs],ys[vs]=null}var ns=null,ts=null,Ve=!1,Qs=null;function tC(n,e){var t=xs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function UA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ns=n,ts=ra(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ns=n,ts=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=nc!==null?{id:Ni,overflow:Ii}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=xs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ns=n,ts=null,!0):!1;default:return!1}}function S0(n){return(n.mode&1)!==0&&(n.flags&128)===0}function C0(n){if(Ve){var e=ts;if(e){var t=e;if(!UA(n,e)){if(S0(n))throw Error(z(418));e=ra(t.nextSibling);var s=ns;e&&UA(n,e)?tC(s,t):(n.flags=n.flags&-4097|2,Ve=!1,ns=n)}}else{if(S0(n))throw Error(z(418));n.flags=n.flags&-4097|2,Ve=!1,ns=n}}}function VA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ns=n}function ig(n){if(n!==ns)return!1;if(!Ve)return VA(n),Ve=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!b0(n.type,n.memoizedProps)),e&&(e=ts)){if(S0(n))throw nC(),Error(z(418));for(;e;)tC(n,e),e=ra(e.nextSibling)}if(VA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ts=ra(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ts=null}}else ts=ns?ra(n.stateNode.nextSibling):null;return!0}function nC(){for(var n=ts;n;)n=ra(n.nextSibling)}function hd(){ts=ns=null,Ve=!1}function Ub(n){Qs===null?Qs=[n]:Qs.push(n)}var pM=Xi.ReactCurrentBatchConfig;function Id(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(z(309));var s=t.stateNode}if(!s)throw Error(z(147,n));var r=s,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error(z(284));if(!t._owner)throw Error(z(290,n))}return n}function og(n,e){throw n=Object.prototype.toString.call(e),Error(z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function WA(n){var e=n._init;return e(n._payload)}function sC(n){function e(m,w){if(n){var x=m.deletions;x===null?(m.deletions=[w],m.flags|=16):x.push(w)}}function t(m,w){if(!n)return null;for(;w!==null;)e(m,w),w=w.sibling;return null}function s(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function r(m,w){return m=la(m,w),m.index=0,m.sibling=null,m}function i(m,w,x){return m.index=x,n?(x=m.alternate,x!==null?(x=x.index,x<w?(m.flags|=2,w):x):(m.flags|=2,w)):(m.flags|=1048576,w)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,w,x,S){return w===null||w.tag!==6?(w=Iv(x,m.mode,S),w.return=m,w):(w=r(w,x),w.return=m,w)}function c(m,w,x,S){var C=x.type;return C===Sc?d(m,w,x.props.children,S,x.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ro&&WA(C)===w.type)?(S=r(w,x.props),S.ref=Id(m,w,x),S.return=m,S):(S=Ig(x.type,x.key,x.props,null,m.mode,S),S.ref=Id(m,w,x),S.return=m,S)}function u(m,w,x,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Dv(x,m.mode,S),w.return=m,w):(w=r(w,x.children||[]),w.return=m,w)}function d(m,w,x,S,C){return w===null||w.tag!==7?(w=Zl(x,m.mode,S,C),w.return=m,w):(w=r(w,x),w.return=m,w)}function h(m,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Iv(""+w,m.mode,x),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yp:return x=Ig(w.type,w.key,w.props,null,m.mode,x),x.ref=Id(m,null,w),x.return=m,x;case Ec:return w=Dv(w,m.mode,x),w.return=m,w;case ro:var S=w._init;return h(m,S(w._payload),x)}if(Vd(w)||kd(w))return w=Zl(w,m.mode,x,null),w.return=m,w;og(m,w)}return null}function f(m,w,x,S){var C=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(m,w,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yp:return x.key===C?c(m,w,x,S):null;case Ec:return x.key===C?u(m,w,x,S):null;case ro:return C=x._init,f(m,w,C(x._payload),S)}if(Vd(x)||kd(x))return C!==null?null:d(m,w,x,S,null);og(m,x)}return null}function p(m,w,x,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(x)||null,a(w,m,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yp:return m=m.get(S.key===null?x:S.key)||null,c(w,m,S,C);case Ec:return m=m.get(S.key===null?x:S.key)||null,u(w,m,S,C);case ro:var T=S._init;return p(m,w,x,T(S._payload),C)}if(Vd(S)||kd(S))return m=m.get(x)||null,d(w,m,S,C,null);og(w,S)}return null}function y(m,w,x,S){for(var C=null,T=null,P=w,R=w=0,L=null;P!==null&&R<x.length;R++){P.index>R?(L=P,P=null):L=P.sibling;var M=f(m,P,x[R],S);if(M===null){P===null&&(P=L);break}n&&P&&M.alternate===null&&e(m,P),w=i(M,w,R),T===null?C=M:T.sibling=M,T=M,P=L}if(R===x.length)return t(m,P),Ve&&Ca(m,R),C;if(P===null){for(;R<x.length;R++)P=h(m,x[R],S),P!==null&&(w=i(P,w,R),T===null?C=P:T.sibling=P,T=P);return Ve&&Ca(m,R),C}for(P=s(m,P);R<x.length;R++)L=p(P,m,R,x[R],S),L!==null&&(n&&L.alternate!==null&&P.delete(L.key===null?R:L.key),w=i(L,w,R),T===null?C=L:T.sibling=L,T=L);return n&&P.forEach(function(D){return e(m,D)}),Ve&&Ca(m,R),C}function g(m,w,x,S){var C=kd(x);if(typeof C!="function")throw Error(z(150));if(x=C.call(x),x==null)throw Error(z(151));for(var T=C=null,P=w,R=w=0,L=null,M=x.next();P!==null&&!M.done;R++,M=x.next()){P.index>R?(L=P,P=null):L=P.sibling;var D=f(m,P,M.value,S);if(D===null){P===null&&(P=L);break}n&&P&&D.alternate===null&&e(m,P),w=i(D,w,R),T===null?C=D:T.sibling=D,T=D,P=L}if(M.done)return t(m,P),Ve&&Ca(m,R),C;if(P===null){for(;!M.done;R++,M=x.next())M=h(m,M.value,S),M!==null&&(w=i(M,w,R),T===null?C=M:T.sibling=M,T=M);return Ve&&Ca(m,R),C}for(P=s(m,P);!M.done;R++,M=x.next())M=p(P,m,R,M.value,S),M!==null&&(n&&M.alternate!==null&&P.delete(M.key===null?R:M.key),w=i(M,w,R),T===null?C=M:T.sibling=M,T=M);return n&&P.forEach(function(B){return e(m,B)}),Ve&&Ca(m,R),C}function b(m,w,x,S){if(typeof x=="object"&&x!==null&&x.type===Sc&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Yp:e:{for(var C=x.key,T=w;T!==null;){if(T.key===C){if(C=x.type,C===Sc){if(T.tag===7){t(m,T.sibling),w=r(T,x.props.children),w.return=m,m=w;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ro&&WA(C)===T.type){t(m,T.sibling),w=r(T,x.props),w.ref=Id(m,T,x),w.return=m,m=w;break e}t(m,T);break}else e(m,T);T=T.sibling}x.type===Sc?(w=Zl(x.props.children,m.mode,S,x.key),w.return=m,m=w):(S=Ig(x.type,x.key,x.props,null,m.mode,S),S.ref=Id(m,w,x),S.return=m,m=S)}return o(m);case Ec:e:{for(T=x.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){t(m,w.sibling),w=r(w,x.children||[]),w.return=m,m=w;break e}else{t(m,w);break}else e(m,w);w=w.sibling}w=Dv(x,m.mode,S),w.return=m,m=w}return o(m);case ro:return T=x._init,b(m,w,T(x._payload),S)}if(Vd(x))return y(m,w,x,S);if(kd(x))return g(m,w,x,S);og(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(t(m,w.sibling),w=r(w,x),w.return=m,m=w):(t(m,w),w=Iv(x,m.mode,S),w.return=m,m=w),o(m)):t(m,w)}return b}var fd=sC(!0),rC=sC(!1),Tm=xa(null),Pm=null,Mc=null,Vb=null;function Wb(){Vb=Mc=Pm=null}function Gb(n){var e=Tm.current;je(Tm),n._currentValue=e}function _0(n,e,t){for(;n!==null;){var s=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),n===t)break;n=n.return}}function Hc(n,e){Pm=n,Vb=Mc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Rn=!0),n.firstContext=null)}function Ss(n){var e=n._currentValue;if(Vb!==n)if(n={context:n,memoizedValue:e,next:null},Mc===null){if(Pm===null)throw Error(z(308));Mc=n,Pm.dependencies={lanes:0,firstContext:n}}else Mc=Mc.next=n;return e}var Oa=null;function Xb(n){Oa===null?Oa=[n]:Oa.push(n)}function iC(n,e,t,s){var r=e.interleaved;return r===null?(t.next=t,Xb(e)):(t.next=r.next,r.next=t),e.interleaved=t,zi(n,s)}function zi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var io=!1;function qb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oC(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Di(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ia(n,e,t){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,ye&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,zi(n,t)}return r=s.interleaved,r===null?(e.next=e,Xb(s)):(e.next=r.next,r.next=e),s.interleaved=e,zi(n,t)}function Pg(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,Nb(n,t)}}function GA(n,e){var t=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var r=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?r=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?r=i=e:i=i.next=e}else r=i=e;t={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function km(n,e,t,s){var r=n.updateQueue;io=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;o=0,d=u=c=null,a=i;do{var f=a.lane,p=a.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,g=a;switch(f=e,p=t,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=Qe({},h,f);break e;case 2:io=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);rc|=o,n.lanes=o,n.memoizedState=h}}function XA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var s=n[e],r=s.callback;if(r!==null){if(s.callback=null,s=t,typeof r!="function")throw Error(z(191,r));r.call(s)}}}var Mp={},$r=xa(Mp),Ih=xa(Mp),Dh=xa(Mp);function Fa(n){if(n===Mp)throw Error(z(174));return n}function Yb(n,e){switch(Ie(Dh,e),Ie(Ih,n),Ie($r,Mp),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:o0(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=o0(e,n)}je($r),Ie($r,e)}function pd(){je($r),je(Ih),je(Dh)}function aC(n){Fa(Dh.current);var e=Fa($r.current),t=o0(e,n.type);e!==t&&(Ie(Ih,n),Ie($r,t))}function Kb(n){Ih.current===n&&(je($r),je(Ih))}var Ye=xa(0);function Rm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pv=[];function Qb(){for(var n=0;n<Pv.length;n++)Pv[n]._workInProgressVersionPrimary=null;Pv.length=0}var kg=Xi.ReactCurrentDispatcher,kv=Xi.ReactCurrentBatchConfig,sc=0,Ke=null,mt=null,kt=null,Lm=!1,yh=!1,Oh=0,gM=0;function Wt(){throw Error(z(321))}function Jb(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!tr(n[t],e[t]))return!1;return!0}function Zb(n,e,t,s,r,i){if(sc=i,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kg.current=n===null||n.memoizedState===null?wM:bM,n=t(s,r),yh){i=0;do{if(yh=!1,Oh=0,25<=i)throw Error(z(301));i+=1,kt=mt=null,e.updateQueue=null,kg.current=xM,n=t(s,r)}while(yh)}if(kg.current=Mm,e=mt!==null&&mt.next!==null,sc=0,kt=mt=Ke=null,Lm=!1,e)throw Error(z(300));return n}function ex(){var n=Oh!==0;return Oh=0,n}function gr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ke.memoizedState=kt=n:kt=kt.next=n,kt}function Cs(){if(mt===null){var n=Ke.alternate;n=n!==null?n.memoizedState:null}else n=mt.next;var e=kt===null?Ke.memoizedState:kt.next;if(e!==null)kt=e,mt=n;else{if(n===null)throw Error(z(310));mt=n,n={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},kt===null?Ke.memoizedState=kt=n:kt=kt.next=n}return kt}function Fh(n,e){return typeof e=="function"?e(n):e}function Rv(n){var e=Cs(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var s=mt,r=s.baseQueue,i=t.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,t.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((sc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:n(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=s):c=c.next=h,Ke.lanes|=d,rc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=s:c.next=a,tr(s,e.memoizedState)||(Rn=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,t.lastRenderedState=s}if(n=t.interleaved,n!==null){r=n;do i=r.lane,Ke.lanes|=i,rc|=i,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Lv(n){var e=Cs(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var s=t.dispatch,r=t.pending,i=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do i=n(i,o.action),o=o.next;while(o!==r);tr(i,e.memoizedState)||(Rn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,s]}function lC(){}function cC(n,e){var t=Ke,s=Cs(),r=e(),i=!tr(s.memoizedState,r);if(i&&(s.memoizedState=r,Rn=!0),s=s.queue,tx(hC.bind(null,t,s,n),[n]),s.getSnapshot!==e||i||kt!==null&&kt.memoizedState.tag&1){if(t.flags|=2048,jh(9,dC.bind(null,t,s,r,e),void 0,null),Rt===null)throw Error(z(349));sc&30||uC(t,e,r)}return r}function uC(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function dC(n,e,t,s){e.value=t,e.getSnapshot=s,fC(e)&&pC(n)}function hC(n,e,t){return t(function(){fC(e)&&pC(n)})}function fC(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!tr(n,t)}catch{return!0}}function pC(n){var e=zi(n,1);e!==null&&er(e,n,1,-1)}function qA(n){var e=gr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fh,lastRenderedState:n},e.queue=n,n=n.dispatch=vM.bind(null,Ke,n),[e.memoizedState,n]}function jh(n,e,t,s){return n={tag:n,create:e,destroy:t,deps:s,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(s=t.next,t.next=n,n.next=s,e.lastEffect=n)),n}function gC(){return Cs().memoizedState}function Rg(n,e,t,s){var r=gr();Ke.flags|=n,r.memoizedState=jh(1|e,t,void 0,s===void 0?null:s)}function Py(n,e,t,s){var r=Cs();s=s===void 0?null:s;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,s!==null&&Jb(s,o.deps)){r.memoizedState=jh(e,t,i,s);return}}Ke.flags|=n,r.memoizedState=jh(1|e,t,i,s)}function YA(n,e){return Rg(8390656,8,n,e)}function tx(n,e){return Py(2048,8,n,e)}function mC(n,e){return Py(4,2,n,e)}function yC(n,e){return Py(4,4,n,e)}function vC(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function wC(n,e,t){return t=t!=null?t.concat([n]):null,Py(4,4,vC.bind(null,e,n),t)}function nx(){}function bC(n,e){var t=Cs();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Jb(e,s[1])?s[0]:(t.memoizedState=[n,e],n)}function xC(n,e){var t=Cs();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Jb(e,s[1])?s[0]:(n=n(),t.memoizedState=[n,e],n)}function AC(n,e,t){return sc&21?(tr(t,e)||(t=T1(),Ke.lanes|=t,rc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Rn=!0),n.memoizedState=t)}function mM(n,e){var t=_e;_e=t!==0&&4>t?t:4,n(!0);var s=kv.transition;kv.transition={};try{n(!1),e()}finally{_e=t,kv.transition=s}}function EC(){return Cs().memoizedState}function yM(n,e,t){var s=aa(n);if(t={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null},SC(n))CC(e,t);else if(t=iC(n,e,t,s),t!==null){var r=yn();er(t,n,s,r),_C(t,e,s)}}function vM(n,e,t){var s=aa(n),r={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null};if(SC(n))CC(e,r);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,t);if(r.hasEagerState=!0,r.eagerState=a,tr(a,o)){var c=e.interleaved;c===null?(r.next=r,Xb(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}t=iC(n,e,r,s),t!==null&&(r=yn(),er(t,n,s,r),_C(t,e,s))}}function SC(n){var e=n.alternate;return n===Ke||e!==null&&e===Ke}function CC(n,e){yh=Lm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function _C(n,e,t){if(t&4194240){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,Nb(n,t)}}var Mm={readContext:Ss,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},wM={readContext:Ss,useCallback:function(n,e){return gr().memoizedState=[n,e===void 0?null:e],n},useContext:Ss,useEffect:YA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Rg(4194308,4,vC.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Rg(4194308,4,n,e)},useInsertionEffect:function(n,e){return Rg(4,2,n,e)},useMemo:function(n,e){var t=gr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var s=gr();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},s.queue=n,n=n.dispatch=yM.bind(null,Ke,n),[s.memoizedState,n]},useRef:function(n){var e=gr();return n={current:n},e.memoizedState=n},useState:qA,useDebugValue:nx,useDeferredValue:function(n){return gr().memoizedState=n},useTransition:function(){var n=qA(!1),e=n[0];return n=mM.bind(null,n[1]),gr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var s=Ke,r=gr();if(Ve){if(t===void 0)throw Error(z(407));t=t()}else{if(t=e(),Rt===null)throw Error(z(349));sc&30||uC(s,e,t)}r.memoizedState=t;var i={value:t,getSnapshot:e};return r.queue=i,YA(hC.bind(null,s,i,n),[n]),s.flags|=2048,jh(9,dC.bind(null,s,i,t,e),void 0,null),t},useId:function(){var n=gr(),e=Rt.identifierPrefix;if(Ve){var t=Ii,s=Ni;t=(s&~(1<<32-Zs(s)-1)).toString(32)+t,e=":"+e+"R"+t,t=Oh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=gM++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},bM={readContext:Ss,useCallback:bC,useContext:Ss,useEffect:tx,useImperativeHandle:wC,useInsertionEffect:mC,useLayoutEffect:yC,useMemo:xC,useReducer:Rv,useRef:gC,useState:function(){return Rv(Fh)},useDebugValue:nx,useDeferredValue:function(n){var e=Cs();return AC(e,mt.memoizedState,n)},useTransition:function(){var n=Rv(Fh)[0],e=Cs().memoizedState;return[n,e]},useMutableSource:lC,useSyncExternalStore:cC,useId:EC,unstable_isNewReconciler:!1},xM={readContext:Ss,useCallback:bC,useContext:Ss,useEffect:tx,useImperativeHandle:wC,useInsertionEffect:mC,useLayoutEffect:yC,useMemo:xC,useReducer:Lv,useRef:gC,useState:function(){return Lv(Fh)},useDebugValue:nx,useDeferredValue:function(n){var e=Cs();return mt===null?e.memoizedState=n:AC(e,mt.memoizedState,n)},useTransition:function(){var n=Lv(Fh)[0],e=Cs().memoizedState;return[n,e]},useMutableSource:lC,useSyncExternalStore:cC,useId:EC,unstable_isNewReconciler:!1};function Is(n,e){if(n&&n.defaultProps){e=Qe({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function T0(n,e,t,s){e=n.memoizedState,t=t(s,e),t=t==null?e:Qe({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ky={isMounted:function(n){return(n=n._reactInternals)?uc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var s=yn(),r=aa(n),i=Di(s,r);i.payload=e,t!=null&&(i.callback=t),e=ia(n,i,r),e!==null&&(er(e,n,r,s),Pg(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var s=yn(),r=aa(n),i=Di(s,r);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=ia(n,i,r),e!==null&&(er(e,n,r,s),Pg(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=yn(),s=aa(n),r=Di(t,s);r.tag=2,e!=null&&(r.callback=e),e=ia(n,r,s),e!==null&&(er(e,n,s,t),Pg(e,n,s))}};function KA(n,e,t,s,r,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!Rh(t,s)||!Rh(r,i):!0}function TC(n,e,t){var s=!1,r=ua,i=e.contextType;return typeof i=="object"&&i!==null?i=Ss(i):(r=Mn(e)?tc:nn.current,s=e.contextTypes,i=(s=s!=null)?dd(n,r):ua),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ky,n.stateNode=e,e._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=i),e}function QA(n,e,t,s){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==n&&ky.enqueueReplaceState(e,e.state,null)}function P0(n,e,t,s){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},qb(n);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Ss(i):(i=Mn(e)?tc:nn.current,r.context=dd(n,i)),r.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(T0(n,e,i,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ky.enqueueReplaceState(r,r.state,null),km(n,t,r,s),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function gd(n,e){try{var t="",s=e;do t+=YR(s),s=s.return;while(s);var r=t}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:r,digest:null}}function Mv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function k0(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var AM=typeof WeakMap=="function"?WeakMap:Map;function PC(n,e,t){t=Di(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){Im||(Im=!0,B0=s),k0(n,e)},t}function kC(n,e,t){t=Di(-1,t),t.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;t.payload=function(){return s(r)},t.callback=function(){k0(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){k0(n,e),typeof s!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function JA(n,e,t){var s=n.pingCache;if(s===null){s=n.pingCache=new AM;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(t)||(r.add(t),n=OM.bind(null,n,e,t),e.then(n,n))}function ZA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function eE(n,e,t,s,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Di(-1,1),e.tag=2,ia(t,e,1))),t.lanes|=1),n)}var EM=Xi.ReactCurrentOwner,Rn=!1;function fn(n,e,t,s){e.child=n===null?rC(e,null,t,s):fd(e,n.child,t,s)}function tE(n,e,t,s,r){t=t.render;var i=e.ref;return Hc(e,r),s=Zb(n,e,t,s,i,r),t=ex(),n!==null&&!Rn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,$i(n,e,r)):(Ve&&t&&$b(e),e.flags|=1,fn(n,e,s,r),e.child)}function nE(n,e,t,s,r){if(n===null){var i=t.type;return typeof i=="function"&&!ux(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,RC(n,e,i,s,r)):(n=Ig(t.type,null,s,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&r)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:Rh,t(o,s)&&n.ref===e.ref)return $i(n,e,r)}return e.flags|=1,n=la(i,s),n.ref=e.ref,n.return=e,e.child=n}function RC(n,e,t,s,r){if(n!==null){var i=n.memoizedProps;if(Rh(i,s)&&n.ref===e.ref)if(Rn=!1,e.pendingProps=s=i,(n.lanes&r)!==0)n.flags&131072&&(Rn=!0);else return e.lanes=n.lanes,$i(n,e,r)}return R0(n,e,t,s,r)}function LC(n,e,t){var s=e.pendingProps,r=s.children,i=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Ic,Qn),Qn|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ie(Ic,Qn),Qn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:t,Ie(Ic,Qn),Qn|=s}else i!==null?(s=i.baseLanes|t,e.memoizedState=null):s=t,Ie(Ic,Qn),Qn|=s;return fn(n,e,r,t),e.child}function MC(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function R0(n,e,t,s,r){var i=Mn(t)?tc:nn.current;return i=dd(e,i),Hc(e,r),t=Zb(n,e,t,s,i,r),s=ex(),n!==null&&!Rn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,$i(n,e,r)):(Ve&&s&&$b(e),e.flags|=1,fn(n,e,t,r),e.child)}function sE(n,e,t,s,r){if(Mn(t)){var i=!0;Sm(e)}else i=!1;if(Hc(e,r),e.stateNode===null)Lg(n,e),TC(e,t,s),P0(e,t,s,r),s=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Ss(u):(u=Mn(t)?tc:nn.current,u=dd(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&QA(e,o,s,u),io=!1;var f=e.memoizedState;o.state=f,km(e,s,o,r),c=e.memoizedState,a!==s||f!==c||Ln.current||io?(typeof d=="function"&&(T0(e,t,d,s),c=e.memoizedState),(a=io||KA(e,t,a,s,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,oC(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Is(e.type,a),o.props=u,h=e.pendingProps,f=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=Ss(c):(c=Mn(t)?tc:nn.current,c=dd(e,c));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&QA(e,o,s,c),io=!1,f=e.memoizedState,o.state=f,km(e,s,o,r);var y=e.memoizedState;a!==h||f!==y||Ln.current||io?(typeof p=="function"&&(T0(e,t,p,s),y=e.memoizedState),(u=io||KA(e,t,u,s,f,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),o.props=s,o.state=y,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),s=!1)}return L0(n,e,t,s,i,r)}function L0(n,e,t,s,r,i){MC(n,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&HA(e,t,!1),$i(n,e,i);s=e.stateNode,EM.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,n!==null&&o?(e.child=fd(e,n.child,null,i),e.child=fd(e,null,a,i)):fn(n,e,a,i),e.memoizedState=s.state,r&&HA(e,t,!0),e.child}function NC(n){var e=n.stateNode;e.pendingContext?$A(n,e.pendingContext,e.pendingContext!==e.context):e.context&&$A(n,e.context,!1),Yb(n,e.containerInfo)}function rE(n,e,t,s,r){return hd(),Ub(r),e.flags|=256,fn(n,e,t,s),e.child}var M0={dehydrated:null,treeContext:null,retryLane:0};function N0(n){return{baseLanes:n,cachePool:null,transitions:null}}function IC(n,e,t){var s=e.pendingProps,r=Ye.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Ie(Ye,r&1),n===null)return C0(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,n=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=My(o,s,0,null),n=Zl(n,s,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=N0(t),e.memoizedState=M0,n):sx(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return SM(n,e,o,s,a,r,t);if(i){i=s.fallback,o=e.mode,r=n.child,a=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=la(r,c),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=la(a,i):(i=Zl(i,o,t,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=n.child.memoizedState,o=o===null?N0(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~t,e.memoizedState=M0,s}return i=n.child,n=i.sibling,s=la(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=t),s.return=e,s.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=s,e.memoizedState=null,s}function sx(n,e){return e=My({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ag(n,e,t,s){return s!==null&&Ub(s),fd(e,n.child,null,t),n=sx(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function SM(n,e,t,s,r,i,o){if(t)return e.flags&256?(e.flags&=-257,s=Mv(Error(z(422))),ag(n,e,o,s)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=My({mode:"visible",children:s.children},r,0,null),i=Zl(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&fd(e,n.child,null,o),e.child.memoizedState=N0(o),e.memoizedState=M0,i);if(!(e.mode&1))return ag(n,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(z(419)),s=Mv(i,s,void 0),ag(n,e,o,s)}if(a=(o&n.childLanes)!==0,Rn||a){if(s=Rt,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,zi(n,r),er(s,n,r,-1))}return cx(),s=Mv(Error(z(421))),ag(n,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=FM.bind(null,n),r._reactRetry=e,null):(n=i.treeContext,ts=ra(r.nextSibling),ns=e,Ve=!0,Qs=null,n!==null&&(ys[vs++]=Ni,ys[vs++]=Ii,ys[vs++]=nc,Ni=n.id,Ii=n.overflow,nc=e),e=sx(e,s.children),e.flags|=4096,e)}function iE(n,e,t){n.lanes|=e;var s=n.alternate;s!==null&&(s.lanes|=e),_0(n.return,e,t)}function Nv(n,e,t,s,r){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=t,i.tailMode=r)}function DC(n,e,t){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(fn(n,e,s.children,t),s=Ye.current,s&2)s=s&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&iE(n,t,e);else if(n.tag===19)iE(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(Ie(Ye,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Rm(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Nv(e,!1,r,t,i);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Rm(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Nv(e,!0,t,null,i);break;case"together":Nv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function $i(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),rc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(z(153));if(e.child!==null){for(n=e.child,t=la(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=la(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function CM(n,e,t){switch(e.tag){case 3:NC(e),hd();break;case 5:aC(e);break;case 1:Mn(e.type)&&Sm(e);break;case 4:Yb(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Ie(Tm,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Ie(Ye,Ye.current&1),e.flags|=128,null):t&e.child.childLanes?IC(n,e,t):(Ie(Ye,Ye.current&1),n=$i(n,e,t),n!==null?n.sibling:null);Ie(Ye,Ye.current&1);break;case 19:if(s=(t&e.childLanes)!==0,n.flags&128){if(s)return DC(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ie(Ye,Ye.current),s)break;return null;case 22:case 23:return e.lanes=0,LC(n,e,t)}return $i(n,e,t)}var OC,I0,FC,jC;OC=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};I0=function(){};FC=function(n,e,t,s){var r=n.memoizedProps;if(r!==s){n=e.stateNode,Fa($r.current);var i=null;switch(t){case"input":r=n0(n,r),s=n0(n,s),i=[];break;case"select":r=Qe({},r,{value:void 0}),s=Qe({},s,{value:void 0}),i=[];break;case"textarea":r=i0(n,r),s=i0(n,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=Am)}a0(t,s);var o;t=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(a=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(i||(i=[]),i.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Fe("scroll",n),i||a===c||(i=[])):(i=i||[]).push(u,c))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};jC=function(n,e,t,s){t!==s&&(e.flags|=4)};function Dd(n,e){if(!Ve)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function Gt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,s=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=s,n.childLanes=t,e}function _M(n,e,t){var s=e.pendingProps;switch(Hb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return Mn(e.type)&&Em(),Gt(e),null;case 3:return s=e.stateNode,pd(),je(Ln),je(nn),Qb(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(ig(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qs!==null&&(H0(Qs),Qs=null))),I0(n,e),Gt(e),null;case 5:Kb(e);var r=Fa(Dh.current);if(t=e.type,n!==null&&e.stateNode!=null)FC(n,e,t,s,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(z(166));return Gt(e),null}if(n=Fa($r.current),ig(e)){s=e.stateNode,t=e.type;var i=e.memoizedProps;switch(s[Or]=e,s[Nh]=i,n=(e.mode&1)!==0,t){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(r=0;r<Gd.length;r++)Fe(Gd[r],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":pA(s,i),Fe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",s);break;case"textarea":mA(s,i),Fe("invalid",s)}a0(t,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&rg(s.textContent,a,n),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&rg(s.textContent,a,n),r=["children",""+a]):Eh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",s)}switch(t){case"input":Kp(s),gA(s,i,!0);break;case"textarea":Kp(s),yA(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Am)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=h1(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=o.createElement(t,{is:s.is}):(n=o.createElement(t),t==="select"&&(o=n,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):n=o.createElementNS(n,t),n[Or]=e,n[Nh]=s,OC(n,e,!1,!1),e.stateNode=n;e:{switch(o=l0(t,s),t){case"dialog":Fe("cancel",n),Fe("close",n),r=s;break;case"iframe":case"object":case"embed":Fe("load",n),r=s;break;case"video":case"audio":for(r=0;r<Gd.length;r++)Fe(Gd[r],n);r=s;break;case"source":Fe("error",n),r=s;break;case"img":case"image":case"link":Fe("error",n),Fe("load",n),r=s;break;case"details":Fe("toggle",n),r=s;break;case"input":pA(n,s),r=n0(n,s),Fe("invalid",n);break;case"option":r=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},r=Qe({},s,{value:void 0}),Fe("invalid",n);break;case"textarea":mA(n,s),r=i0(n,s),Fe("invalid",n);break;default:r=s}a0(t,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?g1(n,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&f1(n,c)):i==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Sh(n,c):typeof c=="number"&&Sh(n,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Eh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Fe("scroll",n):c!=null&&Tb(n,i,c,o))}switch(t){case"input":Kp(n),gA(n,s,!1);break;case"textarea":Kp(n),yA(n);break;case"option":s.value!=null&&n.setAttribute("value",""+ca(s.value));break;case"select":n.multiple=!!s.multiple,i=s.value,i!=null?jc(n,!!s.multiple,i,!1):s.defaultValue!=null&&jc(n,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Am)}switch(t){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(n&&e.stateNode!=null)jC(n,e,n.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(z(166));if(t=Fa(Dh.current),Fa($r.current),ig(e)){if(s=e.stateNode,t=e.memoizedProps,s[Or]=e,(i=s.nodeValue!==t)&&(n=ns,n!==null))switch(n.tag){case 3:rg(s.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&rg(s.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[Or]=e,e.stateNode=s}return Gt(e),null;case 13:if(je(Ye),s=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ve&&ts!==null&&e.mode&1&&!(e.flags&128))nC(),hd(),e.flags|=98560,i=!1;else if(i=ig(e),s!==null&&s.dehydrated!==null){if(n===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Or]=e}else hd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),i=!1}else Qs!==null&&(H0(Qs),Qs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(n===null||Ye.current&1?vt===0&&(vt=3):cx())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return pd(),I0(n,e),n===null&&Lh(e.stateNode.containerInfo),Gt(e),null;case 10:return Gb(e.type._context),Gt(e),null;case 17:return Mn(e.type)&&Em(),Gt(e),null;case 19:if(je(Ye),i=e.memoizedState,i===null)return Gt(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Dd(i,!1);else{if(vt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Rm(n),o!==null){for(e.flags|=128,Dd(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=t,t=e.child;t!==null;)i=t,n=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ie(Ye,Ye.current&1|2),e.child}n=n.sibling}i.tail!==null&&ot()>md&&(e.flags|=128,s=!0,Dd(i,!1),e.lanes=4194304)}else{if(!s)if(n=Rm(o),n!==null){if(e.flags|=128,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Dd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ve)return Gt(e),null}else 2*ot()-i.renderingStartTime>md&&t!==1073741824&&(e.flags|=128,s=!0,Dd(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ot(),e.sibling=null,t=Ye.current,Ie(Ye,s?t&1|2:t&1),e):(Gt(e),null);case 22:case 23:return lx(),s=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Qn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function TM(n,e){switch(Hb(e),e.tag){case 1:return Mn(e.type)&&Em(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return pd(),je(Ln),je(nn),Qb(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Kb(e),null;case 13:if(je(Ye),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(z(340));hd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return je(Ye),null;case 4:return pd(),null;case 10:return Gb(e.type._context),null;case 22:case 23:return lx(),null;case 24:return null;default:return null}}var lg=!1,en=!1,PM=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Nc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(s){tt(n,e,s)}else t.current=null}function D0(n,e,t){try{t()}catch(s){tt(n,e,s)}}var oE=!1;function kM(n,e){if(v0=wm,n=U1(),zb(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===r&&(a=o),f===i&&++d===s&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=a===-1||c===-1?null:{start:a,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(w0={focusedElem:n,selectionRange:t},wm=!1,Y=e;Y!==null;)if(e=Y,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Y=n;else for(;Y!==null;){e=Y;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,m=e.stateNode,w=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:Is(e.type,g),b);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(S){tt(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}return y=oE,oE=!1,y}function vh(n,e,t){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&n)===n){var i=r.destroy;r.destroy=void 0,i!==void 0&&D0(e,t,i)}r=r.next}while(r!==s)}}function Ry(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}}function O0(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function BC(n){var e=n.alternate;e!==null&&(n.alternate=null,BC(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Or],delete e[Nh],delete e[A0],delete e[dM],delete e[hM])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function zC(n){return n.tag===5||n.tag===3||n.tag===4}function aE(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||zC(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function F0(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Am));else if(s!==4&&(n=n.child,n!==null))for(F0(n,e,t),n=n.sibling;n!==null;)F0(n,e,t),n=n.sibling}function j0(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(j0(n,e,t),n=n.sibling;n!==null;)j0(n,e,t),n=n.sibling}var Bt=null,Ks=!1;function Zi(n,e,t){for(t=t.child;t!==null;)$C(n,e,t),t=t.sibling}function $C(n,e,t){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(Ay,t)}catch{}switch(t.tag){case 5:en||Nc(t,e);case 6:var s=Bt,r=Ks;Bt=null,Zi(n,e,t),Bt=s,Ks=r,Bt!==null&&(Ks?(n=Bt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Bt.removeChild(t.stateNode));break;case 18:Bt!==null&&(Ks?(n=Bt,t=t.stateNode,n.nodeType===8?_v(n.parentNode,t):n.nodeType===1&&_v(n,t),Ph(n)):_v(Bt,t.stateNode));break;case 4:s=Bt,r=Ks,Bt=t.stateNode.containerInfo,Ks=!0,Zi(n,e,t),Bt=s,Ks=r;break;case 0:case 11:case 14:case 15:if(!en&&(s=t.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&D0(t,e,o),r=r.next}while(r!==s)}Zi(n,e,t);break;case 1:if(!en&&(Nc(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(a){tt(t,e,a)}Zi(n,e,t);break;case 21:Zi(n,e,t);break;case 22:t.mode&1?(en=(s=en)||t.memoizedState!==null,Zi(n,e,t),en=s):Zi(n,e,t);break;default:Zi(n,e,t)}}function lE(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new PM),e.forEach(function(s){var r=jM.bind(null,n,s);t.has(s)||(t.add(s),s.then(r,r))})}}function Ls(n,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var r=t[s];try{var i=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,Ks=!1;break e;case 3:Bt=a.stateNode.containerInfo,Ks=!0;break e;case 4:Bt=a.stateNode.containerInfo,Ks=!0;break e}a=a.return}if(Bt===null)throw Error(z(160));$C(i,o,r),Bt=null,Ks=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){tt(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HC(e,n),e=e.sibling}function HC(n,e){var t=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ls(e,n),dr(n),s&4){try{vh(3,n,n.return),Ry(3,n)}catch(g){tt(n,n.return,g)}try{vh(5,n,n.return)}catch(g){tt(n,n.return,g)}}break;case 1:Ls(e,n),dr(n),s&512&&t!==null&&Nc(t,t.return);break;case 5:if(Ls(e,n),dr(n),s&512&&t!==null&&Nc(t,t.return),n.flags&32){var r=n.stateNode;try{Sh(r,"")}catch(g){tt(n,n.return,g)}}if(s&4&&(r=n.stateNode,r!=null)){var i=n.memoizedProps,o=t!==null?t.memoizedProps:i,a=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&u1(r,i),l0(a,o);var u=l0(a,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?g1(r,h):d==="dangerouslySetInnerHTML"?f1(r,h):d==="children"?Sh(r,h):Tb(r,d,h,u)}switch(a){case"input":s0(r,i);break;case"textarea":d1(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?jc(r,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?jc(r,!!i.multiple,i.defaultValue,!0):jc(r,!!i.multiple,i.multiple?[]:"",!1))}r[Nh]=i}catch(g){tt(n,n.return,g)}}break;case 6:if(Ls(e,n),dr(n),s&4){if(n.stateNode===null)throw Error(z(162));r=n.stateNode,i=n.memoizedProps;try{r.nodeValue=i}catch(g){tt(n,n.return,g)}}break;case 3:if(Ls(e,n),dr(n),s&4&&t!==null&&t.memoizedState.isDehydrated)try{Ph(e.containerInfo)}catch(g){tt(n,n.return,g)}break;case 4:Ls(e,n),dr(n);break;case 13:Ls(e,n),dr(n),r=n.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(ox=ot())),s&4&&lE(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(en=(u=en)||d,Ls(e,n),en=u):Ls(e,n),dr(n),s&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(Y=n,d=n.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,p=f.child,f.tag){case 0:case 11:case 14:case 15:vh(4,f,f.return);break;case 1:Nc(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){s=f,t=f.return;try{e=s,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){tt(s,t,g)}}break;case 5:Nc(f,f.return);break;case 22:if(f.memoizedState!==null){uE(h);continue}}p!==null?(p.return=f,Y=p):uE(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=p1("display",o))}catch(g){tt(n,n.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){tt(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ls(e,n),dr(n),s&4&&lE(n);break;case 21:break;default:Ls(e,n),dr(n)}}function dr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(zC(t)){var s=t;break e}t=t.return}throw Error(z(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Sh(r,""),s.flags&=-33);var i=aE(n);j0(n,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=aE(n);F0(n,a,o);break;default:throw Error(z(161))}}catch(c){tt(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function RM(n,e,t){Y=n,UC(n)}function UC(n,e,t){for(var s=(n.mode&1)!==0;Y!==null;){var r=Y,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||lg;if(!o){var a=r.alternate,c=a!==null&&a.memoizedState!==null||en;a=lg;var u=en;if(lg=o,(en=c)&&!u)for(Y=r;Y!==null;)o=Y,c=o.child,o.tag===22&&o.memoizedState!==null?dE(r):c!==null?(c.return=o,Y=c):dE(r);for(;i!==null;)Y=i,UC(i),i=i.sibling;Y=r,lg=a,en=u}cE(n)}else r.subtreeFlags&8772&&i!==null?(i.return=r,Y=i):cE(n)}}function cE(n){for(;Y!==null;){var e=Y;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||Ry(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!en)if(t===null)s.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Is(e.type,t.memoizedProps);s.componentDidUpdate(r,t.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&XA(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}XA(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ph(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}en||e.flags&512&&O0(e)}catch(f){tt(e,e.return,f)}}if(e===n){Y=null;break}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}}function uE(n){for(;Y!==null;){var e=Y;if(e===n){Y=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Y=t;break}Y=e.return}}function dE(n){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Ry(4,e)}catch(c){tt(e,t,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){tt(e,r,c)}}var i=e.return;try{O0(e)}catch(c){tt(e,i,c)}break;case 5:var o=e.return;try{O0(e)}catch(c){tt(e,o,c)}}}catch(c){tt(e,e.return,c)}if(e===n){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var LM=Math.ceil,Nm=Xi.ReactCurrentDispatcher,rx=Xi.ReactCurrentOwner,As=Xi.ReactCurrentBatchConfig,ye=0,Rt=null,ut=null,Ht=0,Qn=0,Ic=xa(0),vt=0,Bh=null,rc=0,Ly=0,ix=0,wh=null,kn=null,ox=0,md=1/0,Jr=null,Im=!1,B0=null,oa=null,cg=!1,Zo=null,Dm=0,bh=0,z0=null,Mg=-1,Ng=0;function yn(){return ye&6?ot():Mg!==-1?Mg:Mg=ot()}function aa(n){return n.mode&1?ye&2&&Ht!==0?Ht&-Ht:pM.transition!==null?(Ng===0&&(Ng=T1()),Ng):(n=_e,n!==0||(n=window.event,n=n===void 0?16:I1(n.type)),n):1}function er(n,e,t,s){if(50<bh)throw bh=0,z0=null,Error(z(185));kp(n,t,s),(!(ye&2)||n!==Rt)&&(n===Rt&&(!(ye&2)&&(Ly|=t),vt===4&&lo(n,Ht)),Nn(n,s),t===1&&ye===0&&!(e.mode&1)&&(md=ot()+500,Ty&&Aa()))}function Nn(n,e){var t=n.callbackNode;pL(n,e);var s=vm(n,n===Rt?Ht:0);if(s===0)t!==null&&bA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=s&-s,n.callbackPriority!==e){if(t!=null&&bA(t),e===1)n.tag===0?fM(hE.bind(null,n)):Z1(hE.bind(null,n)),cM(function(){!(ye&6)&&Aa()}),t=null;else{switch(P1(s)){case 1:t=Mb;break;case 4:t=C1;break;case 16:t=ym;break;case 536870912:t=_1;break;default:t=ym}t=QC(t,VC.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function VC(n,e){if(Mg=-1,Ng=0,ye&6)throw Error(z(327));var t=n.callbackNode;if(Uc()&&n.callbackNode!==t)return null;var s=vm(n,n===Rt?Ht:0);if(s===0)return null;if(s&30||s&n.expiredLanes||e)e=Om(n,s);else{e=s;var r=ye;ye|=2;var i=GC();(Rt!==n||Ht!==e)&&(Jr=null,md=ot()+500,Jl(n,e));do try{IM();break}catch(a){WC(n,a)}while(!0);Wb(),Nm.current=i,ye=r,ut!==null?e=0:(Rt=null,Ht=0,e=vt)}if(e!==0){if(e===2&&(r=f0(n),r!==0&&(s=r,e=$0(n,r))),e===1)throw t=Bh,Jl(n,0),lo(n,s),Nn(n,ot()),t;if(e===6)lo(n,s);else{if(r=n.current.alternate,!(s&30)&&!MM(r)&&(e=Om(n,s),e===2&&(i=f0(n),i!==0&&(s=i,e=$0(n,i))),e===1))throw t=Bh,Jl(n,0),lo(n,s),Nn(n,ot()),t;switch(n.finishedWork=r,n.finishedLanes=s,e){case 0:case 1:throw Error(z(345));case 2:_a(n,kn,Jr);break;case 3:if(lo(n,s),(s&130023424)===s&&(e=ox+500-ot(),10<e)){if(vm(n,0)!==0)break;if(r=n.suspendedLanes,(r&s)!==s){yn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=x0(_a.bind(null,n,kn,Jr),e);break}_a(n,kn,Jr);break;case 4:if(lo(n,s),(s&4194240)===s)break;for(e=n.eventTimes,r=-1;0<s;){var o=31-Zs(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=ot()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*LM(s/1960))-s,10<s){n.timeoutHandle=x0(_a.bind(null,n,kn,Jr),s);break}_a(n,kn,Jr);break;case 5:_a(n,kn,Jr);break;default:throw Error(z(329))}}}return Nn(n,ot()),n.callbackNode===t?VC.bind(null,n):null}function $0(n,e){var t=wh;return n.current.memoizedState.isDehydrated&&(Jl(n,e).flags|=256),n=Om(n,e),n!==2&&(e=kn,kn=t,e!==null&&H0(e)),n}function H0(n){kn===null?kn=n:kn.push.apply(kn,n)}function MM(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var s=0;s<t.length;s++){var r=t[s],i=r.getSnapshot;r=r.value;try{if(!tr(i(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lo(n,e){for(e&=~ix,e&=~Ly,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Zs(e),s=1<<t;n[t]=-1,e&=~s}}function hE(n){if(ye&6)throw Error(z(327));Uc();var e=vm(n,0);if(!(e&1))return Nn(n,ot()),null;var t=Om(n,e);if(n.tag!==0&&t===2){var s=f0(n);s!==0&&(e=s,t=$0(n,s))}if(t===1)throw t=Bh,Jl(n,0),lo(n,e),Nn(n,ot()),t;if(t===6)throw Error(z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,_a(n,kn,Jr),Nn(n,ot()),null}function ax(n,e){var t=ye;ye|=1;try{return n(e)}finally{ye=t,ye===0&&(md=ot()+500,Ty&&Aa())}}function ic(n){Zo!==null&&Zo.tag===0&&!(ye&6)&&Uc();var e=ye;ye|=1;var t=As.transition,s=_e;try{if(As.transition=null,_e=1,n)return n()}finally{_e=s,As.transition=t,ye=e,!(ye&6)&&Aa()}}function lx(){Qn=Ic.current,je(Ic)}function Jl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,lM(t)),ut!==null)for(t=ut.return;t!==null;){var s=t;switch(Hb(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Em();break;case 3:pd(),je(Ln),je(nn),Qb();break;case 5:Kb(s);break;case 4:pd();break;case 13:je(Ye);break;case 19:je(Ye);break;case 10:Gb(s.type._context);break;case 22:case 23:lx()}t=t.return}if(Rt=n,ut=n=la(n.current,null),Ht=Qn=e,vt=0,Bh=null,ix=Ly=rc=0,kn=wh=null,Oa!==null){for(e=0;e<Oa.length;e++)if(t=Oa[e],s=t.interleaved,s!==null){t.interleaved=null;var r=s.next,i=t.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}t.pending=s}Oa=null}return n}function WC(n,e){do{var t=ut;try{if(Wb(),kg.current=Mm,Lm){for(var s=Ke.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Lm=!1}if(sc=0,kt=mt=Ke=null,yh=!1,Oh=0,rx.current=null,t===null||t.return===null){vt=1,Bh=e,ut=null;break}e:{var i=n,o=t.return,a=t,c=e;if(e=Ht,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ZA(o);if(p!==null){p.flags&=-257,eE(p,o,a,i,e),p.mode&1&&JA(i,u,e),e=p,c=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(c),e.updateQueue=g}else y.add(c);break e}else{if(!(e&1)){JA(i,u,e),cx();break e}c=Error(z(426))}}else if(Ve&&a.mode&1){var b=ZA(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),eE(b,o,a,i,e),Ub(gd(c,a));break e}}i=c=gd(c,a),vt!==4&&(vt=2),wh===null?wh=[i]:wh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=PC(i,c,e);GA(i,m);break e;case 1:a=c;var w=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(oa===null||!oa.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=kC(i,a,e);GA(i,S);break e}}i=i.return}while(i!==null)}qC(t)}catch(C){e=C,ut===t&&t!==null&&(ut=t=t.return);continue}break}while(!0)}function GC(){var n=Nm.current;return Nm.current=Mm,n===null?Mm:n}function cx(){(vt===0||vt===3||vt===2)&&(vt=4),Rt===null||!(rc&268435455)&&!(Ly&268435455)||lo(Rt,Ht)}function Om(n,e){var t=ye;ye|=2;var s=GC();(Rt!==n||Ht!==e)&&(Jr=null,Jl(n,e));do try{NM();break}catch(r){WC(n,r)}while(!0);if(Wb(),ye=t,Nm.current=s,ut!==null)throw Error(z(261));return Rt=null,Ht=0,vt}function NM(){for(;ut!==null;)XC(ut)}function IM(){for(;ut!==null&&!iL();)XC(ut)}function XC(n){var e=KC(n.alternate,n,Qn);n.memoizedProps=n.pendingProps,e===null?qC(n):ut=e,rx.current=null}function qC(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=TM(t,e),t!==null){t.flags&=32767,ut=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vt=6,ut=null;return}}else if(t=_M(t,e,Qn),t!==null){ut=t;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=n}while(e!==null);vt===0&&(vt=5)}function _a(n,e,t){var s=_e,r=As.transition;try{As.transition=null,_e=1,DM(n,e,t,s)}finally{As.transition=r,_e=s}return null}function DM(n,e,t,s){do Uc();while(Zo!==null);if(ye&6)throw Error(z(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(z(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(gL(n,i),n===Rt&&(ut=Rt=null,Ht=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||cg||(cg=!0,QC(ym,function(){return Uc(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=As.transition,As.transition=null;var o=_e;_e=1;var a=ye;ye|=4,rx.current=null,kM(n,t),HC(t,n),tM(w0),wm=!!v0,w0=v0=null,n.current=t,RM(t),oL(),ye=a,_e=o,As.transition=i}else n.current=t;if(cg&&(cg=!1,Zo=n,Dm=r),i=n.pendingLanes,i===0&&(oa=null),cL(t.stateNode),Nn(n,ot()),e!==null)for(s=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],s(r.value,{componentStack:r.stack,digest:r.digest});if(Im)throw Im=!1,n=B0,B0=null,n;return Dm&1&&n.tag!==0&&Uc(),i=n.pendingLanes,i&1?n===z0?bh++:(bh=0,z0=n):bh=0,Aa(),null}function Uc(){if(Zo!==null){var n=P1(Dm),e=As.transition,t=_e;try{if(As.transition=null,_e=16>n?16:n,Zo===null)var s=!1;else{if(n=Zo,Zo=null,Dm=0,ye&6)throw Error(z(331));var r=ye;for(ye|=4,Y=n.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:vh(8,d,i)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,p=d.return;if(BC(d),d===u){Y=null;break}if(f!==null){f.return=p,Y=f;break}Y=p}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vh(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,Y=m;break e}Y=i.return}}var w=n.current;for(Y=w;Y!==null;){o=Y;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Y=x;else e:for(o=w;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ry(9,a)}}catch(C){tt(a,a.return,C)}if(a===o){Y=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Y=S;break e}Y=a.return}}if(ye=r,Aa(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(Ay,n)}catch{}s=!0}return s}finally{_e=t,As.transition=e}}return!1}function fE(n,e,t){e=gd(t,e),e=PC(n,e,1),n=ia(n,e,1),e=yn(),n!==null&&(kp(n,1,e),Nn(n,e))}function tt(n,e,t){if(n.tag===3)fE(n,n,t);else for(;e!==null;){if(e.tag===3){fE(e,n,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(oa===null||!oa.has(s))){n=gd(t,n),n=kC(e,n,1),e=ia(e,n,1),n=yn(),e!==null&&(kp(e,1,n),Nn(e,n));break}}e=e.return}}function OM(n,e,t){var s=n.pingCache;s!==null&&s.delete(e),e=yn(),n.pingedLanes|=n.suspendedLanes&t,Rt===n&&(Ht&t)===t&&(vt===4||vt===3&&(Ht&130023424)===Ht&&500>ot()-ox?Jl(n,0):ix|=t),Nn(n,e)}function YC(n,e){e===0&&(n.mode&1?(e=Zp,Zp<<=1,!(Zp&130023424)&&(Zp=4194304)):e=1);var t=yn();n=zi(n,e),n!==null&&(kp(n,e,t),Nn(n,t))}function FM(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),YC(n,t)}function jM(n,e){var t=0;switch(n.tag){case 13:var s=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(z(314))}s!==null&&s.delete(e),YC(n,t)}var KC;KC=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ln.current)Rn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Rn=!1,CM(n,e,t);Rn=!!(n.flags&131072)}else Rn=!1,Ve&&e.flags&1048576&&eC(e,_m,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Lg(n,e),n=e.pendingProps;var r=dd(e,nn.current);Hc(e,t),r=Zb(null,e,s,n,r,t);var i=ex();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mn(s)?(i=!0,Sm(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,qb(e),r.updater=ky,e.stateNode=r,r._reactInternals=e,P0(e,s,n,t),e=L0(null,e,s,!0,i,t)):(e.tag=0,Ve&&i&&$b(e),fn(null,e,r,t),e=e.child),e;case 16:s=e.elementType;e:{switch(Lg(n,e),n=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=zM(s),n=Is(s,n),r){case 0:e=R0(null,e,s,n,t);break e;case 1:e=sE(null,e,s,n,t);break e;case 11:e=tE(null,e,s,n,t);break e;case 14:e=nE(null,e,s,Is(s.type,n),t);break e}throw Error(z(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Is(s,r),R0(n,e,s,r,t);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Is(s,r),sE(n,e,s,r,t);case 3:e:{if(NC(e),n===null)throw Error(z(387));s=e.pendingProps,i=e.memoizedState,r=i.element,oC(n,e),km(e,s,null,t);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=gd(Error(z(423)),e),e=rE(n,e,s,t,r);break e}else if(s!==r){r=gd(Error(z(424)),e),e=rE(n,e,s,t,r);break e}else for(ts=ra(e.stateNode.containerInfo.firstChild),ns=e,Ve=!0,Qs=null,t=rC(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(hd(),s===r){e=$i(n,e,t);break e}fn(n,e,s,t)}e=e.child}return e;case 5:return aC(e),n===null&&C0(e),s=e.type,r=e.pendingProps,i=n!==null?n.memoizedProps:null,o=r.children,b0(s,r)?o=null:i!==null&&b0(s,i)&&(e.flags|=32),MC(n,e),fn(n,e,o,t),e.child;case 6:return n===null&&C0(e),null;case 13:return IC(n,e,t);case 4:return Yb(e,e.stateNode.containerInfo),s=e.pendingProps,n===null?e.child=fd(e,null,s,t):fn(n,e,s,t),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Is(s,r),tE(n,e,s,r,t);case 7:return fn(n,e,e.pendingProps,t),e.child;case 8:return fn(n,e,e.pendingProps.children,t),e.child;case 12:return fn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,Ie(Tm,s._currentValue),s._currentValue=o,i!==null)if(tr(i.value,o)){if(i.children===r.children&&!Ln.current){e=$i(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Di(-1,t&-t),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=t,c=i.alternate,c!==null&&(c.lanes|=t),_0(i.return,t,e),a.lanes|=t;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),_0(o,t,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}fn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Hc(e,t),r=Ss(r),s=s(r),e.flags|=1,fn(n,e,s,t),e.child;case 14:return s=e.type,r=Is(s,e.pendingProps),r=Is(s.type,r),nE(n,e,s,r,t);case 15:return RC(n,e,e.type,e.pendingProps,t);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Is(s,r),Lg(n,e),e.tag=1,Mn(s)?(n=!0,Sm(e)):n=!1,Hc(e,t),TC(e,s,r),P0(e,s,r,t),L0(null,e,s,!0,n,t);case 19:return DC(n,e,t);case 22:return LC(n,e,t)}throw Error(z(156,e.tag))};function QC(n,e){return S1(n,e)}function BM(n,e,t,s){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(n,e,t,s){return new BM(n,e,t,s)}function ux(n){return n=n.prototype,!(!n||!n.isReactComponent)}function zM(n){if(typeof n=="function")return ux(n)?1:0;if(n!=null){if(n=n.$$typeof,n===kb)return 11;if(n===Rb)return 14}return 2}function la(n,e){var t=n.alternate;return t===null?(t=xs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Ig(n,e,t,s,r,i){var o=2;if(s=n,typeof n=="function")ux(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Sc:return Zl(t.children,r,i,e);case Pb:o=8,r|=8;break;case Jv:return n=xs(12,t,e,r|2),n.elementType=Jv,n.lanes=i,n;case Zv:return n=xs(13,t,e,r),n.elementType=Zv,n.lanes=i,n;case e0:return n=xs(19,t,e,r),n.elementType=e0,n.lanes=i,n;case a1:return My(t,r,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case i1:o=10;break e;case o1:o=9;break e;case kb:o=11;break e;case Rb:o=14;break e;case ro:o=16,s=null;break e}throw Error(z(130,n==null?n:typeof n,""))}return e=xs(o,t,e,r),e.elementType=n,e.type=s,e.lanes=i,e}function Zl(n,e,t,s){return n=xs(7,n,s,e),n.lanes=t,n}function My(n,e,t,s){return n=xs(22,n,s,e),n.elementType=a1,n.lanes=t,n.stateNode={isHidden:!1},n}function Iv(n,e,t){return n=xs(6,n,null,e),n.lanes=t,n}function Dv(n,e,t){return e=xs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function $M(n,e,t,s,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gv(0),this.expirationTimes=gv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gv(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function dx(n,e,t,s,r,i,o,a,c){return n=new $M(n,e,t,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xs(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:s,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},qb(i),n}function HM(n,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ec,key:s==null?null:""+s,children:n,containerInfo:e,implementation:t}}function JC(n){if(!n)return ua;n=n._reactInternals;e:{if(uc(n)!==n||n.tag!==1)throw Error(z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(n.tag===1){var t=n.type;if(Mn(t))return J1(n,t,e)}return e}function ZC(n,e,t,s,r,i,o,a,c){return n=dx(t,s,!0,n,r,i,o,a,c),n.context=JC(null),t=n.current,s=yn(),r=aa(t),i=Di(s,r),i.callback=e??null,ia(t,i,r),n.current.lanes=r,kp(n,r,s),Nn(n,s),n}function Ny(n,e,t,s){var r=e.current,i=yn(),o=aa(r);return t=JC(t),e.context===null?e.context=t:e.pendingContext=t,e=Di(i,o),e.payload={element:n},s=s===void 0?null:s,s!==null&&(e.callback=s),n=ia(r,e,o),n!==null&&(er(n,r,o,i),Pg(n,r,o)),o}function Fm(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function pE(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function hx(n,e){pE(n,e),(n=n.alternate)&&pE(n,e)}function UM(){return null}var e_=typeof reportError=="function"?reportError:function(n){console.error(n)};function fx(n){this._internalRoot=n}Iy.prototype.render=fx.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(z(409));Ny(n,e,null,null)};Iy.prototype.unmount=fx.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ic(function(){Ny(null,n,null,null)}),e[Bi]=null}};function Iy(n){this._internalRoot=n}Iy.prototype.unstable_scheduleHydration=function(n){if(n){var e=L1();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ao.length&&e!==0&&e<ao[t].priority;t++);ao.splice(t,0,n),t===0&&N1(n)}};function px(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Dy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function gE(){}function VM(n,e,t,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=Fm(o);i.call(u)}}var o=ZC(e,s,n,0,null,!1,!1,"",gE);return n._reactRootContainer=o,n[Bi]=o.current,Lh(n.nodeType===8?n.parentNode:n),ic(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var u=Fm(c);a.call(u)}}var c=dx(n,0,!1,null,null,!1,!1,"",gE);return n._reactRootContainer=c,n[Bi]=c.current,Lh(n.nodeType===8?n.parentNode:n),ic(function(){Ny(e,c,t,s)}),c}function Oy(n,e,t,s,r){var i=t._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var c=Fm(o);a.call(c)}}Ny(e,o,n,r)}else o=VM(t,e,n,r,s);return Fm(o)}k1=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Wd(e.pendingLanes);t!==0&&(Nb(e,t|1),Nn(e,ot()),!(ye&6)&&(md=ot()+500,Aa()))}break;case 13:ic(function(){var s=zi(n,1);if(s!==null){var r=yn();er(s,n,1,r)}}),hx(n,1)}};Ib=function(n){if(n.tag===13){var e=zi(n,134217728);if(e!==null){var t=yn();er(e,n,134217728,t)}hx(n,134217728)}};R1=function(n){if(n.tag===13){var e=aa(n),t=zi(n,e);if(t!==null){var s=yn();er(t,n,e,s)}hx(n,e)}};L1=function(){return _e};M1=function(n,e){var t=_e;try{return _e=n,e()}finally{_e=t}};u0=function(n,e,t){switch(e){case"input":if(s0(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==n&&s.form===n.form){var r=_y(s);if(!r)throw Error(z(90));c1(s),s0(s,r)}}}break;case"textarea":d1(n,t);break;case"select":e=t.value,e!=null&&jc(n,!!t.multiple,e,!1)}};v1=ax;w1=ic;var WM={usingClientEntryPoint:!1,Events:[Lp,Pc,_y,m1,y1,ax]},Od={findFiberByHostInstance:Da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GM={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=A1(n),n===null?null:n.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance||UM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ug=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ug.isDisabled&&ug.supportsFiber)try{Ay=ug.inject(GM),zr=ug}catch{}}os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WM;os.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!px(e))throw Error(z(200));return HM(n,e,null,t)};os.createRoot=function(n,e){if(!px(n))throw Error(z(299));var t=!1,s="",r=e_;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=dx(n,1,!1,null,null,t,!1,s,r),n[Bi]=e.current,Lh(n.nodeType===8?n.parentNode:n),new fx(e)};os.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(z(188)):(n=Object.keys(n).join(","),Error(z(268,n)));return n=A1(e),n=n===null?null:n.stateNode,n};os.flushSync=function(n){return ic(n)};os.hydrate=function(n,e,t){if(!Dy(e))throw Error(z(200));return Oy(null,n,e,!0,t)};os.hydrateRoot=function(n,e,t){if(!px(n))throw Error(z(405));var s=t!=null&&t.hydratedSources||null,r=!1,i="",o=e_;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=ZC(e,null,n,1,t??null,r,!1,i,o),n[Bi]=e.current,Lh(n),s)for(n=0;n<s.length;n++)t=s[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Iy(e)};os.render=function(n,e,t){if(!Dy(e))throw Error(z(200));return Oy(null,n,e,!1,t)};os.unmountComponentAtNode=function(n){if(!Dy(n))throw Error(z(40));return n._reactRootContainer?(ic(function(){Oy(null,null,n,!1,function(){n._reactRootContainer=null,n[Bi]=null})}),!0):!1};os.unstable_batchedUpdates=ax;os.unstable_renderSubtreeIntoContainer=function(n,e,t,s){if(!Dy(t))throw Error(z(200));if(n==null||n._reactInternals===void 0)throw Error(z(38));return Oy(n,e,t,!1,s)};os.version="18.3.1-next-f1338f8080-20240426";function t_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t_)}catch(n){console.error(n)}}t_(),t1.exports=os;var Np=t1.exports;const n_=bb(Np);var s_,mE=Np;s_=mE.createRoot,mE.hydrateRoot;const XM=1,qM=1e6;let Ov=0;function YM(){return Ov=(Ov+1)%Number.MAX_SAFE_INTEGER,Ov.toString()}const Fv=new Map,yE=n=>{if(Fv.has(n))return;const e=setTimeout(()=>{Fv.delete(n),xh({type:"REMOVE_TOAST",toastId:n})},qM);Fv.set(n,e)},KM=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,XM)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?yE(t):n.toasts.forEach(s=>{yE(s.id)}),{...n,toasts:n.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Dg=[];let Og={toasts:[]};function xh(n){Og=KM(Og,n),Dg.forEach(e=>{e(Og)})}function QM({...n}){const e=YM(),t=r=>xh({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>xh({type:"DISMISS_TOAST",toastId:e});return xh({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:t}}function JM(){const[n,e]=_.useState(Og);return _.useEffect(()=>(Dg.push(e),()=>{const t=Dg.indexOf(e);t>-1&&Dg.splice(t,1)}),[n]),{...n,toast:QM,dismiss:t=>xh({type:"DISMISS_TOAST",toastId:t})}}function yt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function vE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function r_(...n){return e=>{let t=!1;const s=n.map(r=>{const i=vE(r,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():vE(n[r],null)}}}}function nr(...n){return _.useCallback(r_(...n),n)}function Ip(n,e=[]){let t=[];function s(i,o){const a=_.createContext(o),c=t.length;t=[...t,o];const u=h=>{var m;const{scope:f,children:p,...y}=h,g=((m=f==null?void 0:f[n])==null?void 0:m[c])||a,b=_.useMemo(()=>y,Object.values(y));return k.jsx(g.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[n])==null?void 0:g[c])||a,y=_.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=t.map(o=>_.createContext(o));return function(a){const c=(a==null?void 0:a[n])||i;return _.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return r.scopeName=n,[s,ZM(r,...e)]}function ZM(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((a,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...a,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function jm(n){const e=tN(n),t=_.forwardRef((s,r)=>{const{children:i,...o}=s,a=_.Children.toArray(i),c=a.find(sN);if(c){const u=c.props.children,d=a.map(h=>h===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return k.jsx(e,{...o,ref:r,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return k.jsx(e,{...o,ref:r,children:i})});return t.displayName=`${n}.Slot`,t}var eN=jm("Slot");function tN(n){const e=_.forwardRef((t,s)=>{const{children:r,...i}=t;if(_.isValidElement(r)){const o=iN(r),a=rN(i,r.props);return r.type!==_.Fragment&&(a.ref=s?r_(s,o):o),_.cloneElement(r,a)}return _.Children.count(r)>1?_.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var i_=Symbol("radix.slottable");function nN(n){const e=({children:t})=>k.jsx(k.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=i_,e}function sN(n){return _.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===i_}function rN(n,e){const t={...e};for(const s in e){const r=n[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?t[s]=(...a)=>{const c=i(...a);return r(...a),c}:r&&(t[s]=r):s==="style"?t[s]={...r,...i}:s==="className"&&(t[s]=[r,i].filter(Boolean).join(" "))}return{...n,...t}}function iN(n){var s,r;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function oN(n){const e=n+"CollectionProvider",[t,s]=Ip(e),[r,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:m}=g,w=H.useRef(null),x=H.useRef(new Map).current;return k.jsx(r,{scope:b,itemMap:x,collectionRef:w,children:m})};o.displayName=e;const a=n+"CollectionSlot",c=jm(a),u=H.forwardRef((g,b)=>{const{scope:m,children:w}=g,x=i(a,m),S=nr(b,x.collectionRef);return k.jsx(c,{ref:S,children:w})});u.displayName=a;const d=n+"CollectionItemSlot",h="data-radix-collection-item",f=jm(d),p=H.forwardRef((g,b)=>{const{scope:m,children:w,...x}=g,S=H.useRef(null),C=nr(b,S),T=i(d,m);return H.useEffect(()=>(T.itemMap.set(S,{ref:S,...x}),()=>void T.itemMap.delete(S))),k.jsx(f,{[h]:"",ref:C,children:w})});p.displayName=d;function y(g){const b=i(n+"CollectionConsumer",g);return H.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((T,P)=>x.indexOf(T.ref.current)-x.indexOf(P.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,s]}var aN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sn=aN.reduce((n,e)=>{const t=jm(`Primitive.${e}`),s=_.forwardRef((r,i)=>{const{asChild:o,...a}=r,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(c,{...a,ref:i})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function o_(n,e){n&&Np.flushSync(()=>n.dispatchEvent(e))}function da(n){const e=_.useRef(n);return _.useEffect(()=>{e.current=n}),_.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}function lN(n,e=globalThis==null?void 0:globalThis.document){const t=da(n);_.useEffect(()=>{const s=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var cN="DismissableLayer",U0="dismissableLayer.update",uN="dismissableLayer.pointerDownOutside",dN="dismissableLayer.focusOutside",wE,a_=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gx=_.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=n,u=_.useContext(a_),[d,h]=_.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),y=nr(e,P=>h(P)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),m=g.indexOf(b),w=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=m,C=fN(P=>{const R=P.target,L=[...u.branches].some(M=>M.contains(R));!S||L||(r==null||r(P),o==null||o(P),P.defaultPrevented||a==null||a())},f),T=pN(P=>{const R=P.target;[...u.branches].some(M=>M.contains(R))||(i==null||i(P),o==null||o(P),P.defaultPrevented||a==null||a())},f);return lN(P=>{w===u.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},f),_.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wE=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),bE(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=wE)}},[d,f,t,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),bE())},[d,u]),_.useEffect(()=>{const P=()=>p({});return document.addEventListener(U0,P),()=>document.removeEventListener(U0,P)},[]),k.jsx(sn.div,{...c,ref:y,style:{pointerEvents:x?S?"auto":"none":void 0,...n.style},onFocusCapture:yt(n.onFocusCapture,T.onFocusCapture),onBlurCapture:yt(n.onBlurCapture,T.onBlurCapture),onPointerDownCapture:yt(n.onPointerDownCapture,C.onPointerDownCapture)})});gx.displayName=cN;var hN="DismissableLayerBranch",l_=_.forwardRef((n,e)=>{const t=_.useContext(a_),s=_.useRef(null),r=nr(e,s);return _.useEffect(()=>{const i=s.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),k.jsx(sn.div,{...n,ref:r})});l_.displayName=hN;function fN(n,e=globalThis==null?void 0:globalThis.document){const t=da(n),s=_.useRef(!1),r=_.useRef(()=>{});return _.useEffect(()=>{const i=a=>{if(a.target&&!s.current){let c=function(){c_(uN,t,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function pN(n,e=globalThis==null?void 0:globalThis.document){const t=da(n),s=_.useRef(!1);return _.useEffect(()=>{const r=i=>{i.target&&!s.current&&c_(dN,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function bE(){const n=new CustomEvent(U0);document.dispatchEvent(n)}function c_(n,e,t,{discrete:s}){const r=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?o_(r,i):r.dispatchEvent(i)}var gN=gx,mN=l_,ha=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},yN="Portal",u_=_.forwardRef((n,e)=>{var a;const{container:t,...s}=n,[r,i]=_.useState(!1);ha(()=>i(!0),[]);const o=t||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?n_.createPortal(k.jsx(sn.div,{...s,ref:e}),o):null});u_.displayName=yN;function vN(n,e){return _.useReducer((t,s)=>e[t][s]??t,n)}var mx=n=>{const{present:e,children:t}=n,s=wN(e),r=typeof t=="function"?t({present:s.isPresent}):_.Children.only(t),i=nr(s.ref,bN(r));return typeof t=="function"||s.isPresent?_.cloneElement(r,{ref:i}):null};mx.displayName="Presence";function wN(n){const[e,t]=_.useState(),s=_.useRef(null),r=_.useRef(n),i=_.useRef("none"),o=n?"mounted":"unmounted",[a,c]=vN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=dg(s.current);i.current=a==="mounted"?u:"none"},[a]),ha(()=>{const u=s.current,d=r.current;if(d!==n){const f=i.current,p=dg(u);n?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,c]),ha(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const g=dg(s.current).includes(p.animationName);if(p.target===e&&g&&(c("ANIMATION_END"),!r.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=p=>{p.target===e&&(i.current=dg(s.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(u=>{s.current=u?getComputedStyle(u):null,t(u)},[])}}function dg(n){return(n==null?void 0:n.animationName)||"none"}function bN(n){var s,r;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var xN=ZS[" useInsertionEffect ".trim().toString()]||ha;function AN({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[r,i,o]=EN({defaultProp:e,onChange:t}),a=n!==void 0,c=a?n:r;{const d=_.useRef(n!==void 0);_.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,s])}const u=_.useCallback(d=>{var h;if(a){const f=SN(d)?d(n):d;f!==n&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,n,i,o]);return[c,u]}function EN({defaultProp:n,onChange:e}){const[t,s]=_.useState(n),r=_.useRef(t),i=_.useRef(e);return xN(()=>{i.current=e},[e]),_.useEffect(()=>{var o;r.current!==t&&((o=i.current)==null||o.call(i,t),r.current=t)},[t,r]),[t,s,i]}function SN(n){return typeof n=="function"}var CN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_N="VisuallyHidden",Fy=_.forwardRef((n,e)=>k.jsx(sn.span,{...n,ref:e,style:{...CN,...n.style}}));Fy.displayName=_N;var TN=Fy,yx="ToastProvider",[vx,PN,kN]=oN("Toast"),[d_,iB]=Ip("Toast",[kN]),[RN,jy]=d_(yx),h_=n=>{const{__scopeToast:e,label:t="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:o}=n,[a,c]=_.useState(null),[u,d]=_.useState(0),h=_.useRef(!1),f=_.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${yx}\`. Expected non-empty \`string\`.`),k.jsx(vx.Provider,{scope:e,children:k.jsx(RN,{scope:e,label:t,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:_.useCallback(()=>d(p=>p+1),[]),onToastRemove:_.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};h_.displayName=yx;var f_="ToastViewport",LN=["F8"],V0="toast.viewportPause",W0="toast.viewportResume",p_=_.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:s=LN,label:r="Notifications ({hotkey})",...i}=n,o=jy(f_,t),a=PN(t),c=_.useRef(null),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=nr(e,h,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;_.useEffect(()=>{const b=m=>{var x;s.length!==0&&s.every(S=>m[S]||m.code===S)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[s]),_.useEffect(()=>{const b=c.current,m=h.current;if(y&&b&&m){const w=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(V0);m.dispatchEvent(T),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(W0);m.dispatchEvent(T),o.isClosePausedRef.current=!1}},S=T=>{!b.contains(T.relatedTarget)&&x()},C=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",w),b.addEventListener("focusout",S),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[y,o.isClosePausedRef]);const g=_.useCallback(({tabbingDirection:b})=>{const w=a().map(x=>{const S=x.ref.current,C=[S,...VN(S)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?w.reverse():w).flat()},[a]);return _.useEffect(()=>{const b=h.current;if(b){const m=w=>{var C,T,P;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const R=document.activeElement,L=w.shiftKey;if(w.target===b&&L){(C=u.current)==null||C.focus();return}const B=g({tabbingDirection:L?"backwards":"forwards"}),V=B.findIndex(I=>I===R);jv(B.slice(V+1))?w.preventDefault():L?(T=u.current)==null||T.focus():(P=d.current)==null||P.focus()}};return b.addEventListener("keydown",m),()=>b.removeEventListener("keydown",m)}},[a,g]),k.jsxs(mN,{ref:c,role:"region","aria-label":r.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&k.jsx(G0,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});jv(b)}}),k.jsx(vx.Slot,{scope:t,children:k.jsx(sn.ol,{tabIndex:-1,...i,ref:f})}),y&&k.jsx(G0,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});jv(b)}})]})});p_.displayName=f_;var g_="ToastFocusProxy",G0=_.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:s,...r}=n,i=jy(g_,t);return k.jsx(Fy,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&s()}})});G0.displayName=g_;var Dp="Toast",MN="toast.swipeStart",NN="toast.swipeMove",IN="toast.swipeCancel",DN="toast.swipeEnd",m_=_.forwardRef((n,e)=>{const{forceMount:t,open:s,defaultOpen:r,onOpenChange:i,...o}=n,[a,c]=AN({prop:s,defaultProp:r??!0,onChange:i,caller:Dp});return k.jsx(mx,{present:t||a,children:k.jsx(jN,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:da(n.onPause),onResume:da(n.onResume),onSwipeStart:yt(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:yt(n.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:yt(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:yt(n.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});m_.displayName=Dp;var[ON,FN]=d_(Dp,{onClose(){}}),jN=_.forwardRef((n,e)=>{const{__scopeToast:t,type:s="foreground",duration:r,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...y}=n,g=jy(Dp,t),[b,m]=_.useState(null),w=nr(e,I=>m(I)),x=_.useRef(null),S=_.useRef(null),C=r||g.duration,T=_.useRef(0),P=_.useRef(C),R=_.useRef(0),{onToastAdd:L,onToastRemove:M}=g,D=da(()=>{var K;(b==null?void 0:b.contains(document.activeElement))&&((K=g.viewport)==null||K.focus()),o()}),B=_.useCallback(I=>{!I||I===1/0||(window.clearTimeout(R.current),T.current=new Date().getTime(),R.current=window.setTimeout(D,I))},[D]);_.useEffect(()=>{const I=g.viewport;if(I){const K=()=>{B(P.current),u==null||u()},O=()=>{const j=new Date().getTime()-T.current;P.current=P.current-j,window.clearTimeout(R.current),c==null||c()};return I.addEventListener(V0,O),I.addEventListener(W0,K),()=>{I.removeEventListener(V0,O),I.removeEventListener(W0,K)}}},[g.viewport,C,c,u,B]),_.useEffect(()=>{i&&!g.isClosePausedRef.current&&B(C)},[i,C,g.isClosePausedRef,B]),_.useEffect(()=>(L(),()=>M()),[L,M]);const V=_.useMemo(()=>b?E_(b):null,[b]);return g.viewport?k.jsxs(k.Fragment,{children:[V&&k.jsx(BN,{__scopeToast:t,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),k.jsx(ON,{scope:t,onClose:D,children:Np.createPortal(k.jsx(vx.ItemSlot,{scope:t,children:k.jsx(gN,{asChild:!0,onEscapeKeyDown:yt(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:k.jsx(sn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:yt(n.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:yt(n.onPointerDown,I=>{I.button===0&&(x.current={x:I.clientX,y:I.clientY})}),onPointerMove:yt(n.onPointerMove,I=>{if(!x.current)return;const K=I.clientX-x.current.x,O=I.clientY-x.current.y,j=!!S.current,N=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,U=N?F(0,K):0,ne=N?0:F(0,O),W=I.pointerType==="touch"?10:2,Q={x:U,y:ne},se={originalEvent:I,delta:Q};j?(S.current=Q,hg(NN,h,se,{discrete:!1})):xE(Q,g.swipeDirection,W)?(S.current=Q,hg(MN,d,se,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(K)>W||Math.abs(O)>W)&&(x.current=null)}),onPointerUp:yt(n.onPointerUp,I=>{const K=S.current,O=I.target;if(O.hasPointerCapture(I.pointerId)&&O.releasePointerCapture(I.pointerId),S.current=null,x.current=null,K){const j=I.currentTarget,N={originalEvent:I,delta:K};xE(K,g.swipeDirection,g.swipeThreshold)?hg(DN,p,N,{discrete:!0}):hg(IN,f,N,{discrete:!0}),j.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),BN=n=>{const{__scopeToast:e,children:t,...s}=n,r=jy(Dp,e),[i,o]=_.useState(!1),[a,c]=_.useState(!1);return HN(()=>o(!0)),_.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:k.jsx(u_,{asChild:!0,children:k.jsx(Fy,{...s,children:i&&k.jsxs(k.Fragment,{children:[r.label," ",t]})})})},zN="ToastTitle",y_=_.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return k.jsx(sn.div,{...s,ref:e})});y_.displayName=zN;var $N="ToastDescription",v_=_.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return k.jsx(sn.div,{...s,ref:e})});v_.displayName=$N;var w_="ToastAction",b_=_.forwardRef((n,e)=>{const{altText:t,...s}=n;return t.trim()?k.jsx(A_,{altText:t,asChild:!0,children:k.jsx(wx,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${w_}\`. Expected non-empty \`string\`.`),null)});b_.displayName=w_;var x_="ToastClose",wx=_.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n,r=FN(x_,t);return k.jsx(A_,{asChild:!0,children:k.jsx(sn.button,{type:"button",...s,ref:e,onClick:yt(n.onClick,r.onClose)})})});wx.displayName=x_;var A_=_.forwardRef((n,e)=>{const{__scopeToast:t,altText:s,...r}=n;return k.jsx(sn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function E_(n){const e=[];return Array.from(n.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),UN(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...E_(s))}}),e}function hg(n,e,t,{discrete:s}){const r=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?o_(r,i):r.dispatchEvent(i)}var xE=(n,e,t=0)=>{const s=Math.abs(n.x),r=Math.abs(n.y),i=s>r;return e==="left"||e==="right"?i&&s>t:!i&&r>t};function HN(n=()=>{}){const e=da(n);ha(()=>{let t=0,s=0;return t=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(s)}},[e])}function UN(n){return n.nodeType===n.ELEMENT_NODE}function VN(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function jv(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var WN=h_,S_=p_,C_=m_,__=y_,T_=v_,P_=b_,k_=wx;function R_(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=R_(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Sd(){for(var n,e,t=0,s="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=R_(n))&&(s&&(s+=" "),s+=e);return s}const AE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,EE=Sd,bx=(n,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return EE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:i}=e,o=Object.keys(r).map(u=>{const d=t==null?void 0:t[u],h=i==null?void 0:i[u];if(d===null)return null;const f=AE(d)||AE(h);return r[u][f]}),a=t&&Object.entries(t).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(y=>{let[g,b]=y;return Array.isArray(b)?b.includes({...i,...a}[g]):{...i,...a}[g]===b})?[...u,h,f]:u},[]);return EE(n,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L_=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=_.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...a},c)=>_.createElement("svg",{ref:c,...XN,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:L_("lucide",r),...a},[...o.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=(n,e)=>{const t=_.forwardRef(({className:s,...r},i)=>_.createElement(qN,{ref:i,iconNode:e,className:L_(`lucide-${GN(n)}`,s),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=Op("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Op("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=Op("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Op("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=Op("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xx="-",JN=n=>{const e=eI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:o=>{const a=o.split(xx);return a[0]===""&&a.length!==1&&a.shift(),I_(a,e)||ZN(o)},getConflictingClassGroupIds:(o,a)=>{const c=t[o]||[];return a&&s[o]?[...c,...s[o]]:c}}},I_=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),r=s?I_(n.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=n.join(xx);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},SE=/^\[(.+)\]$/,ZN=n=>{if(SE.test(n)){const e=SE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},eI=n=>{const{theme:e,prefix:t}=n,s={nextPart:new Map,validators:[]};return nI(Object.entries(n.classGroups),t).forEach(([i,o])=>{X0(o,s,i,e)}),s},X0=(n,e,t,s)=>{n.forEach(r=>{if(typeof r=="string"){const i=r===""?e:CE(e,r);i.classGroupId=t;return}if(typeof r=="function"){if(tI(r)){X0(r(s),e,t,s);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([i,o])=>{X0(o,CE(e,i),t,s)})})},CE=(n,e)=>{let t=n;return e.split(xx).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},tI=n=>n.isThemeGetter,nI=(n,e)=>e?n.map(([t,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[t,r]}):n,sI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const r=(i,o)=>{t.set(i,o),e++,e>n&&(e=0,s=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return r(i,o),o},set(i,o){t.has(i)?t.set(i,o):r(i,o)}}},D_="!",rI=n=>{const{separator:e,experimentalParseClassName:t}=n,s=e.length===1,r=e[0],i=e.length,o=a=>{const c=[];let u=0,d=0,h;for(let b=0;b<a.length;b++){let m=a[b];if(u===0){if(m===r&&(s||a.slice(b,b+i)===e)){c.push(a.slice(d,b)),d=b+i;continue}if(m==="/"){h=b;continue}}m==="["?u++:m==="]"&&u--}const f=c.length===0?a:a.substring(d),p=f.startsWith(D_),y=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return t?a=>t({className:a,parseClassName:o}):o},iI=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e},oI=n=>({cache:sI(n.cacheSize),parseClassName:rI(n),...JN(n)}),aI=/\s+/,lI=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],o=n.trim().split(aI);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=t(u);let y=!!p,g=s(y?f.substring(0,p):f);if(!g){if(!y){a=u+(a.length>0?" "+a:a);continue}if(g=s(f),!g){a=u+(a.length>0?" "+a:a);continue}y=!1}const b=iI(d).join(":"),m=h?b+D_:b,w=m+g;if(i.includes(w))continue;i.push(w);const x=r(g,y);for(let S=0;S<x.length;++S){const C=x[S];i.push(m+C)}a=u+(a.length>0?" "+a:a)}return a};function cI(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=O_(e))&&(s&&(s+=" "),s+=t);return s}const O_=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=O_(n[s]))&&(t&&(t+=" "),t+=e);return t};function uI(n,...e){let t,s,r,i=o;function o(c){const u=e.reduce((d,h)=>h(d),n());return t=oI(u),s=t.cache.get,r=t.cache.set,i=a,a(c)}function a(c){const u=s(c);if(u)return u;const d=lI(c,t);return r(c,d),d}return function(){return i(cI.apply(null,arguments))}}const Oe=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},F_=/^\[(?:([a-z-]+):)?(.+)\]$/i,dI=/^\d+\/\d+$/,hI=new Set(["px","full","screen"]),fI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xr=n=>Vc(n)||hI.has(n)||dI.test(n),eo=n=>Cd(n,"length",CI),Vc=n=>!!n&&!Number.isNaN(Number(n)),Bv=n=>Cd(n,"number",Vc),Fd=n=>!!n&&Number.isInteger(Number(n)),vI=n=>n.endsWith("%")&&Vc(n.slice(0,-1)),ce=n=>F_.test(n),to=n=>fI.test(n),wI=new Set(["length","size","percentage"]),bI=n=>Cd(n,wI,j_),xI=n=>Cd(n,"position",j_),AI=new Set(["image","url"]),EI=n=>Cd(n,AI,TI),SI=n=>Cd(n,"",_I),jd=()=>!0,Cd=(n,e,t)=>{const s=F_.exec(n);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1},CI=n=>pI.test(n)&&!gI.test(n),j_=()=>!1,_I=n=>mI.test(n),TI=n=>yI.test(n),PI=()=>{const n=Oe("colors"),e=Oe("spacing"),t=Oe("blur"),s=Oe("brightness"),r=Oe("borderColor"),i=Oe("borderRadius"),o=Oe("borderSpacing"),a=Oe("borderWidth"),c=Oe("contrast"),u=Oe("grayscale"),d=Oe("hueRotate"),h=Oe("invert"),f=Oe("gap"),p=Oe("gradientColorStops"),y=Oe("gradientColorStopPositions"),g=Oe("inset"),b=Oe("margin"),m=Oe("opacity"),w=Oe("padding"),x=Oe("saturate"),S=Oe("scale"),C=Oe("sepia"),T=Oe("skew"),P=Oe("space"),R=Oe("translate"),L=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ce,e],B=()=>[ce,e],V=()=>["",Xr,eo],I=()=>["auto",Vc,ce],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",ce],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Vc,ce];return{cacheSize:500,separator:":",theme:{colors:[jd],spacing:[Xr,eo],blur:["none","",to,ce],brightness:ne(),borderColor:[n],borderRadius:["none","","full",to,ce],borderSpacing:B(),borderWidth:V(),contrast:ne(),grayscale:F(),hueRotate:ne(),invert:F(),gap:B(),gradientColorStops:[n],gradientColorStopPositions:[vI,eo],inset:D(),margin:D(),opacity:ne(),padding:B(),saturate:ne(),scale:ne(),sepia:F(),skew:ne(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[to]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),ce]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fd,ce]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Fd,ce]}],"grid-cols":[{"grid-cols":[jd]}],"col-start-end":[{col:["auto",{span:["full",Fd,ce]},ce]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[jd]}],"row-start-end":[{row:["auto",{span:[Fd,ce]},ce]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[to]},to]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",to,eo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bv]}],"font-family":[{font:[jd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",Vc,Bv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xr,eo]}],"underline-offset":[{"underline-offset":["auto",Xr,ce]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),xI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EI]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:O()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[Xr,ce]}],"outline-w":[{outline:[Xr,eo]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Xr,eo]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",to,SI]}],"shadow-color":[{shadow:[jd]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",to,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Fd,ce]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Xr,eo,Bv]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kI=uI(PI);function Mt(...n){return kI(Sd(n))}const RI=WN,B_=_.forwardRef(({className:n,...e},t)=>k.jsx(S_,{ref:t,className:Mt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));B_.displayName=S_.displayName;const LI=bx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),z_=_.forwardRef(({className:n,variant:e,...t},s)=>k.jsx(C_,{ref:s,className:Mt(LI({variant:e}),n),...t}));z_.displayName=C_.displayName;const MI=_.forwardRef(({className:n,...e},t)=>k.jsx(P_,{ref:t,className:Mt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));MI.displayName=P_.displayName;const $_=_.forwardRef(({className:n,...e},t)=>k.jsx(k_,{ref:t,className:Mt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:k.jsx(QN,{className:"h-4 w-4"})}));$_.displayName=k_.displayName;const H_=_.forwardRef(({className:n,...e},t)=>k.jsx(__,{ref:t,className:Mt("text-sm font-semibold",n),...e}));H_.displayName=__.displayName;const U_=_.forwardRef(({className:n,...e},t)=>k.jsx(T_,{ref:t,className:Mt("text-sm opacity-90",n),...e}));U_.displayName=T_.displayName;function NI(){const{toasts:n}=JM();return k.jsxs(RI,{children:[n.map(function({id:e,title:t,description:s,action:r,...i}){return k.jsxs(z_,{...i,children:[k.jsxs("div",{className:"grid gap-1",children:[t&&k.jsx(H_,{children:t}),s&&k.jsx(U_,{children:s})]}),r,k.jsx($_,{})]},e)}),k.jsx(B_,{})]})}var Bm=["light","dark"],Ax="(prefers-color-scheme: dark)",II=typeof window>"u",Ex=_.createContext(void 0),DI={setTheme:n=>{},themes:[]},OI=()=>{var n;return(n=_.useContext(Ex))!=null?n:DI},FI=n=>_.useContext(Ex)?n.children:_.createElement(BI,{...n}),jI=["light","dark"],BI=({forcedTheme:n,disableTransitionOnChange:e=!1,enableSystem:t=!0,enableColorScheme:s=!0,storageKey:r="theme",themes:i=jI,defaultTheme:o=t?"system":"light",attribute:a="data-theme",value:c,children:u,nonce:d})=>{let[h,f]=_.useState(()=>_E(r,o)),[p,y]=_.useState(()=>_E(r)),g=c?Object.values(c):i,b=_.useCallback(S=>{let C=S;if(!C)return;S==="system"&&t&&(C=TE());let T=c?c[C]:C,P=e?$I():null,R=document.documentElement;if(a==="class"?(R.classList.remove(...g),T&&R.classList.add(T)):T?R.setAttribute(a,T):R.removeAttribute(a),s){let L=Bm.includes(o)?o:null,M=Bm.includes(C)?C:L;R.style.colorScheme=M}P==null||P()},[]),m=_.useCallback(S=>{let C=typeof S=="function"?S(S):S;f(C);try{localStorage.setItem(r,C)}catch{}},[n]),w=_.useCallback(S=>{let C=TE(S);y(C),h==="system"&&t&&!n&&b("system")},[h,n]);_.useEffect(()=>{let S=window.matchMedia(Ax);return S.addListener(w),w(S),()=>S.removeListener(w)},[w]),_.useEffect(()=>{let S=C=>{if(C.key!==r)return;let T=C.newValue||o;m(T)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[m]),_.useEffect(()=>{b(n??h)},[n,h]);let x=_.useMemo(()=>({theme:h,setTheme:m,forcedTheme:n,resolvedTheme:h==="system"?p:h,themes:t?[...i,"system"]:i,systemTheme:t?p:void 0}),[h,m,n,p,t,i]);return _.createElement(Ex.Provider,{value:x},_.createElement(zI,{forcedTheme:n,disableTransitionOnChange:e,enableSystem:t,enableColorScheme:s,storageKey:r,themes:i,defaultTheme:o,attribute:a,value:c,children:u,attrs:g,nonce:d}),u)},zI=_.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=r?Bm.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(y,g=!1,b=!0)=>{let m=o?o[y]:y,w=g?y+"|| ''":`'${m}'`,x="";return r&&b&&!g&&Bm.includes(y)&&(x+=`d.style.colorScheme = '${y}';`),t==="class"?g||m?x+=`c.add(${w})`:x+="null":m&&(x+=`d[s](n,${w})`),x},p=n?`!function(){${d}${f(n)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Ax}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return _.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),_E=(n,e)=>{if(II)return;let t;try{t=localStorage.getItem(n)||void 0}catch{}return t||e},$I=()=>{let n=document.createElement("style");return n.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(n),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(n)},1)}},TE=n=>(n||(n=window.matchMedia(Ax)),n.matches?"dark":"light"),HI=n=>{switch(n){case"success":return WI;case"info":return XI;case"warning":return GI;case"error":return qI;default:return null}},UI=Array(12).fill(0),VI=({visible:n,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},H.createElement("div",{className:"sonner-spinner"},UI.map((t,s)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),WI=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GI=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),XI=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qI=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),YI=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),KI=()=>{let[n,e]=H.useState(document.hidden);return H.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},q0=1,QI=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...s}=n,r=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:q0++,i=this.toasts.find(a=>a.id===r),o=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),i?this.toasts=this.toasts.map(a=>a.id===r?(this.publish({...a,...n,id:r,title:t}),{...a,...n,id:r,dismissible:o,title:t}):a):this.addToast({title:t,...s,dismissible:o,id:r}),r},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=n instanceof Promise?n:n(),r=t!==void 0,i,o=s.then(async c=>{if(i=["resolve",c],H.isValidElement(c))r=!1,this.create({id:t,type:"default",message:c});else if(ZI(c)&&!c.ok){r=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:t,type:"error",message:u,description:d})}else if(e.success!==void 0){r=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){r=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"error",message:u,description:d})}}).finally(()=>{var c;r&&(this.dismiss(t),t=void 0),(c=e.finally)==null||c.call(e)}),a=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof t!="string"&&typeof t!="number"?{unwrap:a}:Object.assign(t,{unwrap:a})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||q0++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Tn=new QI,JI=(n,e)=>{let t=(e==null?void 0:e.id)||q0++;return Tn.addToast({title:n,...e,id:t}),t},ZI=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",e2=JI,t2=()=>Tn.toasts,n2=()=>Tn.getActiveToasts();Object.assign(e2,{success:Tn.success,info:Tn.info,warning:Tn.warning,error:Tn.error,custom:Tn.custom,message:Tn.message,promise:Tn.promise,dismiss:Tn.dismiss,loading:Tn.loading},{getHistory:t2,getToasts:n2});function s2(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}s2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fg(n){return n.label!==void 0}var r2=3,i2="32px",o2="16px",PE=4e3,a2=356,l2=14,c2=20,u2=200;function Ms(...n){return n.filter(Boolean).join(" ")}function d2(n){let[e,t]=n.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}var h2=n=>{var e,t,s,r,i,o,a,c,u,d,h;let{invert:f,toast:p,unstyled:y,interacting:g,setHeights:b,visibleToasts:m,heights:w,index:x,toasts:S,expanded:C,removeToast:T,defaultRichColors:P,closeButton:R,style:L,cancelButtonStyle:M,actionButtonStyle:D,className:B="",descriptionClassName:V="",duration:I,position:K,gap:O,loadingIcon:j,expandByDefault:N,classNames:F,icons:U,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:W}=n,[Q,se]=H.useState(null),[me,be]=H.useState(null),[Z,Nt]=H.useState(!1),[lt,xe]=H.useState(!1),[bt,Vt]=H.useState(!1),[ue,Se]=H.useState(!1),[We,Ge]=H.useState(!1),[ar,Ts]=H.useState(0),[lr,Gp]=H.useState(0),cr=H.useRef(p.duration||I||PE),Xp=H.useRef(null),Gr=H.useRef(null),iv=x===0,ov=x+1<=m,xn=p.type,rn=p.dismissible!==!1,qi=p.className||"",ur=p.descriptionClassName||"",Yi=H.useMemo(()=>w.findIndex(ae=>ae.toastId===p.id)||0,[w,p.id]),pR=H.useMemo(()=>{var ae;return(ae=p.closeButton)!=null?ae:R},[p.closeButton,R]),sA=H.useMemo(()=>p.duration||I||PE,[p.duration,I]),av=H.useRef(0),fc=H.useRef(0),rA=H.useRef(0),pc=H.useRef(null),[gR,mR]=K.split("-"),iA=H.useMemo(()=>w.reduce((ae,Te,Be)=>Be>=Yi?ae:ae+Te.height,0),[w,Yi]),oA=KI(),yR=p.invert||f,lv=xn==="loading";fc.current=H.useMemo(()=>Yi*O+iA,[Yi,iA]),H.useEffect(()=>{cr.current=sA},[sA]),H.useEffect(()=>{Nt(!0)},[]),H.useEffect(()=>{let ae=Gr.current;if(ae){let Te=ae.getBoundingClientRect().height;return Gp(Te),b(Be=>[{toastId:p.id,height:Te,position:p.position},...Be]),()=>b(Be=>Be.filter(Ps=>Ps.toastId!==p.id))}},[b,p.id]),H.useLayoutEffect(()=>{if(!Z)return;let ae=Gr.current,Te=ae.style.height;ae.style.height="auto";let Be=ae.getBoundingClientRect().height;ae.style.height=Te,Gp(Be),b(Ps=>Ps.find(ks=>ks.toastId===p.id)?Ps.map(ks=>ks.toastId===p.id?{...ks,height:Be}:ks):[{toastId:p.id,height:Be,position:p.position},...Ps])},[Z,p.title,p.description,b,p.id]);let Ki=H.useCallback(()=>{xe(!0),Ts(fc.current),b(ae=>ae.filter(Te=>Te.toastId!==p.id)),setTimeout(()=>{T(p)},u2)},[p,T,b,fc]);H.useEffect(()=>{if(p.promise&&xn==="loading"||p.duration===1/0||p.type==="loading")return;let ae;return C||g||W&&oA?(()=>{if(rA.current<av.current){let Te=new Date().getTime()-av.current;cr.current=cr.current-Te}rA.current=new Date().getTime()})():cr.current!==1/0&&(av.current=new Date().getTime(),ae=setTimeout(()=>{var Te;(Te=p.onAutoClose)==null||Te.call(p,p),Ki()},cr.current)),()=>clearTimeout(ae)},[C,g,p,xn,W,oA,Ki]),H.useEffect(()=>{p.delete&&Ki()},[Ki,p.delete]);function vR(){var ae,Te,Be;return U!=null&&U.loading?H.createElement("div",{className:Ms(F==null?void 0:F.loader,(ae=p==null?void 0:p.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":xn==="loading"},U.loading):j?H.createElement("div",{className:Ms(F==null?void 0:F.loader,(Te=p==null?void 0:p.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":xn==="loading"},j):H.createElement(VI,{className:Ms(F==null?void 0:F.loader,(Be=p==null?void 0:p.classNames)==null?void 0:Be.loader),visible:xn==="loading"})}return H.createElement("li",{tabIndex:0,ref:Gr,className:Ms(B,qi,F==null?void 0:F.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[xn],(t=p==null?void 0:p.classNames)==null?void 0:t[xn]),"data-sonner-toast":"","data-rich-colors":(s=p.richColors)!=null?s:P,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":Z,"data-promise":!!p.promise,"data-swiped":We,"data-removed":lt,"data-visible":ov,"data-y-position":gR,"data-x-position":mR,"data-index":x,"data-front":iv,"data-swiping":bt,"data-dismissible":rn,"data-type":xn,"data-invert":yR,"data-swipe-out":ue,"data-swipe-direction":me,"data-expanded":!!(C||N&&Z),style:{"--index":x,"--toasts-before":x,"--z-index":S.length-x,"--offset":`${lt?ar:fc.current}px`,"--initial-height":N?"auto":`${lr}px`,...L,...p.style},onDragEnd:()=>{Vt(!1),se(null),pc.current=null},onPointerDown:ae=>{lv||!rn||(Xp.current=new Date,Ts(fc.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(Vt(!0),pc.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Te,Be,Ps;if(ue||!rn)return;pc.current=null;let ks=Number(((ae=Gr.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qi=Number(((Te=Gr.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ea=new Date().getTime()-((Be=Xp.current)==null?void 0:Be.getTime()),Rs=Q==="x"?ks:Qi,Ji=Math.abs(Rs)/Ea;if(Math.abs(Rs)>=c2||Ji>.11){Ts(fc.current),(Ps=p.onDismiss)==null||Ps.call(p,p),be(Q==="x"?ks>0?"right":"left":Qi>0?"down":"up"),Ki(),Se(!0),Ge(!1);return}Vt(!1),se(null)},onPointerMove:ae=>{var Te,Be,Ps,ks;if(!pc.current||!rn||((Te=window.getSelection())==null?void 0:Te.toString().length)>0)return;let Qi=ae.clientY-pc.current.y,Ea=ae.clientX-pc.current.x,Rs=(Be=n.swipeDirections)!=null?Be:d2(K);!Q&&(Math.abs(Ea)>1||Math.abs(Qi)>1)&&se(Math.abs(Ea)>Math.abs(Qi)?"x":"y");let Ji={x:0,y:0};Q==="y"?(Rs.includes("top")||Rs.includes("bottom"))&&(Rs.includes("top")&&Qi<0||Rs.includes("bottom")&&Qi>0)&&(Ji.y=Qi):Q==="x"&&(Rs.includes("left")||Rs.includes("right"))&&(Rs.includes("left")&&Ea<0||Rs.includes("right")&&Ea>0)&&(Ji.x=Ea),(Math.abs(Ji.x)>0||Math.abs(Ji.y)>0)&&Ge(!0),(Ps=Gr.current)==null||Ps.style.setProperty("--swipe-amount-x",`${Ji.x}px`),(ks=Gr.current)==null||ks.style.setProperty("--swipe-amount-y",`${Ji.y}px`)}},pR&&!p.jsx?H.createElement("button",{"aria-label":ne,"data-disabled":lv,"data-close-button":!0,onClick:lv||!rn?()=>{}:()=>{var ae;Ki(),(ae=p.onDismiss)==null||ae.call(p,p)},className:Ms(F==null?void 0:F.closeButton,(r=p==null?void 0:p.classNames)==null?void 0:r.closeButton)},(i=U==null?void 0:U.close)!=null?i:YI):null,p.jsx||_.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:H.createElement(H.Fragment,null,xn||p.icon||p.promise?H.createElement("div",{"data-icon":"",className:Ms(F==null?void 0:F.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||vR():null,p.type!=="loading"?p.icon||(U==null?void 0:U[xn])||HI(xn):null):null,H.createElement("div",{"data-content":"",className:Ms(F==null?void 0:F.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:Ms(F==null?void 0:F.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?H.createElement("div",{"data-description":"",className:Ms(V,ur,F==null?void 0:F.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),_.isValidElement(p.cancel)?p.cancel:p.cancel&&fg(p.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||M,onClick:ae=>{var Te,Be;fg(p.cancel)&&rn&&((Be=(Te=p.cancel).onClick)==null||Be.call(Te,ae),Ki())},className:Ms(F==null?void 0:F.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,_.isValidElement(p.action)?p.action:p.action&&fg(p.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:ae=>{var Te,Be;fg(p.action)&&((Be=(Te=p.action).onClick)==null||Be.call(Te,ae),!ae.defaultPrevented&&Ki())},className:Ms(F==null?void 0:F.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function kE(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function f2(n,e){let t={};return[n,e].forEach((s,r)=>{let i=r===1,o=i?"--mobile-offset":"--offset",a=i?o2:i2;function c(u){["top","right","bottom","left"].forEach(d=>{t[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?t[`${o}-${u}`]=a:t[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(a)}),t}var p2=_.forwardRef(function(n,e){let{invert:t,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:y=r2,toastOptions:g,dir:b=kE(),gap:m=l2,loadingIcon:w,icons:x,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:C}=n,[T,P]=H.useState([]),R=H.useMemo(()=>Array.from(new Set([s].concat(T.filter(W=>W.position).map(W=>W.position)))),[T,s]),[L,M]=H.useState([]),[D,B]=H.useState(!1),[V,I]=H.useState(!1),[K,O]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=H.useRef(null),N=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=H.useRef(null),U=H.useRef(!1),ne=H.useCallback(W=>{P(Q=>{var se;return(se=Q.find(me=>me.id===W.id))!=null&&se.delete||Tn.dismiss(W.id),Q.filter(({id:me})=>me!==W.id)})},[]);return H.useEffect(()=>Tn.subscribe(W=>{if(W.dismiss){P(Q=>Q.map(se=>se.id===W.id?{...se,delete:!0}:se));return}setTimeout(()=>{n_.flushSync(()=>{P(Q=>{let se=Q.findIndex(me=>me.id===W.id);return se!==-1?[...Q.slice(0,se),{...Q[se],...W},...Q.slice(se+1)]:[W,...Q]})})})}),[]),H.useEffect(()=>{if(d!=="system"){O(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:Q})=>{O(Q?"dark":"light")})}catch{W.addListener(({matches:se})=>{try{O(se?"dark":"light")}catch(me){console.error(me)}})}},[d]),H.useEffect(()=>{T.length<=1&&B(!1)},[T]),H.useEffect(()=>{let W=Q=>{var se,me;r.every(be=>Q[be]||Q.code===be)&&(B(!0),(se=j.current)==null||se.focus()),Q.code==="Escape"&&(document.activeElement===j.current||(me=j.current)!=null&&me.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),H.useEffect(()=>{if(j.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,U.current=!1)}},[j.current]),H.createElement("section",{ref:e,"aria-label":`${S} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((W,Q)=>{var se;let[me,be]=W.split("-");return T.length?H.createElement("ol",{key:W,dir:b==="auto"?kE():b,tabIndex:-1,ref:j,className:a,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":me,"data-lifted":D&&T.length>1&&!i,"data-x-position":be,style:{"--front-toast-height":`${((se=L[0])==null?void 0:se.height)||0}px`,"--width":`${a2}px`,"--gap":`${m}px`,...p,...f2(c,u)},onBlur:Z=>{U.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(U.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||U.current||(U.current=!0,F.current=Z.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{V||B(!1)},onDragEnd:()=>B(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},T.filter(Z=>!Z.position&&Q===0||Z.position===W).map((Z,Nt)=>{var lt,xe;return H.createElement(h2,{key:Z.id,icons:x,index:Nt,toast:Z,defaultRichColors:h,duration:(lt=g==null?void 0:g.duration)!=null?lt:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:y,closeButton:(xe=g==null?void 0:g.closeButton)!=null?xe:o,interacting:V,position:W,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ne,toasts:T.filter(bt=>bt.position==Z.position),heights:L.filter(bt=>bt.position==Z.position),setHeights:M,expandByDefault:i,gap:m,loadingIcon:w,expanded:D,pauseWhenPageIsHidden:C,swipeDirections:n.swipeDirections})})):null}))});const g2=({...n})=>{const{theme:e="system"}=OI();return k.jsx(p2,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},m2=["top","right","bottom","left"],fa=Math.min,Zn=Math.max,zm=Math.round,pg=Math.floor,Hr=n=>({x:n,y:n}),y2={left:"right",right:"left",bottom:"top",top:"bottom"},v2={start:"end",end:"start"};function Y0(n,e,t){return Zn(n,fa(e,t))}function Hi(n,e){return typeof n=="function"?n(e):n}function Ui(n){return n.split("-")[0]}function _d(n){return n.split("-")[1]}function Sx(n){return n==="x"?"y":"x"}function Cx(n){return n==="y"?"height":"width"}const w2=new Set(["top","bottom"]);function Br(n){return w2.has(Ui(n))?"y":"x"}function _x(n){return Sx(Br(n))}function b2(n,e,t){t===void 0&&(t=!1);const s=_d(n),r=_x(n),i=Cx(r);let o=r==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=$m(o)),[o,$m(o)]}function x2(n){const e=$m(n);return[K0(n),e,K0(e)]}function K0(n){return n.replace(/start|end/g,e=>v2[e])}const RE=["left","right"],LE=["right","left"],A2=["top","bottom"],E2=["bottom","top"];function S2(n,e,t){switch(n){case"top":case"bottom":return t?e?LE:RE:e?RE:LE;case"left":case"right":return e?A2:E2;default:return[]}}function C2(n,e,t,s){const r=_d(n);let i=S2(Ui(n),t==="start",s);return r&&(i=i.map(o=>o+"-"+r),e&&(i=i.concat(i.map(K0)))),i}function $m(n){return n.replace(/left|right|bottom|top/g,e=>y2[e])}function _2(n){return{top:0,right:0,bottom:0,left:0,...n}}function V_(n){return typeof n!="number"?_2(n):{top:n,right:n,bottom:n,left:n}}function Hm(n){const{x:e,y:t,width:s,height:r}=n;return{width:s,height:r,top:t,left:e,right:e+s,bottom:t+r,x:e,y:t}}function ME(n,e,t){let{reference:s,floating:r}=n;const i=Br(e),o=_x(e),a=Cx(o),c=Ui(e),u=i==="y",d=s.x+s.width/2-r.width/2,h=s.y+s.height/2-r.height/2,f=s[a]/2-r[a]/2;let p;switch(c){case"top":p={x:d,y:s.y-r.height};break;case"bottom":p={x:d,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:h};break;case"left":p={x:s.x-r.width,y:h};break;default:p={x:s.x,y:s.y}}switch(_d(e)){case"start":p[o]-=f*(t&&u?-1:1);break;case"end":p[o]+=f*(t&&u?-1:1);break}return p}const T2=async(n,e,t)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=t,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:d,y:h}=ME(u,s,c),f=s,p={},y=0;for(let g=0;g<a.length;g++){const{name:b,fn:m}=a[g],{x:w,y:x,data:S,reset:C}=await m({x:d,y:h,initialPlacement:s,placement:f,strategy:r,middlewareData:p,rects:u,platform:o,elements:{reference:n,floating:e}});d=w??d,h=x??h,p={...p,[b]:{...p[b],...S}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):C.rects),{x:d,y:h}=ME(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:r,middlewareData:p}};async function zh(n,e){var t;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:o,elements:a,strategy:c}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Hi(e,n),y=V_(p),b=a[f?h==="floating"?"reference":"floating":h],m=Hm(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(b)))==null||t?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},C=Hm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:x,strategy:c}):w);return{top:(m.top-C.top+y.top)/S.y,bottom:(C.bottom-m.bottom+y.bottom)/S.y,left:(m.left-C.left+y.left)/S.x,right:(C.right-m.right+y.right)/S.x}}const P2=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:r,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Hi(n,e)||{};if(u==null)return{};const h=V_(d),f={x:t,y:s},p=_x(r),y=Cx(p),g=await o.getDimensions(u),b=p==="y",m=b?"top":"left",w=b?"bottom":"right",x=b?"clientHeight":"clientWidth",S=i.reference[y]+i.reference[p]-f[p]-i.floating[y],C=f[p]-i.reference[p],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=T?T[x]:0;(!P||!await(o.isElement==null?void 0:o.isElement(T)))&&(P=a.floating[x]||i.floating[y]);const R=S/2-C/2,L=P/2-g[y]/2-1,M=fa(h[m],L),D=fa(h[w],L),B=M,V=P-g[y]-D,I=P/2-g[y]/2+R,K=Y0(B,I,V),O=!c.arrow&&_d(r)!=null&&I!==K&&i.reference[y]/2-(I<B?M:D)-g[y]/2<0,j=O?I<B?I-B:I-V:0;return{[p]:f[p]+j,data:{[p]:K,centerOffset:I-K-j,...O&&{alignmentOffset:j}},reset:O}}}),k2=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...b}=Hi(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const m=Ui(r),w=Br(a),x=Ui(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=f||(x||!g?[$m(a)]:x2(a)),T=y!=="none";!f&&T&&C.push(...C2(a,g,y,S));const P=[a,...C],R=await zh(e,b),L=[];let M=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&L.push(R[m]),h){const I=b2(r,o,S);L.push(R[I[0]],R[I[1]])}if(M=[...M,{placement:r,overflows:L}],!L.every(I=>I<=0)){var D,B;const I=(((D=i.flip)==null?void 0:D.index)||0)+1,K=P[I];if(K&&(!(h==="alignment"?w!==Br(K):!1)||M.every(N=>N.overflows[0]>0&&Br(N.placement)===w)))return{data:{index:I,overflows:M},reset:{placement:K}};let O=(B=M.filter(j=>j.overflows[0]<=0).sort((j,N)=>j.overflows[1]-N.overflows[1])[0])==null?void 0:B.placement;if(!O)switch(p){case"bestFit":{var V;const j=(V=M.filter(N=>{if(T){const F=Br(N.placement);return F===w||F==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(F=>F>0).reduce((F,U)=>F+U,0)]).sort((N,F)=>N[1]-F[1])[0])==null?void 0:V[0];j&&(O=j);break}case"initialPlacement":O=a;break}if(r!==O)return{reset:{placement:O}}}return{}}}};function NE(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function IE(n){return m2.some(e=>n[e]>=0)}const R2=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...r}=Hi(n,e);switch(s){case"referenceHidden":{const i=await zh(e,{...r,elementContext:"reference"}),o=NE(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:IE(o)}}}case"escaped":{const i=await zh(e,{...r,altBoundary:!0}),o=NE(i,t.floating);return{data:{escapedOffsets:o,escaped:IE(o)}}}default:return{}}}}},W_=new Set(["left","top"]);async function L2(n,e){const{placement:t,platform:s,elements:r}=n,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Ui(t),a=_d(t),c=Br(t)==="y",u=W_.has(o)?-1:1,d=i&&c?-1:1,h=Hi(e,n);let{mainAxis:f,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const M2=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:r,y:i,placement:o,middlewareData:a}=e,c=await L2(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:o}}}}},N2=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:m,y:w}=b;return{x:m,y:w}}},...c}=Hi(n,e),u={x:t,y:s},d=await zh(e,c),h=Br(Ui(r)),f=Sx(h);let p=u[f],y=u[h];if(i){const b=f==="y"?"top":"left",m=f==="y"?"bottom":"right",w=p+d[b],x=p-d[m];p=Y0(w,p,x)}if(o){const b=h==="y"?"top":"left",m=h==="y"?"bottom":"right",w=y+d[b],x=y-d[m];y=Y0(w,y,x)}const g=a.fn({...e,[f]:p,[h]:y});return{...g,data:{x:g.x-t,y:g.y-s,enabled:{[f]:i,[h]:o}}}}}},I2=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:r,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Hi(n,e),d={x:t,y:s},h=Br(r),f=Sx(h);let p=d[f],y=d[h];const g=Hi(a,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=f==="y"?"height":"width",S=i.reference[f]-i.floating[x]+b.mainAxis,C=i.reference[f]+i.reference[x]-b.mainAxis;p<S?p=S:p>C&&(p=C)}if(u){var m,w;const x=f==="y"?"width":"height",S=W_.has(Ui(r)),C=i.reference[h]-i.floating[x]+(S&&((m=o.offset)==null?void 0:m[h])||0)+(S?0:b.crossAxis),T=i.reference[h]+i.reference[x]+(S?0:((w=o.offset)==null?void 0:w[h])||0)-(S?b.crossAxis:0);y<C?y=C:y>T&&(y=T)}return{[f]:p,[h]:y}}}},D2=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:r,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Hi(n,e),d=await zh(e,u),h=Ui(r),f=_d(r),p=Br(r)==="y",{width:y,height:g}=i.floating;let b,m;h==="top"||h==="bottom"?(b=h,m=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=h,b=f==="end"?"top":"bottom");const w=g-d.top-d.bottom,x=y-d.left-d.right,S=fa(g-d[b],w),C=fa(y-d[m],x),T=!e.middlewareData.shift;let P=S,R=C;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=x),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(P=w),T&&!f){const M=Zn(d.left,0),D=Zn(d.right,0),B=Zn(d.top,0),V=Zn(d.bottom,0);p?R=y-2*(M!==0||D!==0?M+D:Zn(d.left,d.right)):P=g-2*(B!==0||V!==0?B+V:Zn(d.top,d.bottom))}await c({...e,availableWidth:R,availableHeight:P});const L=await o.getDimensions(a.floating);return y!==L.width||g!==L.height?{reset:{rects:!0}}:{}}}};function By(){return typeof window<"u"}function Td(n){return G_(n)?(n.nodeName||"").toLowerCase():"#document"}function ss(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Wr(n){var e;return(e=(G_(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function G_(n){return By()?n instanceof Node||n instanceof ss(n).Node:!1}function sr(n){return By()?n instanceof Element||n instanceof ss(n).Element:!1}function Ur(n){return By()?n instanceof HTMLElement||n instanceof ss(n).HTMLElement:!1}function DE(n){return!By()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ss(n).ShadowRoot}const O2=new Set(["inline","contents"]);function Fp(n){const{overflow:e,overflowX:t,overflowY:s,display:r}=rr(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!O2.has(r)}const F2=new Set(["table","td","th"]);function j2(n){return F2.has(Td(n))}const B2=[":popover-open",":modal"];function zy(n){return B2.some(e=>{try{return n.matches(e)}catch{return!1}})}const z2=["transform","translate","scale","rotate","perspective"],$2=["transform","translate","scale","rotate","perspective","filter"],H2=["paint","layout","strict","content"];function Tx(n){const e=Px(),t=sr(n)?rr(n):n;return z2.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||$2.some(s=>(t.willChange||"").includes(s))||H2.some(s=>(t.contain||"").includes(s))}function U2(n){let e=pa(n);for(;Ur(e)&&!yd(e);){if(Tx(e))return e;if(zy(e))return null;e=pa(e)}return null}function Px(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const V2=new Set(["html","body","#document"]);function yd(n){return V2.has(Td(n))}function rr(n){return ss(n).getComputedStyle(n)}function $y(n){return sr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function pa(n){if(Td(n)==="html")return n;const e=n.assignedSlot||n.parentNode||DE(n)&&n.host||Wr(n);return DE(e)?e.host:e}function X_(n){const e=pa(n);return yd(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ur(e)&&Fp(e)?e:X_(e)}function $h(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=X_(n),i=r===((s=n.ownerDocument)==null?void 0:s.body),o=ss(r);if(i){const a=Q0(o);return e.concat(o,o.visualViewport||[],Fp(r)?r:[],a&&t?$h(a):[])}return e.concat(r,$h(r,[],t))}function Q0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function q_(n){const e=rr(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=Ur(n),i=r?n.offsetWidth:t,o=r?n.offsetHeight:s,a=zm(t)!==i||zm(s)!==o;return a&&(t=i,s=o),{width:t,height:s,$:a}}function kx(n){return sr(n)?n:n.contextElement}function Wc(n){const e=kx(n);if(!Ur(e))return Hr(1);const t=e.getBoundingClientRect(),{width:s,height:r,$:i}=q_(e);let o=(i?zm(t.width):t.width)/s,a=(i?zm(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const W2=Hr(0);function Y_(n){const e=ss(n);return!Px()||!e.visualViewport?W2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function G2(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ss(n)?!1:e}function oc(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=kx(n);let o=Hr(1);e&&(s?sr(s)&&(o=Wc(s)):o=Wc(n));const a=G2(i,t,s)?Y_(i):Hr(0);let c=(r.left+a.x)/o.x,u=(r.top+a.y)/o.y,d=r.width/o.x,h=r.height/o.y;if(i){const f=ss(i),p=s&&sr(s)?ss(s):s;let y=f,g=Q0(y);for(;g&&s&&p!==y;){const b=Wc(g),m=g.getBoundingClientRect(),w=rr(g),x=m.left+(g.clientLeft+parseFloat(w.paddingLeft))*b.x,S=m.top+(g.clientTop+parseFloat(w.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=x,u+=S,y=ss(g),g=Q0(y)}}return Hm({width:d,height:h,x:c,y:u})}function Rx(n,e){const t=$y(n).scrollLeft;return e?e.left+t:oc(Wr(n)).left+t}function K_(n,e,t){t===void 0&&(t=!1);const s=n.getBoundingClientRect(),r=s.left+e.scrollLeft-(t?0:Rx(n,s)),i=s.top+e.scrollTop;return{x:r,y:i}}function X2(n){let{elements:e,rect:t,offsetParent:s,strategy:r}=n;const i=r==="fixed",o=Wr(s),a=e?zy(e.floating):!1;if(s===o||a&&i)return t;let c={scrollLeft:0,scrollTop:0},u=Hr(1);const d=Hr(0),h=Ur(s);if((h||!h&&!i)&&((Td(s)!=="body"||Fp(o))&&(c=$y(s)),Ur(s))){const p=oc(s);u=Wc(s),d.x=p.x+s.clientLeft,d.y=p.y+s.clientTop}const f=o&&!h&&!i?K_(o,c,!0):Hr(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:t.y*u.y-c.scrollTop*u.y+d.y+f.y}}function q2(n){return Array.from(n.getClientRects())}function Y2(n){const e=Wr(n),t=$y(n),s=n.ownerDocument.body,r=Zn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Zn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-t.scrollLeft+Rx(n);const a=-t.scrollTop;return rr(s).direction==="rtl"&&(o+=Zn(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:a}}function K2(n,e){const t=ss(n),s=Wr(n),r=t.visualViewport;let i=s.clientWidth,o=s.clientHeight,a=0,c=0;if(r){i=r.width,o=r.height;const u=Px();(!u||u&&e==="fixed")&&(a=r.offsetLeft,c=r.offsetTop)}return{width:i,height:o,x:a,y:c}}const Q2=new Set(["absolute","fixed"]);function J2(n,e){const t=oc(n,!0,e==="fixed"),s=t.top+n.clientTop,r=t.left+n.clientLeft,i=Ur(n)?Wc(n):Hr(1),o=n.clientWidth*i.x,a=n.clientHeight*i.y,c=r*i.x,u=s*i.y;return{width:o,height:a,x:c,y:u}}function OE(n,e,t){let s;if(e==="viewport")s=K2(n,t);else if(e==="document")s=Y2(Wr(n));else if(sr(e))s=J2(e,t);else{const r=Y_(n);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Hm(s)}function Q_(n,e){const t=pa(n);return t===e||!sr(t)||yd(t)?!1:rr(t).position==="fixed"||Q_(t,e)}function Z2(n,e){const t=e.get(n);if(t)return t;let s=$h(n,[],!1).filter(a=>sr(a)&&Td(a)!=="body"),r=null;const i=rr(n).position==="fixed";let o=i?pa(n):n;for(;sr(o)&&!yd(o);){const a=rr(o),c=Tx(o);!c&&a.position==="fixed"&&(r=null),(i?!c&&!r:!c&&a.position==="static"&&!!r&&Q2.has(r.position)||Fp(o)&&!c&&Q_(n,o))?s=s.filter(d=>d!==o):r=a,o=pa(o)}return e.set(n,s),s}function eD(n){let{element:e,boundary:t,rootBoundary:s,strategy:r}=n;const o=[...t==="clippingAncestors"?zy(e)?[]:Z2(e,this._c):[].concat(t),s],a=o[0],c=o.reduce((u,d)=>{const h=OE(e,d,r);return u.top=Zn(h.top,u.top),u.right=fa(h.right,u.right),u.bottom=fa(h.bottom,u.bottom),u.left=Zn(h.left,u.left),u},OE(e,a,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tD(n){const{width:e,height:t}=q_(n);return{width:e,height:t}}function nD(n,e,t){const s=Ur(e),r=Wr(e),i=t==="fixed",o=oc(n,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Hr(0);function u(){c.x=Rx(r)}if(s||!s&&!i)if((Td(e)!=="body"||Fp(r))&&(a=$y(e)),s){const p=oc(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else r&&u();i&&!s&&r&&u();const d=r&&!s&&!i?K_(r,a):Hr(0),h=o.left+a.scrollLeft-c.x-d.x,f=o.top+a.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function zv(n){return rr(n).position==="static"}function FE(n,e){if(!Ur(n)||rr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Wr(n)===t&&(t=t.ownerDocument.body),t}function J_(n,e){const t=ss(n);if(zy(n))return t;if(!Ur(n)){let r=pa(n);for(;r&&!yd(r);){if(sr(r)&&!zv(r))return r;r=pa(r)}return t}let s=FE(n,e);for(;s&&j2(s)&&zv(s);)s=FE(s,e);return s&&yd(s)&&zv(s)&&!Tx(s)?t:s||U2(n)||t}const sD=async function(n){const e=this.getOffsetParent||J_,t=this.getDimensions,s=await t(n.floating);return{reference:nD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function rD(n){return rr(n).direction==="rtl"}const iD={convertOffsetParentRelativeRectToViewportRelativeRect:X2,getDocumentElement:Wr,getClippingRect:eD,getOffsetParent:J_,getElementRects:sD,getClientRects:q2,getDimensions:tD,getScale:Wc,isElement:sr,isRTL:rD};function Z_(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function oD(n,e){let t=null,s;const r=Wr(n);function i(){var a;clearTimeout(s),(a=t)==null||a.disconnect(),t=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=n.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(a||e(),!f||!p)return;const y=pg(h),g=pg(r.clientWidth-(d+f)),b=pg(r.clientHeight-(h+p)),m=pg(d),x={rootMargin:-y+"px "+-g+"px "+-b+"px "+-m+"px",threshold:Zn(0,fa(1,c))||1};let S=!0;function C(T){const P=T[0].intersectionRatio;if(P!==c){if(!S)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!Z_(u,n.getBoundingClientRect())&&o(),S=!1}try{t=new IntersectionObserver(C,{...x,root:r.ownerDocument})}catch{t=new IntersectionObserver(C,x)}t.observe(n)}return o(!0),i}function aD(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=kx(n),d=r||i?[...u?$h(u):[],...$h(e)]:[];d.forEach(m=>{r&&m.addEventListener("scroll",t,{passive:!0}),i&&m.addEventListener("resize",t)});const h=u&&a?oD(u,t):null;let f=-1,p=null;o&&(p=new ResizeObserver(m=>{let[w]=m;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),t()}),u&&!c&&p.observe(u),p.observe(e));let y,g=c?oc(n):null;c&&b();function b(){const m=oc(n);g&&!Z_(g,m)&&t(),g=m,y=requestAnimationFrame(b)}return t(),()=>{var m;d.forEach(w=>{r&&w.removeEventListener("scroll",t),i&&w.removeEventListener("resize",t)}),h==null||h(),(m=p)==null||m.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const lD=M2,cD=N2,uD=k2,dD=D2,hD=R2,jE=P2,fD=I2,pD=(n,e,t)=>{const s=new Map,r={platform:iD,...t},i={...r.platform,_c:s};return T2(n,e,{...r,platform:i})};var gD=typeof document<"u",mD=function(){},Fg=gD?_.useLayoutEffect:mD;function Um(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!Um(n[s],e[s]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=t;s--!==0;){const i=r[s];if(!(i==="_owner"&&n.$$typeof)&&!Um(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function eT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function BE(n,e){const t=eT(n);return Math.round(e*t)/t}function $v(n){const e=_.useRef(n);return Fg(()=>{e.current=n}),e}function yD(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=n,[d,h]=_.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=_.useState(s);Um(f,s)||p(s);const[y,g]=_.useState(null),[b,m]=_.useState(null),w=_.useCallback(N=>{N!==T.current&&(T.current=N,g(N))},[]),x=_.useCallback(N=>{N!==P.current&&(P.current=N,m(N))},[]),S=i||y,C=o||b,T=_.useRef(null),P=_.useRef(null),R=_.useRef(d),L=c!=null,M=$v(c),D=$v(r),B=$v(u),V=_.useCallback(()=>{if(!T.current||!P.current)return;const N={placement:e,strategy:t,middleware:f};D.current&&(N.platform=D.current),pD(T.current,P.current,N).then(F=>{const U={...F,isPositioned:B.current!==!1};I.current&&!Um(R.current,U)&&(R.current=U,Np.flushSync(()=>{h(U)}))})},[f,e,t,D,B]);Fg(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(N=>({...N,isPositioned:!1})))},[u]);const I=_.useRef(!1);Fg(()=>(I.current=!0,()=>{I.current=!1}),[]),Fg(()=>{if(S&&(T.current=S),C&&(P.current=C),S&&C){if(M.current)return M.current(S,C,V);V()}},[S,C,V,M,L]);const K=_.useMemo(()=>({reference:T,floating:P,setReference:w,setFloating:x}),[w,x]),O=_.useMemo(()=>({reference:S,floating:C}),[S,C]),j=_.useMemo(()=>{const N={position:t,left:0,top:0};if(!O.floating)return N;const F=BE(O.floating,d.x),U=BE(O.floating,d.y);return a?{...N,transform:"translate("+F+"px, "+U+"px)",...eT(O.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:F,top:U}},[t,a,O.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:V,refs:K,elements:O,floatingStyles:j}),[d,V,K,O,j])}const vD=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:r}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?jE({element:s.current,padding:r}).fn(t):{}:s?jE({element:s,padding:r}).fn(t):{}}}},wD=(n,e)=>({...lD(n),options:[n,e]}),bD=(n,e)=>({...cD(n),options:[n,e]}),xD=(n,e)=>({...fD(n),options:[n,e]}),AD=(n,e)=>({...uD(n),options:[n,e]}),ED=(n,e)=>({...dD(n),options:[n,e]}),SD=(n,e)=>({...hD(n),options:[n,e]}),CD=(n,e)=>({...vD(n),options:[n,e]});var _D="Arrow",tT=_.forwardRef((n,e)=>{const{children:t,width:s=10,height:r=5,...i}=n;return k.jsx(sn.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:k.jsx("polygon",{points:"0,0 30,0 15,10"})})});tT.displayName=_D;var TD=tT;function PD(n){const[e,t]=_.useState(void 0);return ha(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var nT="Popper",[sT,rT]=Ip(nT),[oB,iT]=sT(nT),oT="PopperAnchor",aT=_.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...r}=n,i=iT(oT,t),o=_.useRef(null),a=nr(e,o);return _.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:k.jsx(sn.div,{...r,ref:a})});aT.displayName=oT;var Lx="PopperContent",[kD,RD]=sT(Lx),lT=_.forwardRef((n,e)=>{var Z,Nt,lt,xe,bt,Vt;const{__scopePopper:t,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=n,b=iT(Lx,t),[m,w]=_.useState(null),x=nr(e,ue=>w(ue)),[S,C]=_.useState(null),T=PD(S),P=(T==null?void 0:T.width)??0,R=(T==null?void 0:T.height)??0,L=s+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],B=D.length>0,V={padding:M,boundary:D.filter(MD),altBoundary:B},{refs:I,floatingStyles:K,placement:O,isPositioned:j,middlewareData:N}=yD({strategy:"fixed",placement:L,whileElementsMounted:(...ue)=>aD(...ue,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[wD({mainAxis:r+R,alignmentAxis:o}),c&&bD({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?xD():void 0,...V}),c&&AD({...V}),ED({...V,apply:({elements:ue,rects:Se,availableWidth:We,availableHeight:Ge})=>{const{width:ar,height:Ts}=Se.reference,lr=ue.floating.style;lr.setProperty("--radix-popper-available-width",`${We}px`),lr.setProperty("--radix-popper-available-height",`${Ge}px`),lr.setProperty("--radix-popper-anchor-width",`${ar}px`),lr.setProperty("--radix-popper-anchor-height",`${Ts}px`)}}),S&&CD({element:S,padding:a}),ND({arrowWidth:P,arrowHeight:R}),f&&SD({strategy:"referenceHidden",...V})]}),[F,U]=dT(O),ne=da(y);ha(()=>{j&&(ne==null||ne())},[j,ne]);const W=(Z=N.arrow)==null?void 0:Z.x,Q=(Nt=N.arrow)==null?void 0:Nt.y,se=((lt=N.arrow)==null?void 0:lt.centerOffset)!==0,[me,be]=_.useState();return ha(()=>{m&&be(window.getComputedStyle(m).zIndex)},[m]),k.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:j?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(xe=N.transformOrigin)==null?void 0:xe.x,(bt=N.transformOrigin)==null?void 0:bt.y].join(" "),...((Vt=N.hide)==null?void 0:Vt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:k.jsx(kD,{scope:t,placedSide:F,onArrowChange:C,arrowX:W,arrowY:Q,shouldHideArrow:se,children:k.jsx(sn.div,{"data-side":F,"data-align":U,...g,ref:x,style:{...g.style,animation:j?void 0:"none"}})})})});lT.displayName=Lx;var cT="PopperArrow",LD={top:"bottom",right:"left",bottom:"top",left:"right"},uT=_.forwardRef(function(e,t){const{__scopePopper:s,...r}=e,i=RD(cT,s),o=LD[i.placedSide];return k.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:k.jsx(TD,{...r,ref:t,style:{...r.style,display:"block"}})})});uT.displayName=cT;function MD(n){return n!==null}var ND=n=>({name:"transformOrigin",options:n,fn(e){var b,m,w;const{placement:t,rects:s,middlewareData:r}=e,o=((b=r.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:n.arrowWidth,c=o?0:n.arrowHeight,[u,d]=dT(t),h={start:"0%",center:"50%",end:"100%"}[d],f=(((m=r.arrow)==null?void 0:m.x)??0)+a/2,p=(((w=r.arrow)==null?void 0:w.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=o?h:`${f}px`,g=`${-c}px`):u==="top"?(y=o?h:`${f}px`,g=`${s.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=o?h:`${p}px`):u==="left"&&(y=`${s.floating.width+c}px`,g=o?h:`${p}px`),{data:{x:y,y:g}}}});function dT(n){const[e,t="center"]=n.split("-");return[e,t]}var ID=aT,DD=lT,OD=uT,[Hy,aB]=Ip("Tooltip",[rT]),Mx=rT(),hT="TooltipProvider",FD=700,zE="tooltip.open",[jD,fT]=Hy(hT),pT=n=>{const{__scopeTooltip:e,delayDuration:t=FD,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=n,o=_.useRef(!0),a=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),k.jsx(jD,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:a,onPointerInTransitChange:_.useCallback(u=>{a.current=u},[]),disableHoverableContent:r,children:i})};pT.displayName=hT;var gT="Tooltip",[lB,Uy]=Hy(gT),J0="TooltipTrigger",BD=_.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=Uy(J0,t),i=fT(J0,t),o=Mx(t),a=_.useRef(null),c=nr(e,a,r.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),h=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),k.jsx(ID,{asChild:!0,...o,children:k.jsx(sn.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:yt(n.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:yt(n.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:yt(n.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:yt(n.onFocus,()=>{u.current||r.onOpen()}),onBlur:yt(n.onBlur,r.onClose),onClick:yt(n.onClick,r.onClose)})})});BD.displayName=J0;var zD="TooltipPortal",[cB,$D]=Hy(zD,{forceMount:void 0}),vd="TooltipContent",mT=_.forwardRef((n,e)=>{const t=$D(vd,n.__scopeTooltip),{forceMount:s=t.forceMount,side:r="top",...i}=n,o=Uy(vd,n.__scopeTooltip);return k.jsx(mx,{present:s||o.open,children:o.disableHoverableContent?k.jsx(yT,{side:r,...i,ref:e}):k.jsx(HD,{side:r,...i,ref:e})})}),HD=_.forwardRef((n,e)=>{const t=Uy(vd,n.__scopeTooltip),s=fT(vd,n.__scopeTooltip),r=_.useRef(null),i=nr(e,r),[o,a]=_.useState(null),{trigger:c,onClose:u}=t,d=r.current,{onPointerInTransitChange:h}=s,f=_.useCallback(()=>{a(null),h(!1)},[h]),p=_.useCallback((y,g)=>{const b=y.currentTarget,m={x:y.clientX,y:y.clientY},w=XD(m,b.getBoundingClientRect()),x=qD(m,w),S=YD(g.getBoundingClientRect()),C=QD([...x,...S]);a(C),h(!0)},[h]);return _.useEffect(()=>()=>f(),[f]),_.useEffect(()=>{if(c&&d){const y=b=>p(b,d),g=b=>p(b,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,p,f]),_.useEffect(()=>{if(o){const y=g=>{const b=g.target,m={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),x=!KD(m,o);w?f():x&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,f]),k.jsx(yT,{...n,ref:i})}),[UD,VD]=Hy(gT,{isInside:!1}),WD=nN("TooltipContent"),yT=_.forwardRef((n,e)=>{const{__scopeTooltip:t,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=n,c=Uy(vd,t),u=Mx(t),{onClose:d}=c;return _.useEffect(()=>(document.addEventListener(zE,d),()=>document.removeEventListener(zE,d)),[d]),_.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),k.jsx(gx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:k.jsxs(DD,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[k.jsx(WD,{children:s}),k.jsx(UD,{scope:t,isInside:!0,children:k.jsx(TN,{id:c.contentId,role:"tooltip",children:r||s})})]})})});mT.displayName=vd;var vT="TooltipArrow",GD=_.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=Mx(t);return VD(vT,t).isInside?null:k.jsx(OD,{...r,...s,ref:e})});GD.displayName=vT;function XD(n,e){const t=Math.abs(e.top-n.y),s=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,s,r,i)){case i:return"left";case r:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function qD(n,e,t=5){const s=[];switch(e){case"top":s.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":s.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":s.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":s.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return s}function YD(n){const{top:e,right:t,bottom:s,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:s},{x:r,y:s}]}function KD(n,e){const{x:t,y:s}=n;let r=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],u=a.x,d=a.y,h=c.x,f=c.y;d>s!=f>s&&t<(h-u)*(s-d)/(f-d)+u&&(r=!r)}return r}function QD(n){const e=n.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),JD(e)}function JD(n){if(n.length<=1)return n.slice();const e=[];for(let s=0;s<n.length;s++){const r=n[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let s=n.length-1;s>=0;s--){const r=n[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var ZD=pT,wT=mT;const eO=ZD,tO=_.forwardRef(({className:n,sideOffset:e=4,...t},s)=>k.jsx(wT,{ref:s,sideOffset:e,className:Mt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));tO.displayName=wT.displayName;var Vy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wy=typeof window>"u"||"Deno"in globalThis;function Ds(){}function nO(n,e){return typeof n=="function"?n(e):n}function sO(n){return typeof n=="number"&&n>=0&&n!==1/0}function rO(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Z0(n,e){return typeof n=="function"?n(e):n}function iO(n,e){return typeof n=="function"?n(e):n}function $E(n,e){const{type:t="all",exact:s,fetchStatus:r,predicate:i,queryKey:o,stale:a}=n;if(o){if(s){if(e.queryHash!==Nx(o,e.options))return!1}else if(!Uh(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||i&&!i(e))}function HE(n,e){const{exact:t,status:s,predicate:r,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(Hh(e.options.mutationKey)!==Hh(i))return!1}else if(!Uh(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function Nx(n,e){return((e==null?void 0:e.queryKeyHashFn)||Hh)(n)}function Hh(n){return JSON.stringify(n,(e,t)=>ew(t)?Object.keys(t).sort().reduce((s,r)=>(s[r]=t[r],s),{}):t)}function Uh(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Uh(n[t],e[t])):!1}function bT(n,e){if(n===e)return n;const t=UE(n)&&UE(e);if(t||ew(n)&&ew(e)){const s=t?n:Object.keys(n),r=s.length,i=t?e:Object.keys(e),o=i.length,a=t?[]:{},c=new Set(s);let u=0;for(let d=0;d<o;d++){const h=t?d:i[d];(!t&&c.has(h)||t)&&n[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=bT(n[h],e[h]),a[h]===n[h]&&n[h]!==void 0&&u++)}return r===o&&u===r?n:a}return e}function UE(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function ew(n){if(!VE(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!VE(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function VE(n){return Object.prototype.toString.call(n)==="[object Object]"}function oO(n){return new Promise(e=>{setTimeout(e,n)})}function aO(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?bT(n,e):e}function lO(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function cO(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var Ix=Symbol();function xT(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Ix?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var ja,co,Kc,NS,uO=(NS=class extends Vy{constructor(){super();A(this,ja);A(this,co);A(this,Kc);v(this,Kc,e=>{if(!Wy&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){l(this,co)||this.setEventListener(l(this,Kc))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,co))==null||e.call(this),v(this,co,void 0))}setEventListener(e){var t;v(this,Kc,e),(t=l(this,co))==null||t.call(this),v(this,co,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){l(this,ja)!==e&&(v(this,ja,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof l(this,ja)=="boolean"?l(this,ja):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ja=new WeakMap,co=new WeakMap,Kc=new WeakMap,NS),AT=new uO,Qc,uo,Jc,IS,dO=(IS=class extends Vy{constructor(){super();A(this,Qc,!0);A(this,uo);A(this,Jc);v(this,Jc,e=>{if(!Wy&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){l(this,uo)||this.setEventListener(l(this,Jc))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,uo))==null||e.call(this),v(this,uo,void 0))}setEventListener(e){var t;v(this,Jc,e),(t=l(this,uo))==null||t.call(this),v(this,uo,e(this.setOnline.bind(this)))}setOnline(e){l(this,Qc)!==e&&(v(this,Qc,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return l(this,Qc)}},Qc=new WeakMap,uo=new WeakMap,Jc=new WeakMap,IS),Vm=new dO;function hO(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});t.status="pending",t.catch(()=>{});function s(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{s({status:"fulfilled",value:r}),n(r)},t.reject=r=>{s({status:"rejected",reason:r}),e(r)},t}function fO(n){return Math.min(1e3*2**n,3e4)}function ET(n){return(n??"online")==="online"?Vm.isOnline():!0}var ST=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Hv(n){return n instanceof ST}function CT(n){let e=!1,t=0,s=!1,r;const i=hO(),o=g=>{var b;s||(f(new ST(g)),(b=n.abort)==null||b.call(n))},a=()=>{e=!0},c=()=>{e=!1},u=()=>AT.isFocused()&&(n.networkMode==="always"||Vm.isOnline())&&n.canRun(),d=()=>ET(n.networkMode)&&n.canRun(),h=g=>{var b;s||(s=!0,(b=n.onSuccess)==null||b.call(n,g),r==null||r(),i.resolve(g))},f=g=>{var b;s||(s=!0,(b=n.onError)==null||b.call(n,g),r==null||r(),i.reject(g))},p=()=>new Promise(g=>{var b;r=m=>{(s||u())&&g(m)},(b=n.onPause)==null||b.call(n)}).then(()=>{var g;r=void 0,s||(g=n.onContinue)==null||g.call(n)}),y=()=>{if(s)return;let g;const b=t===0?n.initialPromise:void 0;try{g=b??n.fn()}catch(m){g=Promise.reject(m)}Promise.resolve(g).then(h).catch(m=>{var T;if(s)return;const w=n.retry??(Wy?0:3),x=n.retryDelay??fO,S=typeof x=="function"?x(t,m):x,C=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,m);if(e||!C){f(m);return}t++,(T=n.onFail)==null||T.call(n,t,m),oO(S).then(()=>u()?void 0:p()).then(()=>{e?f(m):y()})})};return{promise:i,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}var pO=n=>setTimeout(n,0);function gO(){let n=[],e=0,t=a=>{a()},s=a=>{a()},r=pO;const i=a=>{e?n.push(a):r(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&r(()=>{s(()=>{a.forEach(c=>{t(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{r=a}}}var pn=gO(),Ba,DS,_T=(DS=class{constructor(){A(this,Ba)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sO(this.gcTime)&&v(this,Ba,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Wy?1/0:5*60*1e3))}clearGcTimeout(){l(this,Ba)&&(clearTimeout(l(this,Ba)),v(this,Ba,void 0))}},Ba=new WeakMap,DS),Zc,za,cs,$a,Yt,Qh,Ha,Os,qr,OS,mO=(OS=class extends _T{constructor(e){super();A(this,Os);A(this,Zc);A(this,za);A(this,cs);A(this,$a);A(this,Yt);A(this,Qh);A(this,Ha);v(this,Ha,!1),v(this,Qh,e.defaultOptions),this.setOptions(e.options),this.observers=[],v(this,$a,e.client),v(this,cs,l(this,$a).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,v(this,Zc,vO(this.options)),this.state=e.state??l(this,Zc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=l(this,Yt))==null?void 0:e.promise}setOptions(e){this.options={...l(this,Qh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,cs).remove(this)}setData(e,t){const s=aO(this.state.data,e,this.options);return E(this,Os,qr).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){E(this,Os,qr).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,r;const t=(s=l(this,Yt))==null?void 0:s.promise;return(r=l(this,Yt))==null||r.cancel(e),t?t.then(Ds).catch(Ds):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,Zc))}isActive(){return this.observers.some(e=>iO(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ix||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Z0(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!rO(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=l(this,Yt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=l(this,Yt))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),l(this,cs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(l(this,Yt)&&(l(this,Ha)?l(this,Yt).cancel({revert:!0}):l(this,Yt).cancelRetry()),this.scheduleGc()),l(this,cs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||E(this,Os,qr).call(this,{type:"invalidate"})}fetch(e,t){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(l(this,Yt))return l(this,Yt).continueRetry(),l(this,Yt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,r=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(v(this,Ha,!0),s.signal)})},i=()=>{const f=xT(this.options,t),y=(()=>{const g={client:l(this,$a),queryKey:this.queryKey,meta:this.meta};return r(g),g})();return v(this,Ha,!1),this.options.persister?this.options.persister(f,y,this):f(y)},a=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:l(this,$a),state:this.state,fetchFn:i};return r(f),f})();(u=this.options.behavior)==null||u.onFetch(a,this),v(this,za,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&E(this,Os,qr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const c=f=>{var p,y,g,b;Hv(f)&&f.silent||E(this,Os,qr).call(this,{type:"error",error:f}),Hv(f)||((y=(p=l(this,cs).config).onError)==null||y.call(p,f,this),(b=(g=l(this,cs).config).onSettled)==null||b.call(g,this.state.data,f,this)),this.scheduleGc()};return v(this,Yt,CT({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var p,y,g,b;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(m){c(m);return}(y=(p=l(this,cs).config).onSuccess)==null||y.call(p,f,this),(b=(g=l(this,cs).config).onSettled)==null||b.call(g,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{E(this,Os,qr).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{E(this,Os,qr).call(this,{type:"pause"})},onContinue:()=>{E(this,Os,qr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),l(this,Yt).start()}},Zc=new WeakMap,za=new WeakMap,cs=new WeakMap,$a=new WeakMap,Yt=new WeakMap,Qh=new WeakMap,Ha=new WeakMap,Os=new WeakSet,qr=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...yO(s.data,this.options),fetchMeta:e.meta??null};case"success":return v(this,za,void 0),{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Hv(r)&&r.revert&&l(this,za)?{...l(this,za),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),pn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),l(this,cs).notify({query:this,type:"updated",action:e})})},OS);function yO(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ET(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function vO(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var mr,FS,wO=(FS=class extends Vy{constructor(e={}){super();A(this,mr);this.config=e,v(this,mr,new Map)}build(e,t,s){const r=t.queryKey,i=t.queryHash??Nx(r,t);let o=this.get(i);return o||(o=new mO({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){l(this,mr).has(e.queryHash)||(l(this,mr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=l(this,mr).get(e.queryHash);t&&(e.destroy(),t===e&&l(this,mr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return l(this,mr).get(e)}getAll(){return[...l(this,mr).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>$E(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>$E(e,s)):t}notify(e){pn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){pn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mr=new WeakMap,FS),yr,ln,Ua,vr,no,jS,bO=(jS=class extends _T{constructor(e){super();A(this,vr);A(this,yr);A(this,ln);A(this,Ua);this.mutationId=e.mutationId,v(this,ln,e.mutationCache),v(this,yr,[]),this.state=e.state||xO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){l(this,yr).includes(e)||(l(this,yr).push(e),this.clearGcTimeout(),l(this,ln).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){v(this,yr,l(this,yr).filter(t=>t!==e)),this.scheduleGc(),l(this,ln).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){l(this,yr).length||(this.state.status==="pending"?this.scheduleGc():l(this,ln).remove(this))}continue(){var e;return((e=l(this,Ua))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,u,d,h,f,p,y,g,b,m,w,x,S,C,T,P,R;const t=()=>{E(this,vr,no).call(this,{type:"continue"})};v(this,Ua,CT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,M)=>{E(this,vr,no).call(this,{type:"failed",failureCount:L,error:M})},onPause:()=>{E(this,vr,no).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,ln).canRun(this)}));const s=this.state.status==="pending",r=!l(this,Ua).canStart();try{if(s)t();else{E(this,vr,no).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(i=l(this,ln).config).onMutate)==null?void 0:o.call(i,e,this));const M=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));M!==this.state.context&&E(this,vr,no).call(this,{type:"pending",context:M,variables:e,isPaused:r})}const L=await l(this,Ua).start();return await((d=(u=l(this,ln).config).onSuccess)==null?void 0:d.call(u,L,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,L,e,this.state.context)),await((y=(p=l(this,ln).config).onSettled)==null?void 0:y.call(p,L,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,L,null,e,this.state.context)),E(this,vr,no).call(this,{type:"success",data:L}),L}catch(L){try{throw await((w=(m=l(this,ln).config).onError)==null?void 0:w.call(m,L,e,this.state.context,this)),await((S=(x=this.options).onError)==null?void 0:S.call(x,L,e,this.state.context)),await((T=(C=l(this,ln).config).onSettled)==null?void 0:T.call(C,void 0,L,this.state.variables,this.state.context,this)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,void 0,L,e,this.state.context)),L}finally{E(this,vr,no).call(this,{type:"error",error:L})}}finally{l(this,ln).runNext(this)}}},yr=new WeakMap,ln=new WeakMap,Ua=new WeakMap,vr=new WeakSet,no=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),pn.batch(()=>{l(this,yr).forEach(s=>{s.onMutationUpdate(e)}),l(this,ln).notify({mutation:this,type:"updated",action:e})})},jS);function xO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ni,Fs,Jh,BS,AO=(BS=class extends Vy{constructor(e={}){super();A(this,ni);A(this,Fs);A(this,Jh);this.config=e,v(this,ni,new Set),v(this,Fs,new Map),v(this,Jh,0)}build(e,t,s){const r=new bO({mutationCache:this,mutationId:++xt(this,Jh)._,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){l(this,ni).add(e);const t=gg(e);if(typeof t=="string"){const s=l(this,Fs).get(t);s?s.push(e):l(this,Fs).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(l(this,ni).delete(e)){const t=gg(e);if(typeof t=="string"){const s=l(this,Fs).get(t);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&l(this,Fs).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=gg(e);if(typeof t=="string"){const s=l(this,Fs).get(t),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const t=gg(e);if(typeof t=="string"){const r=(s=l(this,Fs).get(t))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pn.batch(()=>{l(this,ni).forEach(e=>{this.notify({type:"removed",mutation:e})}),l(this,ni).clear(),l(this,Fs).clear()})}getAll(){return Array.from(l(this,ni))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>HE(t,s))}findAll(e={}){return this.getAll().filter(t=>HE(e,t))}notify(e){pn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return pn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ds))))}},ni=new WeakMap,Fs=new WeakMap,Jh=new WeakMap,BS);function gg(n){var e;return(e=n.options.scope)==null?void 0:e.id}function WE(n){return{onFetch:(e,t)=>{var d,h,f,p,y;const s=e.options,r=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},m=xT(e.options,e.fetchOptions),w=async(x,S,C)=>{if(g)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const P=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:S,direction:C?"backward":"forward",meta:e.options.meta};return b(D),D})(),R=await m(P),{maxPages:L}=e.options,M=C?cO:lO;return{pages:M(x.pages,R,L),pageParams:M(x.pageParams,S,L)}};if(r&&i.length){const x=r==="backward",S=x?EO:GE,C={pages:i,pageParams:o},T=S(s,C);a=await w(C,T,x)}else{const x=n??i.length;do{const S=c===0?o[0]??s.initialPageParam:GE(s,a);if(c>0&&S==null)break;a=await w(a,S),c++}while(c<x)}return a};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function GE(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function EO(n,{pages:e,pageParams:t}){var s;return e.length>0?(s=n.getPreviousPageParam)==null?void 0:s.call(n,e[0],e,t[0],t):void 0}var Je,ho,fo,eu,tu,po,nu,su,zS,SO=(zS=class{constructor(n={}){A(this,Je);A(this,ho);A(this,fo);A(this,eu);A(this,tu);A(this,po);A(this,nu);A(this,su);v(this,Je,n.queryCache||new wO),v(this,ho,n.mutationCache||new AO),v(this,fo,n.defaultOptions||{}),v(this,eu,new Map),v(this,tu,new Map),v(this,po,0)}mount(){xt(this,po)._++,l(this,po)===1&&(v(this,nu,AT.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,Je).onFocus())})),v(this,su,Vm.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,Je).onOnline())})))}unmount(){var n,e;xt(this,po)._--,l(this,po)===0&&((n=l(this,nu))==null||n.call(this),v(this,nu,void 0),(e=l(this,su))==null||e.call(this),v(this,su,void 0))}isFetching(n){return l(this,Je).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return l(this,ho).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=l(this,Je).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=l(this,Je).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Z0(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(n){return l(this,Je).findAll(n).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(n,e,t){const s=this.defaultQueryOptions({queryKey:n}),r=l(this,Je).get(s.queryHash),i=r==null?void 0:r.state.data,o=nO(e,i);if(o!==void 0)return l(this,Je).build(this,s).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return pn.batch(()=>l(this,Je).findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=l(this,Je).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=l(this,Je);pn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=l(this,Je);return pn.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},s=pn.batch(()=>l(this,Je).findAll(n).map(r=>r.cancel(t)));return Promise.all(s).then(Ds).catch(Ds)}invalidateQueries(n,e={}){return pn.batch(()=>(l(this,Je).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=pn.batch(()=>l(this,Je).findAll(n).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,t);return t.throwOnError||(i=i.catch(Ds)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Ds)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=l(this,Je).build(this,e);return t.isStaleByTime(Z0(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Ds).catch(Ds)}fetchInfiniteQuery(n){return n.behavior=WE(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Ds).catch(Ds)}ensureInfiniteQueryData(n){return n.behavior=WE(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Vm.isOnline()?l(this,ho).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,Je)}getMutationCache(){return l(this,ho)}getDefaultOptions(){return l(this,fo)}setDefaultOptions(n){v(this,fo,n)}setQueryDefaults(n,e){l(this,eu).set(Hh(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...l(this,eu).values()],t={};return e.forEach(s=>{Uh(n,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(n,e){l(this,tu).set(Hh(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...l(this,tu).values()],t={};return e.forEach(s=>{Uh(n,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...l(this,fo).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Nx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ix&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...l(this,fo).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){l(this,Je).clear(),l(this,ho).clear()}},Je=new WeakMap,ho=new WeakMap,fo=new WeakMap,eu=new WeakMap,tu=new WeakMap,po=new WeakMap,nu=new WeakMap,su=new WeakMap,zS),CO=_.createContext(void 0),_O=({client:n,children:e})=>(_.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),k.jsx(CO.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wm(){return Wm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Wm.apply(this,arguments)}var ea;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ea||(ea={}));const XE="popstate";function TO(n){n===void 0&&(n={});function e(s,r){let{pathname:i,search:o,hash:a}=s.location;return tw("",{pathname:i,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){return typeof r=="string"?r:PT(r)}return kO(e,t,null,n)}function In(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function TT(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PO(){return Math.random().toString(36).substr(2,8)}function qE(n,e){return{usr:n.state,key:n.key,idx:e}}function tw(n,e,t,s){return t===void 0&&(t=null),Wm({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Gy(e):e,{state:t,key:e&&e.key||s||PO()})}function PT(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Gy(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function kO(n,e,t,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,a=ea.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Wm({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ea.Pop;let b=d(),m=b==null?null:b-u;u=b,c&&c({action:a,location:g.location,delta:m})}function f(b,m){a=ea.Push;let w=tw(g.location,b,m);u=d()+1;let x=qE(w,u),S=g.createHref(w);try{o.pushState(x,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(S)}i&&c&&c({action:a,location:g.location,delta:1})}function p(b,m){a=ea.Replace;let w=tw(g.location,b,m);u=d();let x=qE(w,u),S=g.createHref(w);o.replaceState(x,"",S),i&&c&&c({action:a,location:g.location,delta:0})}function y(b){let m=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof b=="string"?b:PT(b);return w=w.replace(/ $/,"%20"),In(m,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,m)}let g={get action(){return a},get location(){return n(r,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(XE,h),c=b,()=>{r.removeEventListener(XE,h),c=null}},createHref(b){return e(r,b)},createURL:y,encodeLocation(b){let m=y(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(b){return o.go(b)}};return g}var YE;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(YE||(YE={}));function RO(n,e,t){return t===void 0&&(t="/"),LO(n,e,t)}function LO(n,e,t,s){let r=typeof e=="string"?Gy(e):e,i=LT(r.pathname||"/",t);if(i==null)return null;let o=kT(n);MO(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=VO(i);a=$O(o[c],u)}return a}function kT(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let r=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(In(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Gc([s,c.relativePath]),d=t.concat(c);i.children&&i.children.length>0&&(In(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kT(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:BO(u,i.index),routesMeta:d})};return n.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))r(i,o);else for(let c of RT(i.path))r(i,o,c)}),e}function RT(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,r=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=RT(s.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),r&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function MO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:zO(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const NO=/^:[\w-]+$/,IO=3,DO=2,OO=1,FO=10,jO=-2,KE=n=>n==="*";function BO(n,e){let t=n.split("/"),s=t.length;return t.some(KE)&&(s+=jO),e&&(s+=DO),t.filter(r=>!KE(r)).reduce((r,i)=>r+(NO.test(i)?IO:i===""?OO:FO),s)}function zO(n,e){return n.length===e.length&&n.slice(0,-1).every((s,r)=>s===e[r])?n[n.length-1]-e[e.length-1]:0}function $O(n,e,t){let{routesMeta:s}=n,r={},i="/",o=[];for(let a=0;a<s.length;++a){let c=s[a],u=a===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=HO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Gc([i,h.pathname]),pathnameBase:WO(Gc([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Gc([i,h.pathnameBase]))}return o}function HO(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=UO(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:n}}function UO(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),TT(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(s.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function VO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return TT(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function LT(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}const Gc=n=>n.join("/").replace(/\/\/+/g,"/"),WO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");function GO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const MT=["post","put","patch","delete"];new Set(MT);const XO=["get",...MT];new Set(XO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gm(){return Gm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Gm.apply(this,arguments)}const qO=_.createContext(null),YO=_.createContext(null),NT=_.createContext(null),Xy=_.createContext(null),qy=_.createContext({outlet:null,matches:[],isDataRoute:!1}),IT=_.createContext(null);function Dx(){return _.useContext(Xy)!=null}function DT(){return Dx()||In(!1),_.useContext(Xy).location}function KO(n,e){return QO(n,e)}function QO(n,e,t,s){Dx()||In(!1);let{navigator:r}=_.useContext(NT),{matches:i}=_.useContext(qy),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=DT(),d;if(e){var h;let b=typeof e=="string"?Gy(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||In(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=RO(n,{pathname:p}),g=nF(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Gc([c,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Gc([c,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,t,s);return e&&g?_.createElement(Xy.Provider,{value:{location:Gm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ea.Pop}},g):g}function JO(){let n=oF(),e=GO(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:r},t):null,null)}const ZO=_.createElement(JO,null);class eF extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(qy.Provider,{value:this.props.routeContext},_.createElement(IT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tF(n){let{routeContext:e,match:t,children:s}=n,r=_.useContext(qO);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(qy.Provider,{value:e},s)}function nF(n,e,t,s){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||In(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(t&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,y=!1,g=null,b=null;t&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||ZO,c&&(u<0&&f===0?(aF("route-fallback"),y=!0,b=null):u===f&&(y=!0,b=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),w=()=>{let x;return p?x=g:y?x=b:h.route.Component?x=_.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,_.createElement(tF,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:t!=null},children:x})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(eF,{location:t.location,revalidation:t.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):w()},null)}var OT=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(OT||{});function sF(n){let e=_.useContext(YO);return e||In(!1),e}function rF(n){let e=_.useContext(qy);return e||In(!1),e}function iF(n){let e=rF(),t=e.matches[e.matches.length-1];return t.route.id||In(!1),t.route.id}function oF(){var n;let e=_.useContext(IT),t=sF(OT.UseRouteError),s=iF();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}const QE={};function aF(n,e,t){QE[n]||(QE[n]=!0)}function lF(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function nw(n){In(!1)}function cF(n){let{basename:e="/",children:t=null,location:s,navigationType:r=ea.Pop,navigator:i,static:o=!1,future:a}=n;Dx()&&In(!1);let c=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:o,future:Gm({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof s=="string"&&(s=Gy(s));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:y="default"}=s,g=_.useMemo(()=>{let b=LT(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:y},navigationType:r}},[c,d,h,f,p,y,r]);return g==null?null:_.createElement(NT.Provider,{value:u},_.createElement(Xy.Provider,{children:t,value:g}))}function uF(n){let{children:e,location:t}=n;return KO(sw(e),t)}new Promise(()=>{});function sw(n,e){e===void 0&&(e=[]);let t=[];return _.Children.forEach(n,(s,r)=>{if(!_.isValidElement(s))return;let i=[...e,r];if(s.type===_.Fragment){t.push.apply(t,sw(s.props.children,i));return}s.type!==nw&&In(!1),!s.props.index||!s.props.children||In(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=sw(s.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const dF="6";try{window.__reactRouterVersion=dF}catch{}const hF="startTransition",JE=ZS[hF];function fF(n){let{basename:e,children:t,future:s,window:r}=n,i=_.useRef();i.current==null&&(i.current=TO({window:r,v5Compat:!0}));let o=i.current,[a,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=_.useCallback(h=>{u&&JE?JE(()=>c(h)):c(h)},[c,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>lF(s),[s]),_.createElement(cF,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:s})}var ZE;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(ZE||(ZE={}));var eS;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(eS||(eS={}));const pF=bx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ec=_.forwardRef(({className:n,variant:e,size:t,asChild:s=!1,...r},i)=>{const o=s?eN:"button";return k.jsx(o,{className:Mt(pF({variant:e,size:t,className:n})),ref:i,...r})});ec.displayName="Button";const oo=_.forwardRef(({className:n,...e},t)=>k.jsx("div",{ref:t,className:Mt("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));oo.displayName="Card";const Ta=_.forwardRef(({className:n,...e},t)=>k.jsx("div",{ref:t,className:Mt("flex flex-col space-y-1.5 p-6",n),...e}));Ta.displayName="CardHeader";const Pa=_.forwardRef(({className:n,...e},t)=>k.jsx("h3",{ref:t,className:Mt("text-2xl font-semibold leading-none tracking-tight",n),...e}));Pa.displayName="CardTitle";const gF=_.forwardRef(({className:n,...e},t)=>k.jsx("p",{ref:t,className:Mt("text-sm text-muted-foreground",n),...e}));gF.displayName="CardDescription";const ka=_.forwardRef(({className:n,...e},t)=>k.jsx("div",{ref:t,className:Mt("p-6 pt-0",n),...e}));ka.displayName="CardContent";const mF=_.forwardRef(({className:n,...e},t)=>k.jsx("div",{ref:t,className:Mt("flex items-center p-6 pt-0",n),...e}));mF.displayName="CardFooter";const rw=_.forwardRef(({className:n,type:e,...t},s)=>k.jsx("input",{type:e,className:Mt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:s,...t}));rw.displayName="Input";const FT=_.forwardRef(({className:n,...e},t)=>k.jsx("textarea",{className:Mt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));FT.displayName="Textarea";const yF=bx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tS({className:n,variant:e,...t}){return k.jsx("div",{className:Mt(yF({variant:e}),n),...t})}var Ox="Progress",Fx=100,[vF,uB]=Ip(Ox),[wF,bF]=vF(Ox),jT=_.forwardRef((n,e)=>{const{__scopeProgress:t,value:s=null,max:r,getValueLabel:i=xF,...o}=n;(r||r===0)&&!nS(r)&&console.error(AF(`${r}`,"Progress"));const a=nS(r)?r:Fx;s!==null&&!sS(s,a)&&console.error(EF(`${s}`,"Progress"));const c=sS(s,a)?s:null,u=Xm(c)?i(c,a):void 0;return k.jsx(wF,{scope:t,value:c,max:a,children:k.jsx(sn.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Xm(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":$T(c,a),"data-value":c??void 0,"data-max":a,...o,ref:e})})});jT.displayName=Ox;var BT="ProgressIndicator",zT=_.forwardRef((n,e)=>{const{__scopeProgress:t,...s}=n,r=bF(BT,t);return k.jsx(sn.div,{"data-state":$T(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:e})});zT.displayName=BT;function xF(n,e){return`${Math.round(n/e*100)}%`}function $T(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function Xm(n){return typeof n=="number"}function nS(n){return Xm(n)&&!isNaN(n)&&n>0}function sS(n,e){return Xm(n)&&!isNaN(n)&&n<=e&&n>=0}function AF(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Fx}\`.`}function EF(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Fx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var HT=jT,SF=zT;const UT=_.forwardRef(({className:n,value:e,...t},s)=>k.jsx(HT,{ref:s,className:Mt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...t,children:k.jsx(SF,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));UT.displayName=HT.displayName;const hn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),iw=[.001,0,0,.001,0,0],Uv=1.35,Kn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Fr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},VT="pdfjs_internal_editor_",ie={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},ge={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},WT={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Xt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ah={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},nt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},mc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},jp={ERRORS:0,WARNINGS:1,INFOS:5},Vh={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},mg={moveTo:0,lineTo:1,curveTo:2,closePath:3},GT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Yy=jp.WARNINGS;function CF(n){Number.isInteger(n)&&(Yy=n)}function _F(){return Yy}function Ky(n){Yy>=jp.INFOS&&console.log(`Info: ${n}`)}function oe(n){Yy>=jp.WARNINGS&&console.log(`Warning: ${n}`)}function Re(n){throw new Error(n)}function dt(n,e){n||Re(e)}function TF(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function jx(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=MF(n)}catch{}}const s=e?URL.parse(n,e):URL.parse(n);return TF(s)?s:null}function Bx(n,e,t=!1){const s=URL.parse(n);return s?(s.hash=e,s.href):t&&jx(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function fe(n,e,t,s=!1){return Object.defineProperty(n,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const dc=function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class rS extends dc{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Vv extends dc{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class qm extends dc{constructor(e){super(e,"InvalidPDFException")}}class Wh extends dc{constructor(e,t,s){super(e,"ResponseException"),this.status=t,this.missing=s}}class PF extends dc{constructor(e){super(e,"FormatError")}}class Vi extends dc{constructor(e){super(e,"AbortException")}}function XT(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Re("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const s=[];for(let r=0;r<e;r+=t){const i=Math.min(r+t,e),o=n.subarray(r,i);s.push(String.fromCharCode.apply(null,o))}return s.join("")}function Bp(n){typeof n!="string"&&Re("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=n.charCodeAt(s)&255;return t}function kF(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function RF(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function LF(){try{return new Function(""),!0}catch{return!1}}class Lt{static get isLittleEndian(){return fe(this,"isLittleEndian",RF())}static get isEvalSupported(){return fe(this,"isEvalSupported",LF())}static get isOffscreenCanvasSupported(){return fe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return fe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return fe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return fe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Wv=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Oi,jg,ow;class te{static makeHexColor(e,t,s){return`#${Wv[e]}${Wv[t]}${Wv[s]}`}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,s=0){const r=e[s],i=e[s+1];e[s]=r*t[0]+i*t[2]+t[4],e[s+1]=r*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t,s=0){const r=t[0],i=t[1],o=t[2],a=t[3],c=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[s+d],f=e[s+d+1];e[s+d]=h*r+f*o+c,e[s+d+1]=h*i+f*a+u}}static applyInverseTransform(e,t){const s=e[0],r=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(s*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-s*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,s){const r=t[0],i=t[1],o=t[2],a=t[3],c=t[4],u=t[5],d=e[0],h=e[1],f=e[2],p=e[3];let y=r*d+c,g=y,b=r*f+c,m=b,w=a*h+u,x=w,S=a*p+u,C=S;if(i!==0||o!==0){const T=i*d,P=i*f,R=o*h,L=o*p;y+=R,m+=R,b+=L,g+=L,w+=T,C+=T,S+=P,x+=P}s[0]=Math.min(s[0],y,b,g,m),s[1]=Math.min(s[1],w,S,x,C),s[2]=Math.max(s[2],y,b,g,m),s[3]=Math.max(s[3],w,S,x,C)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const s=e[0],r=e[1],i=e[2],o=e[3],a=s**2+r**2,c=s*i+r*o,u=i**2+o**2,d=(a+u)/2,h=Math.sqrt(d**2-(a*u-c**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>o?null:[s,i,r,o]}static pointBoundingBox(e,t,s){s[0]=Math.min(s[0],e),s[1]=Math.min(s[1],t),s[2]=Math.max(s[2],e),s[3]=Math.max(s[3],t)}static rectBoundingBox(e,t,s,r,i){i[0]=Math.min(i[0],e,s),i[1]=Math.min(i[1],t,r),i[2]=Math.max(i[2],e,s),i[3]=Math.max(i[3],t,r)}static bezierBoundingBox(e,t,s,r,i,o,a,c,u){u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,c),E(this,Oi,ow).call(this,e,s,i,a,t,r,o,c,3*(-e+3*(s-i)+a),6*(e-2*s+i),3*(s-e),u),E(this,Oi,ow).call(this,e,s,i,a,t,r,o,c,3*(-t+3*(r-o)+c),6*(t-2*r+o),3*(r-t),u)}}Oi=new WeakSet,jg=function(e,t,s,r,i,o,a,c,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,y=h*(h*(h*e+3*u*t)+3*f*s)+p*r,g=h*(h*(h*i+3*u*o)+3*f*a)+p*c;d[0]=Math.min(d[0],y),d[1]=Math.min(d[1],g),d[2]=Math.max(d[2],y),d[3]=Math.max(d[3],g)},ow=function(e,t,s,r,i,o,a,c,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&E(this,Oi,jg).call(this,e,t,s,r,i,o,a,c,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const y=Math.sqrt(p),g=2*u;E(this,Oi,jg).call(this,e,t,s,r,i,o,a,c,(-d+y)/g,f),E(this,Oi,jg).call(this,e,t,s,r,i,o,a,c,(-d-y)/g,f)},A(te,Oi);function MF(n){return decodeURIComponent(escape(n))}let Gv=null,iS=null;function qT(n){return Gv||(Gv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,iS=new Map([["ﬅ","ſt"]])),n.replaceAll(Gv,(e,t,s)=>t?t.normalize("NFKC"):iS.get(s))}function zx(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),XT(n)}const $x="pdfjs_internal_id_";function NF(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[s,r,...i]=t;if(!n(s)&&!Number.isInteger(s)||!e(r))return!1;const o=i.length;let a=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const c of i)if(!(typeof c=="number"||a&&c===null))return!1;return!0}function Zt(n,e,t){return Math.min(Math.max(n,e),t)}function YT(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(XT(n))}function IF(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Bp(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});const Yr="http://www.w3.org/2000/svg",Na=class Na{};$(Na,"CSS",96),$(Na,"PDF",72),$(Na,"PDF_TO_CSS_UNITS",Na.CSS/Na.PDF);let Wi=Na;async function Pd(n,e="text"){if(Xd(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class zp{constructor({viewBox:e,userUnit:t,scale:s,rotation:r,offsetX:i=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=s,this.rotation=r,this.offsetX=i,this.offsetY=o,s*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,p;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,p=-p);let y,g,b,m;d===0?(y=Math.abs(u-e[1])*s+i,g=Math.abs(c-e[0])*s+o,b=(e[3]-e[1])*s,m=(e[2]-e[0])*s):(y=Math.abs(c-e[0])*s+i,g=Math.abs(u-e[1])*s+o,b=(e[2]-e[0])*s,m=(e[3]-e[1])*s),this.transform=[d*s,h*s,f*s,p*s,y-d*s*c-f*s*u,g-h*s*c-p*s*u],this.width=b,this.height=m}get rawDims(){const e=this.viewBox;return fe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}={}){return new zp({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){const s=[e,t];return te.applyTransform(s,this.transform),s}convertToViewportRectangle(e){const t=[e[0],e[1]];te.applyTransform(t,this.transform);const s=[e[2],e[3]];return te.applyTransform(s,this.transform),[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){const s=[e,t];return te.applyInverseTransform(s,this.transform),s}}class Qy extends dc{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function $p(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Jy(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function KT(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function QT(n,e="document.pdf"){if(typeof n!="string")return e;if($p(n))return oe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const s=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!s)return e;const r=a=>{try{let c=decodeURIComponent(a);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:a):c}catch{return a}},i=/\.pdf$/i,o=s.pathname.split("/").at(-1);if(i.test(o))return r(o);if(s.searchParams.size>0){const a=Array.from(s.searchParams.values()).reverse();for(const u of a)if(i.test(u))return r(u);const c=Array.from(s.searchParams.keys()).reverse();for(const u of c)if(i.test(u))return r(u)}if(s.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(s.hash);if(c)return r(c[0])}return e}class oS{constructor(){$(this,"started",Object.create(null));$(this,"times",[])}time(e){e in this.started&&oe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||oe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:r,end:i}of this.times)e.push(`${s.padEnd(t)} ${i-r}ms
`);return e.join("")}}function Xd(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function _s(n){n.preventDefault()}function it(n){n.preventDefault(),n.stopPropagation()}function DF(n){console.log("Deprecated API usage: "+n)}var Zh;class Zy{static toDateObject(e){if(!e||typeof e!="string")return null;l(this,Zh)||v(this,Zh,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=l(this,Zh).exec(e);if(!t)return null;const s=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,a+=h):u==="+"&&(o-=d,a-=h),new Date(Date.UTC(s,r,i,o,a,c))}}Zh=new WeakMap,A(Zy,Zh);function JT(n,{scale:e=1,rotation:t=0}){const{width:s,height:r}=n.attributes.style,i=[0,0,parseInt(s),parseInt(r)];return new zp({viewBox:i,userUnit:1,scale:e,rotation:t})}function Hx(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(oe(`Not a valid color format: "${n}"`),[0,0,0])}function OF(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;n.set(t,Hx(s))}e.remove()}function qe(n){const{a:e,b:t,c:s,d:r,e:i,f:o}=n.getTransform();return[e,t,s,r,i,o]}function hr(n){const{a:e,b:t,c:s,d:r,e:i,f:o}=n.getTransform().invertSelf();return[e,t,s,r,i,o]}function ga(n,e,t=!1,s=!0){if(e instanceof zp){const{pageWidth:r,pageHeight:i}=e.rawDims,{style:o}=n,a=Lt.isCSSRoundSupported,c=`var(--total-scale-factor) * ${r}px`,u=`var(--total-scale-factor) * ${i}px`,d=a?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=a?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}s&&n.setAttribute("data-main-rotation",e.rotation)}class ir{constructor(){const{pixelRatio:e}=ir;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,s,r,i=-1){let o=1/0,a=1/0,c=1/0;s=ir.capPixels(s,i),s>0&&(o=Math.sqrt(s/(e*t))),r!==-1&&(a=r/e,c=r/t);const u=Math.min(o,a,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,s):s}return e}}const Ym=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var go,Va,us,mo,ef,ru,tf,ny,ZT,gn,eP,tP,qd,Bg;const Zr=class Zr{constructor(e){A(this,gn);A(this,go,null);A(this,Va,null);A(this,us);A(this,mo,null);A(this,ef,null);A(this,ru,null);v(this,us,e),l(Zr,tf)||v(Zr,tf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=v(this,go,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=l(this,us)._uiManager._signal;e.addEventListener("contextmenu",_s,{signal:t}),e.addEventListener("pointerdown",E(Zr,ny,ZT),{signal:t});const s=v(this,mo,document.createElement("div"));s.className="buttons",e.append(s);const r=l(this,us).toolbarPosition;if(r){const{style:i}=e,o=l(this,us)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*o}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return l(this,go)}hide(){var e;l(this,go).classList.add("hidden"),(e=l(this,Va))==null||e.hideDropdown()}show(){var e;l(this,go).classList.remove("hidden"),(e=l(this,ef))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=l(this,us),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",l(Zr,tf)[e]),E(this,gn,qd).call(this,s),s.addEventListener("click",r=>{t.delete()},{signal:t._signal}),l(this,mo).append(s)}async addAltText(e){const t=await e.render();E(this,gn,qd).call(this,t),l(this,mo).append(t,l(this,gn,Bg)),v(this,ef,e)}addColorPicker(e){v(this,Va,e);const t=e.renderButton();E(this,gn,qd).call(this,t),l(this,mo).append(t,l(this,gn,Bg))}async addEditSignatureButton(e){const t=v(this,ru,await e.renderEditButton(l(this,us)));E(this,gn,qd).call(this,t),l(this,mo).append(t,l(this,gn,Bg))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){l(this,ru)&&(l(this,ru).title=e)}remove(){var e;l(this,go).remove(),(e=l(this,Va))==null||e.destroy(),v(this,Va,null)}};go=new WeakMap,Va=new WeakMap,us=new WeakMap,mo=new WeakMap,ef=new WeakMap,ru=new WeakMap,tf=new WeakMap,ny=new WeakSet,ZT=function(e){e.stopPropagation()},gn=new WeakSet,eP=function(e){l(this,us)._focusEventsAllowed=!1,it(e)},tP=function(e){l(this,us)._focusEventsAllowed=!0,it(e)},qd=function(e){const t=l(this,us)._uiManager._signal;e.addEventListener("focusin",E(this,gn,eP).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",E(this,gn,tP).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",_s,{signal:t})},Bg=function(){const e=document.createElement("div");return e.className="divider",e},A(Zr,ny),A(Zr,tf,null);let aw=Zr;var nf,Wa,Ga,ya,nP,sP,rP;class FF{constructor(e){A(this,ya);A(this,nf,null);A(this,Wa,null);A(this,Ga);v(this,Ga,e)}show(e,t,s){const[r,i]=E(this,ya,sP).call(this,t,s),{style:o}=l(this,Wa)||v(this,Wa,E(this,ya,nP).call(this));e.append(l(this,Wa)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,Wa).remove()}}nf=new WeakMap,Wa=new WeakMap,Ga=new WeakMap,ya=new WeakSet,nP=function(){const e=v(this,Wa,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",_s,{signal:l(this,Ga)._signal});const t=v(this,nf,document.createElement("div"));return t.className="buttons",e.append(t),E(this,ya,rP).call(this),e},sP=function(e,t){let s=0,r=0;for(const i of e){const o=i.y+i.height;if(o<s)continue;const a=i.x+(t?i.width:0);if(o>s){r=a,s=o;continue}t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,s]},rP=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=l(this,Ga)._signal;e.addEventListener("contextmenu",_s,{signal:s}),e.addEventListener("click",()=>{l(this,Ga).highlightSelection("floating_button")},{signal:s}),l(this,nf).append(e)};function iP(n,e,t){for(const s of t)e.addEventListener(s,n[s].bind(n))}var sy;class jF{constructor(){A(this,sy,0)}get id(){return`${VT}${xt(this,sy)._++}`}}sy=new WeakMap;var iu,sf,Kt,ou,zg;const Zx=class Zx{constructor(){A(this,ou);A(this,iu,zx());A(this,sf,0);A(this,Kt,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const i=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return fe(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:s,size:r,type:i}=e;return E(this,ou,zg).call(this,`${t}_${s}_${r}_${i}`,e)}async getFromUrl(e){return E(this,ou,zg).call(this,e,e)}async getFromBlob(e,t){const s=await t;return E(this,ou,zg).call(this,e,s)}async getFromId(e){l(this,Kt)||v(this,Kt,new Map);const t=l(this,Kt).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){l(this,Kt)||v(this,Kt,new Map);let s=l(this,Kt).get(e);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${l(this,iu)}_${xt(this,sf)._++}`,refCounter:1,isSvg:!1},l(this,Kt).set(e,s),l(this,Kt).set(s.id,s),s}getSvgUrl(e){const t=l(this,Kt).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;l(this,Kt)||v(this,Kt,new Map);const t=l(this,Kt).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(s.width,s.height);i.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=i.convertToBlob()}(r=s.close)==null||r.call(s),t.bitmap=null}isValidId(e){return e.startsWith(`image_${l(this,iu)}_`)}};iu=new WeakMap,sf=new WeakMap,Kt=new WeakMap,ou=new WeakSet,zg=async function(e,t){l(this,Kt)||v(this,Kt,new Map);let s=l(this,Kt).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${l(this,iu)}_${xt(this,sf)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(s.url=t,r=await Pd(t,"blob")):t instanceof File?r=s.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const i=Zx._isSVGFittingCanvas,o=new FileReader,a=new Image,c=new Promise((u,d)=>{a.onload=()=>{s.bitmap=a,s.isSvg=!0,u()},o.onload=async()=>{const h=s.svgUrl=o.result;a.src=await i?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=d});o.readAsDataURL(r),await c}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){oe(r),s=null}return l(this,Kt).set(e,s),s&&l(this,Kt).set(s.id,s),s};let lw=Zx;var st,yo,rf,Xe;class BF{constructor(e=128){A(this,st,[]);A(this,yo,!1);A(this,rf);A(this,Xe,-1);v(this,rf,e)}add({cmd:e,undo:t,post:s,mustExec:r,type:i=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),l(this,yo))return;const c={cmd:e,undo:t,post:s,type:i};if(l(this,Xe)===-1){l(this,st).length>0&&(l(this,st).length=0),v(this,Xe,0),l(this,st).push(c);return}if(o&&l(this,st)[l(this,Xe)].type===i){a&&(c.undo=l(this,st)[l(this,Xe)].undo),l(this,st)[l(this,Xe)]=c;return}const u=l(this,Xe)+1;u===l(this,rf)?l(this,st).splice(0,1):(v(this,Xe,u),u<l(this,st).length&&l(this,st).splice(u)),l(this,st).push(c)}undo(){if(l(this,Xe)===-1)return;v(this,yo,!0);const{undo:e,post:t}=l(this,st)[l(this,Xe)];e(),t==null||t(),v(this,yo,!1),v(this,Xe,l(this,Xe)-1)}redo(){if(l(this,Xe)<l(this,st).length-1){v(this,Xe,l(this,Xe)+1),v(this,yo,!0);const{cmd:e,post:t}=l(this,st)[l(this,Xe)];e(),t==null||t(),v(this,yo,!1)}}hasSomethingToUndo(){return l(this,Xe)!==-1}hasSomethingToRedo(){return l(this,Xe)<l(this,st).length-1}cleanType(e){if(l(this,Xe)!==-1){for(let t=l(this,Xe);t>=0;t--)if(l(this,st)[t].type!==e){l(this,st).splice(t+1,l(this,Xe)-t),v(this,Xe,t);return}l(this,st).length=0,v(this,Xe,-1)}}destroy(){v(this,st,null)}}st=new WeakMap,yo=new WeakMap,rf=new WeakMap,Xe=new WeakMap;var ry,oP;class Hp{constructor(e){A(this,ry);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Lt.platform;for(const[s,r,i={}]of e)for(const o of s){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:i}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:i}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(E(this,ry,oP).call(this,t));if(!s)return;const{callback:r,options:{bubbles:i=!1,args:o=[],checker:a=null}}=s;a&&!a(e,t)||(r.bind(e,...o,t)(),i||it(t))}}ry=new WeakSet,oP=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const iy=class iy{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return OF(e),fe(this,"_colors",e)}convert(e){const t=Hx(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,r]of this._colors)if(r.every((i,o)=>i===t[o]))return iy._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?te.makeHexColor(...t):e}};$(iy,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let cw=iy;var au,On,pt,It,lu,si,cu,ds,vo,wo,uu,Xa,wr,js,qa,of,af,du,lf,br,bo,hu,xo,xr,oy,Ao,cf,Eo,Ya,Ka,So,uf,At,Ce,ri,Co,Qa,df,hf,_o,Ar,ii,ff,pf,hs,G,$g,uw,aP,lP,Hg,cP,uP,dP,dw,hP,hw,fw,fP,on,Kr,pP,gP,pw,mP,Yd,gw;const Oc=class Oc{constructor(e,t,s,r,i,o,a,c,u,d,h,f,p,y,g){A(this,G);A(this,au,new AbortController);A(this,On,null);A(this,pt,new Map);A(this,It,new Map);A(this,lu,null);A(this,si,null);A(this,cu,null);A(this,ds,new BF);A(this,vo,null);A(this,wo,null);A(this,uu,0);A(this,Xa,new Set);A(this,wr,null);A(this,js,null);A(this,qa,new Set);$(this,"_editorUndoBar",null);A(this,of,!1);A(this,af,!1);A(this,du,!1);A(this,lf,null);A(this,br,null);A(this,bo,null);A(this,hu,null);A(this,xo,!1);A(this,xr,null);A(this,oy,new jF);A(this,Ao,!1);A(this,cf,!1);A(this,Eo,null);A(this,Ya,null);A(this,Ka,null);A(this,So,null);A(this,uf,null);A(this,At,ie.NONE);A(this,Ce,new Set);A(this,ri,null);A(this,Co,null);A(this,Qa,null);A(this,df,null);A(this,hf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});A(this,_o,[0,0]);A(this,Ar,null);A(this,ii,null);A(this,ff,null);A(this,pf,null);A(this,hs,null);const b=this._signal=l(this,au).signal;v(this,ii,e),v(this,ff,t),v(this,pf,s),v(this,lu,r),v(this,Co,i),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:b}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),o._on("setpreference",this.onSetPreference.bind(this),{signal:b}),o._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:b}),E(this,G,cP).call(this),E(this,G,fP).call(this),E(this,G,dw).call(this),v(this,si,a.annotationStorage),v(this,lf,a.filterFactory),v(this,Qa,c),v(this,hu,u||null),v(this,of,d),v(this,af,h),v(this,du,f),v(this,uf,p||null),this.viewParameters={realScale:Wi.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=g!==!1}static get _keyboardManager(){const e=Oc.prototype,t=o=>l(o,ii).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),s=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:c}=a;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return fe(this,"_keyboardManager",new Hp([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,ii).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,ii).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,s,r,i,o,a,c;(e=l(this,hs))==null||e.resolve(),v(this,hs,null),(t=l(this,au))==null||t.abort(),v(this,au,null),this._signal=null;for(const u of l(this,It).values())u.destroy();l(this,It).clear(),l(this,pt).clear(),l(this,qa).clear(),(s=l(this,So))==null||s.clear(),v(this,On,null),l(this,Ce).clear(),l(this,ds).destroy(),(r=l(this,lu))==null||r.destroy(),(i=l(this,Co))==null||i.destroy(),(o=l(this,xr))==null||o.hide(),v(this,xr,null),(a=l(this,Ka))==null||a.destroy(),v(this,Ka,null),l(this,br)&&(clearTimeout(l(this,br)),v(this,br,null)),l(this,Ar)&&(clearTimeout(l(this,Ar)),v(this,Ar,null)),(c=this._editorUndoBar)==null||c.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return l(this,uf)}get useNewAltTextFlow(){return l(this,af)}get useNewAltTextWhenAddingImage(){return l(this,du)}get hcmFilter(){return fe(this,"hcmFilter",l(this,Qa)?l(this,lf).addHCMFilter(l(this,Qa).foreground,l(this,Qa).background):"none")}get direction(){return fe(this,"direction",getComputedStyle(l(this,ii)).direction)}get highlightColors(){return fe(this,"highlightColors",l(this,hu)?new Map(l(this,hu).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return fe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),v(this,wo,e)}setMainHighlightColorPicker(e){v(this,Ka,e)}editAltText(e,t=!1){var s;(s=l(this,lu))==null||s.editAltText(this,e,t)}getSignature(e){var t;(t=l(this,Co))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return l(this,Co)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":v(this,du,t);break}}onPageChanging({pageNumber:e}){v(this,uu,e-1)}focusMainContainer(){l(this,ii).focus()}findParent(e,t){for(const s of l(this,It).values()){const{x:r,y:i,width:o,height:a}=s.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=i&&t<=i+a)return s}return null}disableUserSelect(e=!1){l(this,ff).classList.toggle("noUserSelect",e)}addShouldRescale(e){l(this,qa).add(e)}removeShouldRescale(e){l(this,qa).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Wi.PDF_TO_CSS_UNITS;for(const s of l(this,qa))s.onScaleChanging();(t=l(this,wo))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:i,focusOffset:o}=t,a=t.toString(),u=E(this,G,$g).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;t.empty();const h=E(this,G,uw).call(this,u),f=l(this,At)===ie.NONE,p=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:s,anchorOffset:r,focusNode:i,focusOffset:o,text:a}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(ie.HIGHLIGHT,p);return}p()}addToAnnotationStorage(e){!e.isEmpty()&&l(this,si)&&!l(this,si).has(e.id)&&l(this,si).setValue(e.id,e)}a11yAlert(e,t=null){const s=l(this,pf);s&&(s.setAttribute("data-l10n-id",e),t?s.setAttribute("data-l10n-args",JSON.stringify(t)):s.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,l(this,xo)&&(v(this,xo,!1),E(this,G,Hg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of l(this,Ce))if(t.div.contains(e)){v(this,Ya,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!l(this,Ya))return;const[e,t]=l(this,Ya);v(this,Ya,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){E(this,G,dw).call(this),E(this,G,hw).call(this)}removeEditListeners(){E(this,G,hP).call(this),E(this,G,fw).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of l(this,js))if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of l(this,js))if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=l(this,On))==null||s.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of l(this,Ce)){const i=r.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const o of l(this,js))if(o.isHandlingMimeForPasting(i.type)){o.paste(i,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(i){oe(`paste: "${i.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const i=[];for(const c of s){const u=await r.deserialize(c);if(!u)return;i.push(u)}const o=()=>{for(const c of i)E(this,G,pw).call(this,c);E(this,G,gw).call(this,i)},a=()=>{for(const c of i)c.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(i){oe(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,At)!==ie.NONE&&!this.isEditorHandlingKeyboard&&Oc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,xo)&&(v(this,xo,!1),E(this,G,Hg).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(E(this,G,uP).call(this),E(this,G,hw).call(this),E(this,G,on).call(this,{isEditing:l(this,At)!==ie.NONE,isEmpty:E(this,G,Yd).call(this),hasSomethingToUndo:l(this,ds).hasSomethingToUndo(),hasSomethingToRedo:l(this,ds).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,G,dP).call(this),E(this,G,fw).call(this),E(this,G,on).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!l(this,js)){v(this,js,e);for(const t of l(this,js))E(this,G,Kr).call(this,t.defaultPropertiesToUpdate)}}getId(){return l(this,oy).id}get currentLayer(){return l(this,It).get(l(this,uu))}getLayer(e){return l(this,It).get(e)}get currentPageIndex(){return l(this,uu)}addLayer(e){l(this,It).set(e.pageIndex,e),l(this,Ao)?e.enable():e.disable()}removeLayer(e){l(this,It).delete(e.pageIndex)}async updateMode(e,t=null,s=!1,r=!1){var i,o,a;if(l(this,At)!==e&&!(l(this,hs)&&(await l(this,hs).promise,!l(this,hs)))){if(v(this,hs,Promise.withResolvers()),(i=l(this,wo))==null||i.commitOrRemove(),v(this,At,e),e===ie.NONE){this.setEditingState(!1),E(this,G,gP).call(this),(o=this._editorUndoBar)==null||o.hide(),l(this,hs).resolve();return}e===ie.SIGNATURE&&await((a=l(this,Co))==null?void 0:a.loadSignatures()),this.setEditingState(!0),await E(this,G,pP).call(this),this.unselectAll();for(const c of l(this,It).values())c.updateMode(e);if(!t){s&&this.addNewEditorFromKeyboard(),l(this,hs).resolve();return}for(const c of l(this,pt).values())c.annotationElementId===t||c.id===t?(this.setSelected(c),r&&c.enterInEditMode()):c.unselect();l(this,hs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==l(this,At)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var s;if(l(this,js)){switch(e){case ge.CREATE:this.currentLayer.addNewEditor(t);return;case ge.HIGHLIGHT_DEFAULT_COLOR:(s=l(this,Ka))==null||s.updateColor(t);break;case ge.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,df)||v(this,df,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of l(this,Ce))r.updateParams(e,t);for(const r of l(this,js))r.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){var i;for(const o of l(this,pt).values())o.editorType===e&&o.show(t);(((i=l(this,df))==null?void 0:i.get(ge.HIGHLIGHT_SHOW_ALL))??!0)!==t&&E(this,G,Kr).call(this,[[ge.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(l(this,cf)!==e){v(this,cf,e);for(const t of l(this,It).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const s of l(this,pt).values())s.pageIndex===e&&t.push(s);return t}getEditor(e){return l(this,pt).get(e)}addEditor(e){l(this,pt).set(e.id,e)}removeEditor(e){var t,s;e.div.contains(document.activeElement)&&(l(this,br)&&clearTimeout(l(this,br)),v(this,br,setTimeout(()=>{this.focusMainContainer(),v(this,br,null)},0))),l(this,pt).delete(e.id),e.annotationElementId&&((t=l(this,So))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!l(this,Xa).has(e.annotationElementId))&&((s=l(this,si))==null||s.remove(e.id))}addDeletedAnnotationElement(e){l(this,Xa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return l(this,Xa).has(e)}removeDeletedAnnotationElement(e){l(this,Xa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){l(this,On)!==e&&(v(this,On,e),e&&E(this,G,Kr).call(this,e.propertiesToUpdate))}updateUI(e){l(this,G,mP)===e&&E(this,G,Kr).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){E(this,G,Kr).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(l(this,Ce).has(e)){l(this,Ce).delete(e),e.unselect(),E(this,G,on).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,Ce).add(e),e.select(),E(this,G,Kr).call(this,e.propertiesToUpdate),E(this,G,on).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=l(this,wo))==null||t.commitOrRemove();for(const s of l(this,Ce))s!==e&&s.unselect();l(this,Ce).clear(),l(this,Ce).add(e),e.select(),E(this,G,Kr).call(this,e.propertiesToUpdate),E(this,G,on).call(this,{hasSelectedEditor:!0})}isSelected(e){return l(this,Ce).has(e)}get firstSelectedEditor(){return l(this,Ce).values().next().value}unselect(e){e.unselect(),l(this,Ce).delete(e),E(this,G,on).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,Ce).size!==0}get isEnterHandled(){return l(this,Ce).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;l(this,ds).undo(),E(this,G,on).call(this,{hasSomethingToUndo:l(this,ds).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,G,Yd).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){l(this,ds).redo(),E(this,G,on).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,ds).hasSomethingToRedo(),isEmpty:E(this,G,Yd).call(this)})}addCommands(e){l(this,ds).add(e),E(this,G,on).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,G,Yd).call(this)})}cleanUndoStack(e){l(this,ds).cleanType(e)}delete(){var i;this.commitOrRemove();const e=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...l(this,Ce)],s=()=>{var o;(o=this._editorUndoBar)==null||o.show(r,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},r=()=>{for(const o of t)E(this,G,pw).call(this,o)};this.addCommands({cmd:s,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=l(this,On))==null||e.commitOrRemove()}hasSomethingToControl(){return l(this,On)||this.hasSelection}selectAll(){for(const e of l(this,Ce))e.commit();E(this,G,gw).call(this,l(this,pt).values())}unselectAll(){var e;if(!(l(this,On)&&(l(this,On).commitOrRemove(),l(this,At)!==ie.NONE))&&!((e=l(this,wo))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of l(this,Ce))t.unselect();l(this,Ce).clear(),E(this,G,on).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;l(this,_o)[0]+=e,l(this,_o)[1]+=t;const[r,i]=l(this,_o),o=[...l(this,Ce)],a=1e3;l(this,Ar)&&clearTimeout(l(this,Ar)),v(this,Ar,setTimeout(()=>{v(this,Ar,null),l(this,_o)[0]=l(this,_o)[1]=0,this.addCommands({cmd:()=>{for(const c of o)l(this,pt).has(c.id)&&(c.translateInPage(r,i),c.translationDone())},undo:()=>{for(const c of o)l(this,pt).has(c.id)&&(c.translateInPage(-r,-i),c.translationDone())},mustExec:!1})},a));for(const c of o)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),v(this,wr,new Map);for(const e of l(this,Ce))l(this,wr).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,wr))return!1;this.disableUserSelect(!1);const e=l(this,wr);v(this,wr,null);let t=!1;for(const[{x:r,y:i,pageIndex:o},a]of e)a.newX=r,a.newY=i,a.newPageIndex=o,t||(t=r!==a.savedX||i!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const s=(r,i,o,a)=>{if(l(this,pt).has(r.id)){const c=l(this,It).get(a);c?r._setParentAndPosition(c,i,o):(r.pageIndex=a,r.x=i,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:i,newY:o,newPageIndex:a}]of e)s(r,i,o,a)},undo:()=>{for(const[r,{savedX:i,savedY:o,savedPageIndex:a}]of e)s(r,i,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(l(this,wr))for(const s of l(this,wr).keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||l(this,Ce).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return l(this,On)===e}getActive(){return l(this,On)}getMode(){return l(this,At)}get imageManager(){return fe(this,"imageManager",new lw)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:s,y:r,width:i,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,d,h,f)=>({x:(d-r)/o,y:1-(u+h-s)/i,width:f/o,height:h/i});break;case"180":a=(u,d,h,f)=>({x:1-(u+h-s)/i,y:1-(d+f-r)/o,width:h/i,height:f/o});break;case"270":a=(u,d,h,f)=>({x:1-(d+f-r)/o,y:(u-s)/i,width:f/o,height:h/i});break;default:a=(u,d,h,f)=>({x:(u-s)/i,y:(d-r)/o,width:h/i,height:f/o});break}const c=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:y,height:g}of h.getClientRects())y===0||g===0||c.push(a(f,p,y,g))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(l(this,cu)||v(this,cu,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=l(this,cu))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=l(this,cu))==null?void 0:r.get(e.data.id);if(!t)return;const s=l(this,si).getRawValue(t);s&&(l(this,At)===ie.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}setMissingCanvas(e,t,s){var i;const r=(i=l(this,So))==null?void 0:i.get(e);r&&(r.setCanvas(t,s),l(this,So).delete(e))}addMissingCanvas(e,t){(l(this,So)||v(this,So,new Map)).set(e,t)}};au=new WeakMap,On=new WeakMap,pt=new WeakMap,It=new WeakMap,lu=new WeakMap,si=new WeakMap,cu=new WeakMap,ds=new WeakMap,vo=new WeakMap,wo=new WeakMap,uu=new WeakMap,Xa=new WeakMap,wr=new WeakMap,js=new WeakMap,qa=new WeakMap,of=new WeakMap,af=new WeakMap,du=new WeakMap,lf=new WeakMap,br=new WeakMap,bo=new WeakMap,hu=new WeakMap,xo=new WeakMap,xr=new WeakMap,oy=new WeakMap,Ao=new WeakMap,cf=new WeakMap,Eo=new WeakMap,Ya=new WeakMap,Ka=new WeakMap,So=new WeakMap,uf=new WeakMap,At=new WeakMap,Ce=new WeakMap,ri=new WeakMap,Co=new WeakMap,Qa=new WeakMap,df=new WeakMap,hf=new WeakMap,_o=new WeakMap,Ar=new WeakMap,ii=new WeakMap,ff=new WeakMap,pf=new WeakMap,hs=new WeakMap,G=new WeakSet,$g=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},uw=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of l(this,It).values())if(s.hasTextLayer(e))return s;return null},aP=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=E(this,G,$g).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(l(this,xr)||v(this,xr,new FF(this)),l(this,xr).show(s,r,this.direction==="ltr"))},lP=function(){var i,o,a;const e=document.getSelection();if(!e||e.isCollapsed){l(this,ri)&&((i=l(this,xr))==null||i.hide(),v(this,ri,null),E(this,G,on).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===l(this,ri))return;const r=E(this,G,$g).call(this,e).closest(".textLayer");if(!r){l(this,ri)&&((o=l(this,xr))==null||o.hide(),v(this,ri,null),E(this,G,on).call(this,{hasSelectedText:!1}));return}if((a=l(this,xr))==null||a.hide(),v(this,ri,t),E(this,G,on).call(this,{hasSelectedText:!0}),!(l(this,At)!==ie.HIGHLIGHT&&l(this,At)!==ie.NONE)&&(l(this,At)===ie.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),v(this,xo,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=l(this,At)===ie.HIGHLIGHT?E(this,G,uw).call(this,r):null;c==null||c.toggleDrawing();const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&E(this,G,Hg).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},Hg=function(e=""){l(this,At)===ie.HIGHLIGHT?this.highlightSelection(e):l(this,of)&&E(this,G,aP).call(this)},cP=function(){document.addEventListener("selectionchange",E(this,G,lP).bind(this),{signal:this._signal})},uP=function(){if(l(this,bo))return;v(this,bo,new AbortController);const e=this.combinedSignal(l(this,bo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},dP=function(){var e;(e=l(this,bo))==null||e.abort(),v(this,bo,null)},dw=function(){if(l(this,Eo))return;v(this,Eo,new AbortController);const e=this.combinedSignal(l(this,Eo));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},hP=function(){var e;(e=l(this,Eo))==null||e.abort(),v(this,Eo,null)},hw=function(){if(l(this,vo))return;v(this,vo,new AbortController);const e=this.combinedSignal(l(this,vo));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},fw=function(){var e;(e=l(this,vo))==null||e.abort(),v(this,vo,null)},fP=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},on=function(e){Object.entries(e).some(([s,r])=>l(this,hf)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,hf),e)}),l(this,At)===ie.HIGHLIGHT&&e.hasSelectedEditor===!1&&E(this,G,Kr).call(this,[[ge.HIGHLIGHT_FREE,!0]]))},Kr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},pP=async function(){if(!l(this,Ao)){v(this,Ao,!0);const e=[];for(const t of l(this,It).values())e.push(t.enable());await Promise.all(e);for(const t of l(this,pt).values())t.enable()}},gP=function(){if(this.unselectAll(),l(this,Ao)){v(this,Ao,!1);for(const e of l(this,It).values())e.disable();for(const e of l(this,pt).values())e.disable()}},pw=function(e){const t=l(this,It).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},mP=function(){let e=null;for(e of l(this,Ce));return e},Yd=function(){if(l(this,pt).size===0)return!0;if(l(this,pt).size===1)for(const e of l(this,pt).values())return e.isEmpty();return!1},gw=function(e){for(const t of l(this,Ce))t.unselect();l(this,Ce).clear();for(const t of e)t.isEmpty()||(l(this,Ce).add(t),t.select());E(this,G,on).call(this,{hasSelectedEditor:this.hasSelection})},$(Oc,"TRANSLATE_SMALL",1),$(Oc,"TRANSLATE_BIG",10);let ma=Oc;var Et,Er,Bs,fu,Sr,Fn,pu,Cr,Sn,oi,Ja,_r,To,Js,Kd,Ug;const an=class an{constructor(e){A(this,Js);A(this,Et,null);A(this,Er,!1);A(this,Bs,null);A(this,fu,null);A(this,Sr,null);A(this,Fn,null);A(this,pu,!1);A(this,Cr,null);A(this,Sn,null);A(this,oi,null);A(this,Ja,null);A(this,_r,!1);v(this,Sn,e),v(this,_r,e._uiManager.useNewAltTextFlow),l(an,To)||v(an,To,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){an._l10n??(an._l10n=e)}async render(){const e=v(this,Bs,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=v(this,fu,document.createElement("span"));e.append(t),l(this,_r)?(e.classList.add("new"),e.setAttribute("data-l10n-id",l(an,To).missing),t.setAttribute("data-l10n-id",l(an,To)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=l(this,Sn)._uiManager._signal;e.addEventListener("contextmenu",_s,{signal:s}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:s});const r=i=>{i.preventDefault(),l(this,Sn)._uiManager.editAltText(l(this,Sn)),l(this,_r)&&l(this,Sn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,Js,Kd)}})};return e.addEventListener("click",r,{capture:!0,signal:s}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(v(this,pu,!0),r(i))},{signal:s}),await E(this,Js,Ug).call(this),e}finish(){l(this,Bs)&&(l(this,Bs).focus({focusVisible:l(this,pu)}),v(this,pu,!1))}isEmpty(){return l(this,_r)?l(this,Et)===null:!l(this,Et)&&!l(this,Er)}hasData(){return l(this,_r)?l(this,Et)!==null||!!l(this,oi):this.isEmpty()}get guessedText(){return l(this,oi)}async setGuessedText(e){l(this,Et)===null&&(v(this,oi,e),v(this,Ja,await an._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),E(this,Js,Ug).call(this))}toggleAltTextBadge(e=!1){var t;if(!l(this,_r)||l(this,Et)){(t=l(this,Cr))==null||t.remove(),v(this,Cr,null);return}if(!l(this,Cr)){const s=v(this,Cr,document.createElement("div"));s.className="noAltTextBadge",l(this,Sn).div.append(s)}l(this,Cr).classList.toggle("hidden",!e)}serialize(e){let t=l(this,Et);return!e&&l(this,oi)===t&&(t=l(this,Ja)),{altText:t,decorative:l(this,Er),guessedText:l(this,oi),textWithDisclaimer:l(this,Ja)}}get data(){return{altText:l(this,Et),decorative:l(this,Er)}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:r,cancel:i=!1}){s&&(v(this,oi,s),v(this,Ja,r)),!(l(this,Et)===e&&l(this,Er)===t)&&(i||(v(this,Et,e),v(this,Er,t)),E(this,Js,Ug).call(this))}toggle(e=!1){l(this,Bs)&&(!e&&l(this,Fn)&&(clearTimeout(l(this,Fn)),v(this,Fn,null)),l(this,Bs).disabled=!e)}shown(){l(this,Sn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,Js,Kd)}})}destroy(){var e,t;(e=l(this,Bs))==null||e.remove(),v(this,Bs,null),v(this,fu,null),v(this,Sr,null),(t=l(this,Cr))==null||t.remove(),v(this,Cr,null)}};Et=new WeakMap,Er=new WeakMap,Bs=new WeakMap,fu=new WeakMap,Sr=new WeakMap,Fn=new WeakMap,pu=new WeakMap,Cr=new WeakMap,Sn=new WeakMap,oi=new WeakMap,Ja=new WeakMap,_r=new WeakMap,To=new WeakMap,Js=new WeakSet,Kd=function(){return l(this,Et)&&"added"||l(this,Et)===null&&this.guessedText&&"review"||"missing"},Ug=async function(){var r,i,o;const e=l(this,Bs);if(!e)return;if(l(this,_r)){if(e.classList.toggle("done",!!l(this,Et)),e.setAttribute("data-l10n-id",l(an,To)[l(this,Js,Kd)]),(r=l(this,fu))==null||r.setAttribute("data-l10n-id",l(an,To)[`${l(this,Js,Kd)}-label`]),!l(this,Et)){(i=l(this,Sr))==null||i.remove();return}}else{if(!l(this,Et)&&!l(this,Er)){e.classList.remove("done"),(o=l(this,Sr))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=l(this,Sr);if(!t){v(this,Sr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${l(this,Sn).id}`;const a=100,c=l(this,Sn)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(l(this,Fn)),v(this,Fn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{v(this,Fn,setTimeout(()=>{v(this,Fn,null),l(this,Sr).classList.add("show"),l(this,Sn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;l(this,Fn)&&(clearTimeout(l(this,Fn)),v(this,Fn,null)),(u=l(this,Sr))==null||u.classList.remove("show")},{signal:c})}l(this,Er)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=l(this,Et)),t.parentNode||e.append(t);const s=l(this,Sn).getElementForAltText();s==null||s.setAttribute("aria-describedby",t.id)},A(an,To,null),$(an,"_l10n",null);let Km=an;var gu,Za,gf,mf,yf,vf,wf,ai,el,li,tl,ci,va,yP,vP,wP;const eA=class eA{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:s=null,onPinchStart:r=null,onPinching:i=null,onPinchEnd:o=null,signal:a}){A(this,va);A(this,gu);A(this,Za,!1);A(this,gf,null);A(this,mf);A(this,yf);A(this,vf);A(this,wf);A(this,ai,null);A(this,el);A(this,li,null);A(this,tl);A(this,ci,null);v(this,gu,e),v(this,gf,s),v(this,mf,t),v(this,yf,r),v(this,vf,i),v(this,wf,o),v(this,tl,new AbortController),v(this,el,AbortSignal.any([a,l(this,tl).signal])),e.addEventListener("touchstart",E(this,va,yP).bind(this),{passive:!1,signal:l(this,el)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ir.pixelRatio}destroy(){var e,t;(e=l(this,tl))==null||e.abort(),v(this,tl,null),(t=l(this,ai))==null||t.abort(),v(this,ai,null)}};gu=new WeakMap,Za=new WeakMap,gf=new WeakMap,mf=new WeakMap,yf=new WeakMap,vf=new WeakMap,wf=new WeakMap,ai=new WeakMap,el=new WeakMap,li=new WeakMap,tl=new WeakMap,ci=new WeakMap,va=new WeakSet,yP=function(e){var r,i,o;if((r=l(this,mf))!=null&&r.call(this))return;if(e.touches.length===1){if(l(this,ai))return;const a=v(this,ai,new AbortController),c=AbortSignal.any([l(this,el),a.signal]),u=l(this,gu),d={capture:!0,signal:c,passive:!1},h=f=>{var p;f.pointerType==="touch"&&((p=l(this,ai))==null||p.abort(),v(this,ai,null))};u.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(it(f),h(f))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!l(this,ci)){v(this,ci,new AbortController);const a=AbortSignal.any([l(this,el),l(this,ci).signal]),c=l(this,gu),u={signal:a,capture:!1,passive:!1};c.addEventListener("touchmove",E(this,va,vP).bind(this),u);const d=E(this,va,wP).bind(this);c.addEventListener("touchend",d,u),c.addEventListener("touchcancel",d,u),u.capture=!0,c.addEventListener("pointerdown",it,u),c.addEventListener("pointermove",it,u),c.addEventListener("pointercancel",it,u),c.addEventListener("pointerup",it,u),(i=l(this,yf))==null||i.call(this)}if(it(e),e.touches.length!==2||(o=l(this,gf))!=null&&o.call(this)){v(this,li,null);return}let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]),v(this,li,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:s.screenX,touch1Y:s.screenY})},vP=function(e){var S;if(!l(this,li)||e.touches.length!==2)return;it(e);let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]);const{screenX:r,screenY:i}=t,{screenX:o,screenY:a}=s,c=l(this,li),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:f}=c,p=h-u,y=f-d,g=o-r,b=a-i,m=Math.hypot(g,b)||1,w=Math.hypot(p,y)||1;if(!l(this,Za)&&Math.abs(w-m)<=eA.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=r,c.touch0Y=i,c.touch1X=o,c.touch1Y=a,!l(this,Za)){v(this,Za,!0);return}const x=[(r+o)/2,(i+a)/2];(S=l(this,vf))==null||S.call(this,x,w,m)},wP=function(e){var t;e.touches.length>=2||(l(this,ci)&&(l(this,ci).abort(),v(this,ci,null),(t=l(this,wf))==null||t.call(this)),l(this,li)&&(it(e),v(this,li,null),v(this,Za,!1)))};let Gh=eA;var nl,zs,$e,mu,Po,bf,sl,Dt,rl,ui,ko,xf,il,jn,Af,ol,di,Tr,yu,vu,fs,al,Ef,ay,re,mw,Sf,yw,Vg,bP,xP,vw,Wg,ww,AP,EP,SP,bw,CP,xw,_P,TP,PP,Aw,Qd;const de=class de{constructor(e){A(this,re);A(this,nl,null);A(this,zs,null);A(this,$e,null);A(this,mu,!1);A(this,Po,null);A(this,bf,"");A(this,sl,!1);A(this,Dt,null);A(this,rl,null);A(this,ui,null);A(this,ko,null);A(this,xf,"");A(this,il,!1);A(this,jn,null);A(this,Af,!1);A(this,ol,!1);A(this,di,!1);A(this,Tr,null);A(this,yu,0);A(this,vu,0);A(this,fs,null);A(this,al,null);$(this,"isSelected",!1);$(this,"_isCopy",!1);$(this,"_editToolbar",null);$(this,"_initialOptions",Object.create(null));$(this,"_initialData",null);$(this,"_isVisible",!0);$(this,"_uiManager",null);$(this,"_focusEventsAllowed",!0);A(this,Ef,!1);A(this,ay,de._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:r,pageX:i,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[i,o];const[a,c]=this.parentDimensions;this.x=e.x/a,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=de.prototype._resizeWithKeyboard,t=ma.TRANSLATE_SMALL,s=ma.TRANSLATE_BIG;return fe(this,"_resizerKeyboardManager",new Hp([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],de.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return fe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new zF({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(de._l10n??(de._l10n=e),de._l10nResizer||(de._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),de._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);de._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Re("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,Ef)}set _isDraggable(e){var t;v(this,Ef,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,ay)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):E(this,re,Qd).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(l(this,il)?v(this,il,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,r){const[i,o]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(e+s)/i,this.y=(t+r)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[s,r]=this.parentDimensions;this.setAt(e*s,t*r,this.width*s,this.height*r),this._onTranslated()}translate(e,t){E(this,re,mw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){l(this,jn)||v(this,jn,[this.x,this.y,this.width,this.height]),E(this,re,mw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){l(this,jn)||v(this,jn,[this.x,this.y,this.width,this.height]);const{div:s,parentDimensions:[r,i]}=this;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[c,u]=this.getBaseTranslation();o+=c,a+=u;const{style:d}=s;d.left=`${(100*o).toFixed(2)}%`,d.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),s.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!l(this,jn)&&(l(this,jn)[0]!==this.x||l(this,jn)[1]!==this.y)}get _hasBeenResized(){return!!l(this,jn)&&(l(this,jn)[2]!==this.width||l(this,jn)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=de,r=s/e,i=s/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[s,r]}=this;let{x:i,y:o,width:a,height:c}=this;if(a*=s,c*=r,i*=s,o*=r,this._mustFixPosition)switch(e){case 0:i=Zt(i,0,s-a),o=Zt(o,0,r-c);break;case 90:i=Zt(i,0,s-c),o=Zt(o,a,r);break;case 180:i=Zt(i,a,s),o=Zt(o,c,r);break;case 270:i=Zt(i,c,s),o=Zt(o,0,r-a);break}this.x=i/=s,this.y=o/=r;const[u,d]=this.getBaseTranslation();i+=u,o+=d,t.left=`${(100*i).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var s;return E(s=de,Sf,yw).call(s,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var s;return E(s=de,Sf,yw).call(s,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(e,t){const[s,r]=this.parentDimensions,{style:i}=this.div;i.width=`${(100*e/s).toFixed(2)}%`,l(this,sl)||(i.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:s}=e,r=s.endsWith("%"),i=!l(this,sl)&&t.endsWith("%");if(r&&i)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(s)/o).toFixed(2)}%`),!l(this,sl)&&!i&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=l(this,$e))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||l(this,ol))return this._editToolbar;this._editToolbar=new aw(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,s]of e)await this._editToolbar.addButton(t,s);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=l(this,$e))==null||e.destroy())}addContainer(e){var s;const t=(s=this._editToolbar)==null?void 0:s.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return l(this,$e)||(Km.initialize(de._l10n),v(this,$e,new Km(this)),l(this,nl)&&(l(this,$e).data=l(this,nl),v(this,nl,null))),l(this,$e)}get altTextData(){var e;return(e=l(this,$e))==null?void 0:e.data}set altTextData(e){l(this,$e)&&(l(this,$e).data=e)}get guessedAltText(){var e;return(e=l(this,$e))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=l(this,$e))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=l(this,$e))==null?void 0:t.serialize(e)}hasAltText(){return!!l(this,$e)&&!l(this,$e).isEmpty()}hasAltTextData(){var e;return((e=l(this,$e))==null?void 0:e.hasData())??!1}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=l(this,mu)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),E(this,re,xw).call(this);const[t,s]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*s/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/s).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),iP(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(l(this,al)||v(this,al,new Gh({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:E(this,re,AP).bind(this),onPinching:E(this,re,EP).bind(this),onPinchEnd:E(this,re,SP).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=Lt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(v(this,il,!0),this._isDraggable){E(this,re,CP).call(this,e);return}E(this,re,bw).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){l(this,Tr)&&clearTimeout(l(this,Tr)),v(this,Tr,setTimeout(()=>{var e;v(this,Tr,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,s=this.rotation){const r=this.parentScale,[i,o]=this.pageDimensions,[a,c]=this.pageTranslation,u=e/r,d=t/r,h=this.x*i,f=this.y*o,p=this.width*i,y=this.height*o;switch(s){case 0:return[h+u+a,o-f-d-y+c,h+u+p+a,o-f-d+c];case 90:return[h+d+a,o-f+u+c,h+d+y+a,o-f+u+p+c];case 180:return[h-u-p+a,o-f+d+c,h-u+a,o-f+d+y+c];case 270:return[h-d-y+a,o-f-u-p+c,h-d+a,o-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,r,i,o]=e,a=i-s,c=o-r;switch(this.rotation){case 0:return[s,t-o,a,c];case 90:return[s,t-r,c,a];case 180:return[i,t-r,a,c];case 270:return[i,t-o,c,a];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),v(this,ol,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),v(this,ol,!1),!0):!1}isInEditMode(){return l(this,ol)}shouldGetKeyboardEvents(){return l(this,di)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:s,right:r}=this.getClientDimensions(),{innerHeight:i,innerWidth:o}=window;return t<o&&r>0&&e<i&&s>0}rebuild(){E(this,re,xw).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Re("An editor must be serializable")}static async deserialize(e,t,s){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s,annotationElementId:e.annotationElementId});r.rotation=e.rotation,v(r,nl,e.accessibilityData),r._isCopy=e.isCopy||!1;const[i,o]=r.pageDimensions,[a,c,u,d]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/i,r.y=c/o,r.width=u/i,r.height=d/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=l(this,ko))==null||e.abort(),v(this,ko,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,Tr)&&(clearTimeout(l(this,Tr)),v(this,Tr,null)),E(this,re,Qd).call(this),this.removeEditToolbar(),l(this,fs)){for(const s of l(this,fs).values())clearTimeout(s);v(this,fs,null)}this.parent=null,(t=l(this,al))==null||t.destroy(),v(this,al,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,re,bP).call(this),l(this,Dt).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),v(this,ui,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=l(this,Dt).children;if(!l(this,zs)){v(this,zs,Array.from(t));const o=E(this,re,_P).bind(this),a=E(this,re,TP).bind(this),c=this._uiManager._signal;for(const u of l(this,zs)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:c}),u.addEventListener("blur",a,{signal:c}),u.addEventListener("focus",E(this,re,PP).bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",de._l10nResizer[d])}}const s=l(this,zs)[0];let r=0;for(const o of t){if(o===s)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(l(this,zs).length/4);if(i!==r){if(i<r)for(let a=0;a<r-i;a++)l(this,Dt).append(l(this,Dt).firstChild);else if(i>r)for(let a=0;a<i-r;a++)l(this,Dt).firstChild.before(l(this,Dt).lastChild);let o=0;for(const a of t){const u=l(this,zs)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",de._l10nResizer[u])}}E(this,re,Aw).call(this,0),v(this,di,!0),l(this,Dt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){l(this,di)&&E(this,re,ww).call(this,l(this,xf),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){E(this,re,Qd).call(this),this.div.focus()}select(){var e,t,s;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(s=l(this,$e))==null||s.toggleAltTextBadge(!1)}}unselect(){var e,t,s,r,i;this.isSelected&&(this.isSelected=!1,(e=l(this,Dt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(i=l(this,$e))==null||i.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return l(this,Af)}set isEditing(e){v(this,Af,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){v(this,sl,!0);const s=e/t,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){l(this,fs)||v(this,fs,new Map);const{action:s}=e;let r=l(this,fs).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),l(this,fs).delete(s),l(this,fs).size===0&&v(this,fs,null)},de._telemetryTimeout),l(this,fs).set(s,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),v(this,mu,!1)}disable(){this.div&&(this.div.tabIndex=-1),v(this,mu,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};nl=new WeakMap,zs=new WeakMap,$e=new WeakMap,mu=new WeakMap,Po=new WeakMap,bf=new WeakMap,sl=new WeakMap,Dt=new WeakMap,rl=new WeakMap,ui=new WeakMap,ko=new WeakMap,xf=new WeakMap,il=new WeakMap,jn=new WeakMap,Af=new WeakMap,ol=new WeakMap,di=new WeakMap,Tr=new WeakMap,yu=new WeakMap,vu=new WeakMap,fs=new WeakMap,al=new WeakMap,Ef=new WeakMap,ay=new WeakMap,re=new WeakSet,mw=function([e,t],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Sf=new WeakSet,yw=function(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Vg=function(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}},bP=function(){if(l(this,Dt))return;v(this,Dt,document.createElement("div")),l(this,Dt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const r=document.createElement("div");l(this,Dt).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",E(this,re,xP).bind(this,s),{signal:t}),r.addEventListener("contextmenu",_s,{signal:t}),r.tabIndex=-1}this.div.prepend(l(this,Dt))},xP=function(e,t){var d;t.preventDefault();const{isMac:s}=Lt.platform;if(t.button!==0||t.ctrlKey&&s)return;(d=l(this,$e))==null||d.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,v(this,rl,[t.screenX,t.screenY]);const i=new AbortController,o=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",E(this,re,ww).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",it,{passive:!1,signal:o}),window.addEventListener("contextmenu",_s,{signal:o}),v(this,ui,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;i.abort(),this.parent.togglePointerEvents(!0),(h=l(this,$e))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=a,this.div.style.cursor=c,E(this,re,Wg).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},vw=function(e,t,s,r){this.width=s,this.height=r,this.x=e,this.y=t;const[i,o]=this.parentDimensions;this.setDims(i*s,o*r),this.fixAndSetPosition(),this._onResized()},Wg=function(){if(!l(this,ui))return;const{savedX:e,savedY:t,savedWidth:s,savedHeight:r}=l(this,ui);v(this,ui,null);const i=this.x,o=this.y,a=this.width,c=this.height;i===e&&o===t&&a===s&&c===r||this.addCommands({cmd:E(this,re,vw).bind(this,i,o,a,c),undo:E(this,re,vw).bind(this,e,t,s,r),mustExec:!0})},ww=function(e,t){const[s,r]=this.parentDimensions,i=this.x,o=this.y,a=this.width,c=this.height,u=de.MIN_SIZE/s,d=de.MIN_SIZE/r,h=E(this,re,Vg).call(this,this.rotation),f=(O,j)=>[h[0]*O+h[2]*j,h[1]*O+h[3]*j],p=E(this,re,Vg).call(this,360-this.rotation),y=(O,j)=>[p[0]*O+p[2]*j,p[1]*O+p[3]*j];let g,b,m=!1,w=!1;switch(e){case"topLeft":m=!0,g=(O,j)=>[0,0],b=(O,j)=>[O,j];break;case"topMiddle":g=(O,j)=>[O/2,0],b=(O,j)=>[O/2,j];break;case"topRight":m=!0,g=(O,j)=>[O,0],b=(O,j)=>[0,j];break;case"middleRight":w=!0,g=(O,j)=>[O,j/2],b=(O,j)=>[0,j/2];break;case"bottomRight":m=!0,g=(O,j)=>[O,j],b=(O,j)=>[0,0];break;case"bottomMiddle":g=(O,j)=>[O/2,j],b=(O,j)=>[O/2,0];break;case"bottomLeft":m=!0,g=(O,j)=>[0,j],b=(O,j)=>[O,0];break;case"middleLeft":w=!0,g=(O,j)=>[0,j/2],b=(O,j)=>[O,j/2];break}const x=g(a,c),S=b(a,c);let C=f(...S);const T=de._round(i+C[0]),P=de._round(o+C[1]);let R=1,L=1,M,D;if(t.fromKeyboard)({deltaX:M,deltaY:D}=t);else{const{screenX:O,screenY:j}=t,[N,F]=l(this,rl);[M,D]=this.screenToPageTranslation(O-N,j-F),l(this,rl)[0]=O,l(this,rl)[1]=j}if([M,D]=y(M/s,D/r),m){const O=Math.hypot(a,c);R=L=Math.max(Math.min(Math.hypot(S[0]-x[0]-M,S[1]-x[1]-D)/O,1/a,1/c),u/a,d/c)}else w?R=Zt(Math.abs(S[0]-x[0]-M),u,1)/a:L=Zt(Math.abs(S[1]-x[1]-D),d,1)/c;const B=de._round(a*R),V=de._round(c*L);C=f(...b(B,V));const I=T-C[0],K=P-C[1];l(this,jn)||v(this,jn,[this.x,this.y,this.width,this.height]),this.width=B,this.height=V,this.x=I,this.y=K,this.setDims(s*B,r*V),this.fixAndSetPosition(),this._onResizing()},AP=function(){var e;v(this,ui,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=l(this,$e))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},EP=function(e,t,s){let i=.7*(s/t)+1-.7;if(i===1)return;const o=E(this,re,Vg).call(this,this.rotation),a=(T,P)=>[o[0]*T+o[2]*P,o[1]*T+o[3]*P],[c,u]=this.parentDimensions,d=this.x,h=this.y,f=this.width,p=this.height,y=de.MIN_SIZE/c,g=de.MIN_SIZE/u;i=Math.max(Math.min(i,1/f,1/p),y/f,g/p);const b=de._round(f*i),m=de._round(p*i);if(b===f&&m===p)return;l(this,jn)||v(this,jn,[d,h,f,p]);const w=a(f/2,p/2),x=de._round(d+w[0]),S=de._round(h+w[1]),C=a(b/2,m/2);this.x=x-C[0],this.y=S-C[1],this.width=b,this.height=m,this.setDims(c*b,u*m),this.fixAndSetPosition(),this._onResizing()},SP=function(){var e;(e=l(this,$e))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),E(this,re,Wg).call(this)},bw=function(e){const{isMac:t}=Lt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},CP=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let s=!1;const r=new AbortController,i=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:i},a=u=>{r.abort(),v(this,Po,null),v(this,il,!1),this._uiManager.endDragSession()||E(this,re,bw).call(this,u),s&&this._onStopDragging()};t&&(v(this,yu,e.clientX),v(this,vu,e.clientY),v(this,Po,e.pointerId),v(this,bf,e.pointerType),window.addEventListener("pointermove",u=>{s||(s=!0,this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=u;if(f!==l(this,Po)){it(u);return}const[p,y]=this.screenToPageTranslation(d-l(this,yu),h-l(this,vu));v(this,yu,d),v(this,vu,h),this._uiManager.dragSelectedEditors(p,y)},o),window.addEventListener("touchmove",it,o),window.addEventListener("pointerdown",u=>{u.pointerType===l(this,bf)&&(l(this,al)||u.isPrimary)&&a(u),it(u)},o));const c=u=>{if(!l(this,Po)||l(this,Po)===u.pointerId){a(u);return}it(u)};window.addEventListener("pointerup",c,{signal:i}),window.addEventListener("blur",c,{signal:i})},xw=function(){if(l(this,ko)||!this.div)return;v(this,ko,new AbortController);const e=this._uiManager.combinedSignal(l(this,ko));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},_P=function(e){de._resizerKeyboardManager.exec(this,e)},TP=function(e){var t;l(this,di)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==l(this,Dt)&&E(this,re,Qd).call(this)},PP=function(e){v(this,xf,l(this,di)?e:"")},Aw=function(e){if(l(this,zs))for(const t of l(this,zs))t.tabIndex=e},Qd=function(){v(this,di,!1),E(this,re,Aw).call(this,-1),E(this,re,Wg).call(this)},A(de,Sf),$(de,"_l10n",null),$(de,"_l10nResizer",null),$(de,"_borderLineWidth",-1),$(de,"_colorManager",new cw),$(de,"_zIndex",1),$(de,"_telemetryTimeout",1e3);let De=de;class zF extends De{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const aS=3285377520,ls=4294901760,fr=65535;class kP{constructor(e){this.h1=e?e&4294967295:aS,this.h2=e?e&4294967295:aS}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let g=0,b=e.length;g<b;g++){const m=e.charCodeAt(g);m<=255?t[s++]=m:(t[s++]=m>>>8,t[s++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,i=s-r*4,o=new Uint32Array(t.buffer,0,r);let a=0,c=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&fr,y=f&fr;for(let g=0;g<r;g++)g&1?(a=o[g],a=a*h&ls|a*p&fr,a=a<<15|a>>>17,a=a*f&ls|a*y&fr,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(c=o[g],c=c*h&ls|c*p&fr,c=c<<15|c>>>17,c=c*f&ls|c*y&fr,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,i){case 3:a^=t[r*4+2]<<16;case 2:a^=t[r*4+1]<<8;case 1:a^=t[r*4],a=a*h&ls|a*p&fr,a=a<<15|a>>>17,a=a*f&ls|a*y&fr,r&1?u^=a:d^=a}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ls|e*36045&fr,t=t*4283543511&ls|((t<<16|e>>>16)*2950163797&ls)>>>16,e^=t>>>1,e=e*444984403&ls|e*60499&fr,t=t*3301882366&ls|((t<<16|e>>>16)*3120437893&ls)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Ew=Object.freeze({map:null,hash:"",transfer:void 0});var ll,cl,Ot,ly,RP;class Ux{constructor(){A(this,ly);A(this,ll,!1);A(this,cl,null);A(this,Ot,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=l(this,Ot).get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return l(this,Ot).get(e)}remove(e){if(l(this,Ot).delete(e),l(this,Ot).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of l(this,Ot).values())if(t instanceof De)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=l(this,Ot).get(e);let r=!1;if(s!==void 0)for(const[i,o]of Object.entries(t))s[i]!==o&&(r=!0,s[i]=o);else r=!0,l(this,Ot).set(e,t);r&&E(this,ly,RP).call(this),t instanceof De&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return l(this,Ot).has(e)}get size(){return l(this,Ot).size}resetModified(){l(this,ll)&&(v(this,ll,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new LP(this)}get serializable(){if(l(this,Ot).size===0)return Ew;const e=new Map,t=new kP,s=[],r=Object.create(null);let i=!1;for(const[o,a]of l(this,Ot)){const c=a instanceof De?a.serialize(!1,r):a;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),i||(i=!!c.bitmap))}if(i)for(const o of e.values())o.bitmap&&s.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:Ew}get editorStats(){let e=null;const t=new Map;for(const s of l(this,Ot).values()){if(!(s instanceof De))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:i}=r;t.has(i)||t.set(i,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const o=e[i]||(e[i]=new Map);for(const[a,c]of Object.entries(r)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const d=u.get(c)??0;u.set(c,d+1)}}for(const[s,r]of t)e[s]=r.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){v(this,cl,null)}get modifiedIds(){if(l(this,cl))return l(this,cl);const e=[];for(const t of l(this,Ot).values())!(t instanceof De)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return v(this,cl,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return l(this,Ot).entries()}}ll=new WeakMap,cl=new WeakMap,Ot=new WeakMap,ly=new WeakSet,RP=function(){l(this,ll)||(v(this,ll,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Cf;class LP extends Ux{constructor(t){super();A(this,Cf);const{map:s,hash:r,transfer:i}=t.serializable,o=structuredClone(s,i?{transfer:i}:null);v(this,Cf,{map:o,hash:r,transfer:i})}get print(){Re("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,Cf)}get modifiedIds(){return fe(this,"modifiedIds",{ids:new Set,hash:""})}}Cf=new WeakMap;var wu;class $F{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){A(this,wu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),l(this,wu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:s}){if(!(!e||l(this,wu).has(e.loadedName))){if(dt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:o}=e,a=new FontFace(r,i,o);this.addNativeFontFace(a);try{await a.load(),l(this,wu).add(r),s==null||s(e)}catch{oe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Re("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw oe(`Failed to load font '${s.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return fe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return fe(this,"isSyncFontLoadingSupported",hn||Lt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(dt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const i=s.shift();setTimeout(i.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:t,callback:e};return s.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return fe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(S,C){return S.charCodeAt(C)<<24|S.charCodeAt(C+1)<<16|S.charCodeAt(C+2)<<8|S.charCodeAt(C+3)&255}function r(S,C,T,P){const R=S.substring(0,C),L=S.substring(C+T);return R+P+L}let i,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const c=a.getContext("2d");let u=0;function d(S,C){if(++u>30){oe("Load test font never loaded."),C();return}if(c.font="30px "+S,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(d.bind(null,S,C))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,h.length,h);const y=16,g=1482184792;let b=s(f,y);for(i=0,o=h.length-3;i<o;i+=4)b=b-g+s(h,i)|0;i<h.length&&(b=b-g+s(h+"XXX",i)|0),f=r(f,y,4,kF(b));const m=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${h}";src:${m}}`;this.insertRule(w);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const S of[e.loadedName,h]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=S,x.append(C)}this._document.body.append(x),d(h,()=>{x.remove(),t.complete()})}}wu=new WeakMap;class HF{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${YT(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const s=this.loadedName+"_path_"+t;let r;try{r=e.get(s)}catch(o){oe(`getPathGenerator - ignoring character: "${o}".`)}const i=new Path2D(r||"");return this.fontExtraProperties||e.delete(s),this.compiledGlyphs[t]=i}}function UF(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(hn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function VF(n){if(hn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Bp(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function yg(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const Sw=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,WF=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",MP=NF.bind(null,Sw,WF);var hi,cy;class GF{constructor(){A(this,hi,new Map);A(this,cy,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};l(this,cy).then(()=>{for(const[r]of l(this,hi))r.call(this,s)})}addEventListener(e,t,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:i}=s;if(i.aborted){oe("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);r=()=>i.removeEventListener("abort",o),i.addEventListener("abort",o)}l(this,hi).set(t,r)}removeEventListener(e,t){const s=l(this,hi).get(t);s==null||s(),l(this,hi).delete(t)}terminate(){for(const[,e]of l(this,hi))e==null||e();l(this,hi).clear()}}hi=new WeakMap,cy=new WeakMap;const vg={DATA:1,ERROR:2},ct={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function lS(){}function An(n){if(n instanceof Vi||n instanceof qm||n instanceof rS||n instanceof Wh||n instanceof Vv)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Re('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Vi(n.message);case"InvalidPDFException":return new qm(n.message);case"PasswordException":return new rS(n.message,n.code);case"ResponseException":return new Wh(n.message,n.status,n.missing);case"UnknownErrorException":return new Vv(n.message,n.details)}return new Vv(n.message,n.toString())}var bu,Es,NP,IP,DP,Gg;class Jd{constructor(e,t,s){A(this,Es);A(this,bu,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",E(this,Es,NP).bind(this),{signal:l(this,bu).signal})}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},s)}catch(o){i.reject(o)}return i.promise}sendWithStream(e,t,s,r){const i=this.streamId++,o=this.sourceName,a=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[i]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:a,action:e,streamId:i,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[i].pullCall=d,c.postMessage({sourceName:o,targetName:a,stream:ct.PULL,streamId:i,desiredSize:u.desiredSize}),d.promise},cancel:u=>{dt(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[i].cancelCall=d,this.streamControllers[i].isClosed=!0,c.postMessage({sourceName:o,targetName:a,stream:ct.CANCEL,streamId:i,reason:An(u)}),d.promise}},s)}destroy(){var e;(e=l(this,bu))==null||e.abort(),v(this,bu,null)}}bu=new WeakMap,Es=new WeakSet,NP=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){E(this,Es,DP).call(this,e);return}if(e.callback){const s=e.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===vg.DATA)r.resolve(e.data);else if(e.callback===vg.ERROR)r.reject(An(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,r=e.sourceName,i=this.comObj;Promise.try(t,e.data).then(function(o){i.postMessage({sourceName:s,targetName:r,callback:vg.DATA,callbackId:e.callbackId,data:o})},function(o){i.postMessage({sourceName:s,targetName:r,callback:vg.ERROR,callbackId:e.callbackId,reason:An(o)})});return}if(e.streamId){E(this,Es,IP).call(this,e);return}t(e.data)},IP=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,i=this.comObj,o=this,a=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:s,targetName:r,stream:ct.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:r,stream:ct.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){dt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:r,stream:ct.ERROR,streamId:t,reason:An(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(a,e.data,c).then(function(){i.postMessage({sourceName:s,targetName:r,stream:ct.START_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:s,targetName:r,stream:ct.START_COMPLETE,streamId:t,reason:An(u)})})},DP=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,i=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case ct.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(An(e.reason));break;case ct.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(An(e.reason));break;case ct.PULL:if(!a){i.postMessage({sourceName:s,targetName:r,stream:ct.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||lS).then(function(){i.postMessage({sourceName:s,targetName:r,stream:ct.PULL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:s,targetName:r,stream:ct.PULL_COMPLETE,streamId:t,reason:An(u)})});break;case ct.ENQUEUE:if(dt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case ct.CLOSE:if(dt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),E(this,Es,Gg).call(this,o,t);break;case ct.ERROR:dt(o,"error should have stream controller"),o.controller.error(An(e.reason)),E(this,Es,Gg).call(this,o,t);break;case ct.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(An(e.reason)),E(this,Es,Gg).call(this,o,t);break;case ct.CANCEL:if(!a)break;const c=An(e.reason);Promise.try(a.onCancel||lS,c).then(function(){i.postMessage({sourceName:s,targetName:r,stream:ct.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:s,targetName:r,stream:ct.CANCEL_COMPLETE,streamId:t,reason:An(u)})}),a.sinkCapability.reject(c),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Gg=async function(e,t){var s,r,i;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(r=e.pullCall)==null?void 0:r.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var _f;class OP{constructor({enableHWA:e=!1}){A(this,_f,!1);v(this,_f,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!l(this,_f)})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Re("Abstract method `_createCanvas` called.")}}_f=new WeakMap;class XF extends OP{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class FP{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Re("Abstract method `_fetch` called.")}}class cS extends FP{async _fetch(e){const t=await Pd(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Bp(t)}}class jP{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,r,i){return"none"}destroy(e=!1){}}var ul,xu,fi,pi,Qt,dl,hl,X,qt,Zd,yc,Xg,vc,BP,Cw,wc,eh,th,_w,nh;class qF extends jP{constructor({docId:t,ownerDocument:s=globalThis.document}){super();A(this,X);A(this,ul);A(this,xu);A(this,fi);A(this,pi);A(this,Qt);A(this,dl);A(this,hl,0);v(this,pi,t),v(this,Qt,s)}addFilter(t){if(!t)return"none";let s=l(this,X,qt).get(t);if(s)return s;const[r,i,o]=E(this,X,Xg).call(this,t),a=t.length===1?r:`${r}${i}${o}`;if(s=l(this,X,qt).get(a),s)return l(this,X,qt).set(t,s),s;const c=`g_${l(this,pi)}_transfer_map_${xt(this,hl)._++}`,u=E(this,X,vc).call(this,c);l(this,X,qt).set(t,u),l(this,X,qt).set(a,u);const d=E(this,X,wc).call(this,c);return E(this,X,th).call(this,r,i,o,d),u}addHCMFilter(t,s){var y;const r=`${t}-${s}`,i="base";let o=l(this,X,Zd).get(i);if((o==null?void 0:o.key)===r||(o?((y=o.filter)==null||y.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},l(this,X,Zd).set(i,o)),!t||!s))return o.url;const a=E(this,X,nh).call(this,t);t=te.makeHexColor(...a);const c=E(this,X,nh).call(this,s);if(s=te.makeHexColor(...c),l(this,X,yc).style.color="",t==="#000000"&&s==="#ffffff"||t===s)return o.url;const u=new Array(256);for(let g=0;g<=255;g++){const b=g/255;u[g]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=u.join(","),h=`g_${l(this,pi)}_hcm_filter`,f=o.filter=E(this,X,wc).call(this,h);E(this,X,th).call(this,d,d,d,f),E(this,X,Cw).call(this,f);const p=(g,b)=>{const m=a[g]/255,w=c[g]/255,x=new Array(b+1);for(let S=0;S<=b;S++)x[S]=m+S/b*(w-m);return x.join(",")};return E(this,X,th).call(this,p(0,5),p(1,5),p(2,5),f),o.url=E(this,X,vc).call(this,h),o.url}addAlphaFilter(t){let s=l(this,X,qt).get(t);if(s)return s;const[r]=E(this,X,Xg).call(this,[t]),i=`alpha_${r}`;if(s=l(this,X,qt).get(i),s)return l(this,X,qt).set(t,s),s;const o=`g_${l(this,pi)}_alpha_map_${xt(this,hl)._++}`,a=E(this,X,vc).call(this,o);l(this,X,qt).set(t,a),l(this,X,qt).set(i,a);const c=E(this,X,wc).call(this,o);return E(this,X,_w).call(this,r,c),a}addLuminosityFilter(t){let s=l(this,X,qt).get(t||"luminosity");if(s)return s;let r,i;if(t?([r]=E(this,X,Xg).call(this,[t]),i=`luminosity_${r}`):i="luminosity",s=l(this,X,qt).get(i),s)return l(this,X,qt).set(t,s),s;const o=`g_${l(this,pi)}_luminosity_map_${xt(this,hl)._++}`,a=E(this,X,vc).call(this,o);l(this,X,qt).set(t,a),l(this,X,qt).set(i,a);const c=E(this,X,wc).call(this,o);return E(this,X,BP).call(this,c),t&&E(this,X,_w).call(this,r,c),a}addHighlightHCMFilter(t,s,r,i,o){var w;const a=`${s}-${r}-${i}-${o}`;let c=l(this,X,Zd).get(t);if((c==null?void 0:c.key)===a||(c?((w=c.filter)==null||w.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},l(this,X,Zd).set(t,c)),!s||!r))return c.url;const[u,d]=[s,r].map(E(this,X,nh).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,y]=[i,o].map(E(this,X,nh).bind(this));f<h&&([h,f,p,y]=[f,h,y,p]),l(this,X,yc).style.color="";const g=(x,S,C)=>{const T=new Array(256),P=(f-h)/C,R=x/255,L=(S-x)/(255*C);let M=0;for(let D=0;D<=C;D++){const B=Math.round(h+D*P),V=R+D*L;for(let I=M;I<=B;I++)T[I]=V;M=B+1}for(let D=M;D<256;D++)T[D]=T[M-1];return T.join(",")},b=`g_${l(this,pi)}_hcm_${t}_filter`,m=c.filter=E(this,X,wc).call(this,b);return E(this,X,Cw).call(this,m),E(this,X,th).call(this,g(p[0],y[0],5),g(p[1],y[1],5),g(p[2],y[2],5),m),c.url=E(this,X,vc).call(this,b),c.url}destroy(t=!1){var s,r,i,o;t&&((s=l(this,dl))!=null&&s.size)||((r=l(this,fi))==null||r.parentNode.parentNode.remove(),v(this,fi,null),(i=l(this,xu))==null||i.clear(),v(this,xu,null),(o=l(this,dl))==null||o.clear(),v(this,dl,null),v(this,hl,0))}}ul=new WeakMap,xu=new WeakMap,fi=new WeakMap,pi=new WeakMap,Qt=new WeakMap,dl=new WeakMap,hl=new WeakMap,X=new WeakSet,qt=function(){return l(this,xu)||v(this,xu,new Map)},Zd=function(){return l(this,dl)||v(this,dl,new Map)},yc=function(){if(!l(this,fi)){const t=l(this,Qt).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=l(this,Qt).createElementNS(Yr,"svg");r.setAttribute("width",0),r.setAttribute("height",0),v(this,fi,l(this,Qt).createElementNS(Yr,"defs")),t.append(r),r.append(l(this,fi)),l(this,Qt).body.append(t)}return l(this,fi)},Xg=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[s,r,i]=t,o=new Array(256),a=new Array(256),c=new Array(256);for(let u=0;u<256;u++)o[u]=s[u]/255,a[u]=r[u]/255,c[u]=i[u]/255;return[o.join(","),a.join(","),c.join(",")]},vc=function(t){if(l(this,ul)===void 0){v(this,ul,"");const s=l(this,Qt).URL;s!==l(this,Qt).baseURI&&($p(s)?oe('#createUrl: ignore "data:"-URL for performance reasons.'):v(this,ul,Bx(s,"")))}return`url(${l(this,ul)}#${t})`},BP=function(t){const s=l(this,Qt).createElementNS(Yr,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(s)},Cw=function(t){const s=l(this,Qt).createElementNS(Yr,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(s)},wc=function(t){const s=l(this,Qt).createElementNS(Yr,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",t),l(this,X,yc).append(s),s},eh=function(t,s,r){const i=l(this,Qt).createElementNS(Yr,s);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),t.append(i)},th=function(t,s,r,i){const o=l(this,Qt).createElementNS(Yr,"feComponentTransfer");i.append(o),E(this,X,eh).call(this,o,"feFuncR",t),E(this,X,eh).call(this,o,"feFuncG",s),E(this,X,eh).call(this,o,"feFuncB",r)},_w=function(t,s){const r=l(this,Qt).createElementNS(Yr,"feComponentTransfer");s.append(r),E(this,X,eh).call(this,r,"feFuncA",t)},nh=function(t){return l(this,X,yc).style.color=t,Hx(getComputedStyle(l(this,X,yc)).getPropertyValue("color"))};class zP{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Re("Abstract method `_fetch` called.")}}class uS extends zP{async _fetch(e){const t=await Pd(e,"arraybuffer");return new Uint8Array(t)}}class $P{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Re("Abstract method `_fetch` called.")}}class dS extends $P{async _fetch(e){const t=await Pd(e,"arraybuffer");return new Uint8Array(t)}}hn&&oe("Please use the `legacy` build in Node.js environments.");async function Vx(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class YF extends jP{}class KF extends OP{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class QF extends FP{async _fetch(e){return Vx(e)}}class JF extends zP{async _fetch(e){return Vx(e)}}class ZF extends $P{async _fetch(e){return Vx(e)}}const zt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Tw(n,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,s),n.clip(r)}class Wx{isModifyingCurrentTransform(){return!1}getPattern(){Re("Abstract method `getPattern` called.")}}class ej extends Wx{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,r){let i;if(r===zt.STROKE||r===zt.FILL){const o=t.current.getClippedPathBoundingBox(r,qe(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),s=te.transform(s,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),Tw(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),i=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(s);i.setTransform(h)}else Tw(e,this._bbox),i=this._createGradient(e);return i}}function Xv(n,e,t,s,r,i,o,a){const c=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;c[t+1]>c[s+1]&&(f=t,t=s,s=f,f=i,i=o,o=f),c[s+1]>c[r+1]&&(f=s,s=r,r=f,f=o,o=a,a=f),c[t+1]>c[s+1]&&(f=t,t=s,s=f,f=i,i=o,o=f);const p=(c[t]+e.offsetX)*e.scaleX,y=(c[t+1]+e.offsetY)*e.scaleY,g=(c[s]+e.offsetX)*e.scaleX,b=(c[s+1]+e.offsetY)*e.scaleY,m=(c[r]+e.offsetX)*e.scaleX,w=(c[r+1]+e.offsetY)*e.scaleY;if(y>=w)return;const x=u[i],S=u[i+1],C=u[i+2],T=u[o],P=u[o+1],R=u[o+2],L=u[a],M=u[a+1],D=u[a+2],B=Math.round(y),V=Math.round(w);let I,K,O,j,N,F,U,ne;for(let W=B;W<=V;W++){if(W<b){const Z=W<y?0:(y-W)/(y-b);I=p-(p-g)*Z,K=x-(x-T)*Z,O=S-(S-P)*Z,j=C-(C-R)*Z}else{let Z;W>w?Z=1:b===w?Z=0:Z=(b-W)/(b-w),I=g-(g-m)*Z,K=T-(T-L)*Z,O=P-(P-M)*Z,j=R-(R-D)*Z}let Q;W<y?Q=0:W>w?Q=1:Q=(y-W)/(y-w),N=p-(p-m)*Q,F=x-(x-L)*Q,U=S-(S-M)*Q,ne=C-(C-D)*Q;const se=Math.round(Math.min(I,N)),me=Math.round(Math.max(I,N));let be=h*W+se*4;for(let Z=se;Z<=me;Z++)Q=(I-Z)/(I-N),Q<0?Q=0:Q>1&&(Q=1),d[be++]=K-(K-F)*Q|0,d[be++]=O-(O-U)*Q|0,d[be++]=j-(j-ne)*Q|0,d[be++]=255}}function tj(n,e,t){const s=e.coords,r=e.colors;let i,o;switch(e.type){case"lattice":const a=e.verticesPerRow,c=Math.floor(s.length/a)-1,u=a-1;for(i=0;i<c;i++){let d=i*a;for(let h=0;h<u;h++,d++)Xv(n,t,s[d],s[d+1],s[d+a],r[d],r[d+1],r[d+a]),Xv(n,t,s[d+a+1],s[d+1],s[d+a],r[d+a+1],r[d+1],r[d+a])}break;case"triangles":for(i=0,o=s.length;i<o;i+=3)Xv(n,t,s[i],s[i+1],s[i+2],r[i],r[i+1],r[i+2]);break;default:throw new Error("illegal figure")}}class nj extends Wx{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,s){const a=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,y=d/f,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-c,scaleX:1/p,scaleY:1/y},b=h+2*2,m=f+2*2,w=s.getCanvas("mesh",b,m),x=w.context,S=x.createImageData(h,f);if(t){const T=S.data;for(let P=0,R=T.length;P<R;P+=4)T[P]=t[0],T[P+1]=t[1],T[P+2]=t[2],T[P+3]=255}for(const T of this._figures)tj(S,T,g);return x.putImageData(S,2,2),{canvas:w.canvas,offsetX:a-2*p,offsetY:c-2*y,scaleX:p,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(e,t,s,r){Tw(e,this._bbox);const i=new Float32Array(2);if(r===zt.SHADING)te.singularValueDecompose2dScale(qe(e),i);else if(this.matrix){te.singularValueDecompose2dScale(this.matrix,i);const[a,c]=i;te.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=a,i[1]*=c}else te.singularValueDecompose2dScale(t.baseTransform,i);const o=this._createMeshCanvas(i,r===zt.SHADING?null:this._background,t.cachedCanvases);return r!==zt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class sj extends Wx{getPattern(){return"hotpink"}}function rj(n){switch(n[0]){case"RadialAxial":return new ej(n);case"Mesh":return new nj(n);case"Dummy":return new sj}throw new Error(`Unknown IR type: ${n[0]}`)}const hS={COLORED:1,UNCOLORED:2},uy=class uy{constructor(e,t,s,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:s,paintType:r,tilingType:i,color:o,canvasGraphicsFactory:a}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),Ky("TilingType: "+i);const d=t[0],h=t[1],f=t[2],p=t[3],y=f-d,g=p-h,b=new Float32Array(2);te.singularValueDecompose2dScale(this.matrix,b);const[m,w]=b;te.singularValueDecompose2dScale(this.baseTransform,b);const x=m*b[0],S=w*b[1];let C=y,T=g,P=!1,R=!1;const L=Math.ceil(c*x),M=Math.ceil(u*S),D=Math.ceil(y*x),B=Math.ceil(g*S);L>=D?C=c:P=!0,M>=B?T=u:R=!0;const V=this.getSizeAndScale(C,this.ctx.canvas.width,x),I=this.getSizeAndScale(T,this.ctx.canvas.height,S),K=e.cachedCanvases.getCanvas("pattern",V.size,I.size),O=K.context,j=a.createCanvasGraphics(O);if(j.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(j,r,o),O.translate(-V.scale*d,-I.scale*h),j.transform(V.scale,0,0,I.scale,0,0),O.save(),this.clipBbox(j,d,h,f,p),j.baseTransform=qe(j.ctx),j.executeOperatorList(s),j.endDrawing(),O.restore(),P||R){const N=K.canvas;P&&(C=c),R&&(T=u);const F=this.getSizeAndScale(C,this.ctx.canvas.width,x),U=this.getSizeAndScale(T,this.ctx.canvas.height,S),ne=F.size,W=U.size,Q=e.cachedCanvases.getCanvas("pattern-workaround",ne,W),se=Q.context,me=P?Math.floor(y/c):0,be=R?Math.floor(g/u):0;for(let Z=0;Z<=me;Z++)for(let Nt=0;Nt<=be;Nt++)se.drawImage(N,ne*Z,W*Nt,ne,W,0,0,ne,W);return{canvas:Q.canvas,scaleX:F.scale,scaleY:U.scale,offsetX:d,offsetY:h}}return{canvas:K.canvas,scaleX:V.scale,scaleY:I.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,s){const r=Math.max(uy.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*s);return i>=r?i=r:s=i/e,{scale:s,size:i}}clipBbox(e,t,s,r,i){const o=r-t,a=i-s;e.ctx.rect(t,s,o,a),te.axialAlignedBoundingBox([t,s,r,i],qe(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const r=e.ctx,i=e.current;switch(t){case hS.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;r.fillStyle=i.fillColor=o,r.strokeStyle=i.strokeColor=a;break;case hS.UNCOLORED:r.fillStyle=r.strokeStyle=s,i.fillColor=i.strokeColor=s;break;default:throw new PF(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,s,r){let i=s;r!==zt.SHADING&&(i=te.transform(i,t.baseTransform),this.matrix&&(i=te.transform(i,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(i);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(a),c}};$(uy,"MAX_PATTERN_SIZE",3e3);let Pw=uy;function ij({src:n,srcPos:e=0,dest:t,width:s,height:r,nonBlackColor:i=4294967295,inverseDecode:o=!1}){const a=Lt.isLittleEndian?4278190080:255,[c,u]=o?[i,a]:[a,i],d=s>>3,h=s&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let y=0;y<r;y++){for(const b=e+d;e<b;e++){const m=e<f?n[e]:255;t[p++]=m&128?u:c,t[p++]=m&64?u:c,t[p++]=m&32?u:c,t[p++]=m&16?u:c,t[p++]=m&8?u:c,t[p++]=m&4?u:c,t[p++]=m&2?u:c,t[p++]=m&1?u:c}if(h===0)continue;const g=e<f?n[e++]:255;for(let b=0;b<h;b++)t[p++]=g&1<<7-b?u:c}return{srcPos:e,destPos:p}}const fS=16,pS=100,oj=15,gS=10,Pn=16,qv=new DOMMatrix,Jn=new Float32Array(2),Dc=new Float32Array([1/0,1/0,-1/0,-1/0]);function aj(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,s){e.translate(t,s),this.__originalTranslate(t,s)},n.scale=function(t,s){e.scale(t,s),this.__originalScale(t,s)},n.transform=function(t,s,r,i,o,a){e.transform(t,s,r,i,o,a),this.__originalTransform(t,s,r,i,o,a)},n.setTransform=function(t,s,r,i,o,a){e.setTransform(t,s,r,i,o,a),this.__originalSetTransform(t,s,r,i,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},n.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},n.bezierCurveTo=function(t,s,r,i,o,a){e.bezierCurveTo(t,s,r,i,o,a),this.__originalBezierCurveTo(t,s,r,i,o,a)},n.rect=function(t,s,r,i){e.rect(t,s,r,i),this.__originalRect(t,s,r,i)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class lj{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,s)):(r=this.canvasFactory.create(t,s),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function wg(n,e,t,s,r,i,o,a,c,u){const[d,h,f,p,y,g]=qe(n);if(h===0&&f===0){const w=o*d+y,x=Math.round(w),S=a*p+g,C=Math.round(S),T=(o+c)*d+y,P=Math.abs(Math.round(T)-x)||1,R=(a+u)*p+g,L=Math.abs(Math.round(R)-C)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),x,C),n.drawImage(e,t,s,r,i,0,0,P,L),n.setTransform(d,h,f,p,y,g),[P,L]}if(d===0&&p===0){const w=a*f+y,x=Math.round(w),S=o*h+g,C=Math.round(S),T=(a+u)*f+y,P=Math.abs(Math.round(T)-x)||1,R=(o+c)*h+g,L=Math.abs(Math.round(R)-C)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,x,C),n.drawImage(e,t,s,r,i,0,0,L,P),n.setTransform(d,h,f,p,y,g),[L,P]}n.drawImage(e,t,s,r,i,o,a,c,u);const b=Math.hypot(d,h),m=Math.hypot(f,p);return[b*c,m*u]}class mS{constructor(e,t){$(this,"alphaIsShape",!1);$(this,"fontSize",0);$(this,"fontSizeScale",1);$(this,"textMatrix",null);$(this,"textMatrixScale",1);$(this,"fontMatrix",iw);$(this,"leading",0);$(this,"x",0);$(this,"y",0);$(this,"lineX",0);$(this,"lineY",0);$(this,"charSpacing",0);$(this,"wordSpacing",0);$(this,"textHScale",1);$(this,"textRenderingMode",Xt.FILL);$(this,"textRise",0);$(this,"fillColor","#000000");$(this,"strokeColor","#000000");$(this,"patternFill",!1);$(this,"patternStroke",!1);$(this,"fillAlpha",1);$(this,"strokeAlpha",1);$(this,"lineWidth",1);$(this,"activeSMask",null);$(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Dc.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=zt.FILL,t=null){const s=this.minMax.slice();if(e===zt.STROKE){t||Re("Stroke bounding box must include transform."),te.singularValueDecompose2dScale(t,Jn);const r=Jn[0]*this.lineWidth/2,i=Jn[1]*this.lineWidth/2;s[0]-=r,s[1]-=i,s[2]+=r,s[3]+=i}return s}updateClipFromPath(){const e=te.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Dc,0)}getClippedPathBoundingBox(e=zt.FILL,t=null){return te.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function yS(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,s=e.width,r=t%Pn,i=(t-r)/Pn,o=r===0?i:i+1,a=n.createImageData(s,Pn);let c=0,u;const d=e.data,h=a.data;let f,p,y,g;if(e.kind===Ah.GRAYSCALE_1BPP){const b=d.byteLength,m=new Uint32Array(h.buffer,0,h.byteLength>>2),w=m.length,x=s+7>>3,S=4294967295,C=Lt.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(y=f<i?Pn:r,u=0,p=0;p<y;p++){const T=b-c;let P=0;const R=T>x?s:T*8-7,L=R&-8;let M=0,D=0;for(;P<L;P+=8)D=d[c++],m[u++]=D&128?S:C,m[u++]=D&64?S:C,m[u++]=D&32?S:C,m[u++]=D&16?S:C,m[u++]=D&8?S:C,m[u++]=D&4?S:C,m[u++]=D&2?S:C,m[u++]=D&1?S:C;for(;P<R;P++)M===0&&(D=d[c++],M=128),m[u++]=D&M?S:C,M>>=1}for(;u<w;)m[u++]=0;n.putImageData(a,0,f*Pn)}}else if(e.kind===Ah.RGBA_32BPP){for(p=0,g=s*Pn*4,f=0;f<i;f++)h.set(d.subarray(c,c+g)),c+=g,n.putImageData(a,0,p),p+=Pn;f<o&&(g=s*r*4,h.set(d.subarray(c,c+g)),n.putImageData(a,0,p))}else if(e.kind===Ah.RGB_24BPP)for(y=Pn,g=s*y,f=0;f<o;f++){for(f>=i&&(y=r,g=s*y),u=0,p=g;p--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;n.putImageData(a,0,f*Pn)}else throw new Error(`bad image kind: ${e.kind}`)}function vS(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,r=t%Pn,i=(t-r)/Pn,o=r===0?i:i+1,a=n.createImageData(s,Pn);let c=0;const u=e.data,d=a.data;for(let h=0;h<o;h++){const f=h<i?Pn:r;({srcPos:c}=ij({src:u,srcPos:c,dest:d,width:s,height:f,nonBlackColor:0})),n.putImageData(a,0,h*Pn)}}function Bd(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)n[s]!==void 0&&(e[s]=n[s]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function bg(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function wS(n,e){if(e)return!0;te.singularValueDecompose2dScale(n,Jn);const t=Math.fround(ir.pixelRatio*Wi.PDF_TO_CSS_UNITS);return Jn[0]<=t&&Jn[1]<=t}const cj=["butt","round","square"],uj=["miter","round","bevel"],dj={},bS={};var or,kw,Rw,Lw;const tA=class tA{constructor(e,t,s,r,i,{optionalContentConfig:o,markedContentStack:a=null},c,u){A(this,or);this.ctx=e,this.current=new mS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new lj(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:r=null}){const i=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,i,o),this.ctx.fillStyle=a,s){const c=this.cachedCanvases.getCanvas("transparent",i,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...qe(this.compositeCtx))}this.ctx.save(),bg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=qe(this.ctx)}executeOperatorList(e,t,s,r){const i=e.argsArray,o=e.fnArray;let a=t||0;const c=i.length;if(c===a)return a;const u=c-a>gS&&typeof s=="function",d=u?Date.now()+oj:0;let h=0;const f=this.commonObjs,p=this.objs;let y;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,s),a;if(y=o[a],y!==Vh.dependency)this[y].apply(this,i[a]);else for(const g of i[a]){const b=g.startsWith("g_")?f:p;if(!b.has(g))return b.get(g,s),a}if(a++,a===c)return a;if(u&&++h>gS){if(Date.now()>d)return s(),a;h=0}}}endDrawing(){E(this,or,kw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),E(this,or,Rw).call(this)}_scaleImage(e,t){const s=e.width??e.displayWidth,r=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=s,c=r,u="prescale1",d,h;for(;i>2&&a>1||o>2&&c>1;){let f=a,p=c;i>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),i/=a/f),o>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,a,c,0,0,f,p),e=d.canvas,a=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:s,height:r}=e,i=this.current.fillColor,o=this.current.patternFill,a=qe(t);let c,u,d,h;if((e.bitmap||e.data)&&e.count>1){const L=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),i]),c=this._cachedBitmapsMap.get(L),c||(c=new Map,this._cachedBitmapsMap.set(L,c));const M=c.get(u);if(M&&!o){const D=Math.round(Math.min(a[0],a[2])+a[4]),B=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:M,offsetX:D,offsetY:B}}d=M}d||(h=this.cachedCanvases.getCanvas("maskCanvas",s,r),vS(h.context,e));let f=te.transform(a,[1/s,0,0,-1/r,0,0]);f=te.transform(f,[1,0,0,1,0,-r]);const p=Dc.slice();te.axialAlignedBoundingBox([0,0,s,r],f,p);const[y,g,b,m]=p,w=Math.round(b-y)||1,x=Math.round(m-g)||1,S=this.cachedCanvases.getCanvas("fillCanvas",w,x),C=S.context,T=y,P=g;C.translate(-T,-P),C.transform(...f),d||(d=this._scaleImage(h.canvas,hr(C)),d=d.img,c&&o&&c.set(u,d)),C.imageSmoothingEnabled=wS(qe(C),e.interpolate),wg(C,d,0,0,d.width,d.height,0,0,s,r),C.globalCompositeOperation="source-in";const R=te.transform(hr(C),[1,0,0,1,-T,-P]);return C.fillStyle=o?i.getPattern(t,this,R,zt.FILL):i,C.fillRect(0,0,s,r),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,S.canvas)),{canvas:S.canvas,offsetX:Math.round(T),offsetY:Math.round(P)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=cj[e]}setLineJoin(e){this.ctx.lineJoin=uj[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,s]of e)switch(t){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,e,t);this.suspendedCtx=this.ctx;const i=this.ctx=r.context;i.setTransform(this.suspendedCtx.getTransform()),Bd(this.suspendedCtx,i),aj(i,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Bd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,r){const i=r[0],o=r[1],a=r[2]-i,c=r[3]-o;a===0||c===0||(this.genericComposeSMask(t.context,s,a,c,t.subtype,t.backdrop,t.transferMap,i,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,r,i,o,a,c,u,d,h){let f=e.canvas,p=c-d,y=u-h;if(o)if(p<0||y<0||p+s>f.width||y+r>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",s,r),m=b.context;m.drawImage(f,-p,-y),m.globalCompositeOperation="destination-atop",m.fillStyle=o,m.fillRect(0,0,s,r),m.globalCompositeOperation="source-over",f=b.canvas,p=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,y,s,r),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(p,y,s,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(c,u,s,r),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(f,p,y,s,r,c,u,s,r),t.restore()}save(){this.inSMaskMode&&Bd(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Bd(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,s,r,i,o){this.ctx.transform(e,t,s,r,i,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s){let[r]=t;if(!s){r||(r=t[0]=new Path2D),this[e](r);return}if(!(r instanceof Path2D)){const i=t[0]=new Path2D;for(let o=0,a=r.length;o<a;)switch(r[o++]){case mg.moveTo:i.moveTo(r[o++],r[o++]);break;case mg.lineTo:i.lineTo(r[o++],r[o++]);break;case mg.curveTo:i.bezierCurveTo(r[o++],r[o++],r[o++],r[o++],r[o++],r[o++]);break;case mg.closePath:i.closePath();break;default:oe(`Unrecognized drawing path operator: ${r[o-1]}`);break}r=i}te.axialAlignedBoundingBox(s,qe(this.ctx),this.current.minMax),this[e](r)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const s=this.ctx,r=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const i=r.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=r.getPattern(s,this,hr(s),zt.STROKE),i){const o=new Path2D;o.addPath(e,s.getTransform().invertSelf().multiplySelf(i)),e=o}this.rescaleAndStroke(e,!1),s.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(zt.STROKE,qe(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const s=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let o=!1;if(i){const c=r.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.fillStyle=r.getPattern(s,this,hr(s),zt.FILL),c){const u=new Path2D;u.addPath(e,s.getTransform().invertSelf().multiplySelf(c)),e=u}o=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(s.fill(e,"evenodd"),this.pendingEOFill=!1):s.fill(e)),o&&s.restore(),t&&this.consumePath(e,a)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=dj}eoClip(){this.pendingClip=bS}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const s=new Path2D,r=t.getTransform().invertSelf();for(const{transform:i,x:o,y:a,fontSize:c,path:u}of e)s.addPath(u,new DOMMatrix(i).preMultiplySelf(r).translate(o,a).scale(c,-c));t.clip(s),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=s.fontMatrix||iw,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&oe("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=t,s.isType3Font)return;const i=s.loadedName||"sans-serif",o=((d=s.systemFontInfo)==null?void 0:d.css)||`"${i}", ${s.fallbackName}`;let a="normal";s.black?a="900":s.bold&&(a="bold");const c=s.italic?"italic":"normal";let u=t;t<fS?u=fS:t>pS&&(u=pS),this.current.fontSizeScale=t/u,this.ctx.font=`${c} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,s,r,i){const o=this.ctx,a=this.current,c=a.font,u=a.textRenderingMode,d=a.fontSize/a.fontSizeScale,h=u&Xt.FILL_STROKE_MASK,f=!!(u&Xt.ADD_TO_PATH_FLAG),p=a.patternFill&&!c.missingFile,y=a.patternStroke&&!c.missingFile;let g;if((c.disableFontFace||f||p||y)&&(g=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||p||y){o.save(),o.translate(t,s),o.scale(d,-d);let b;if((h===Xt.FILL||h===Xt.FILL_STROKE)&&(r?(b=o.getTransform(),o.setTransform(...r),o.fill(E(this,or,Lw).call(this,g,b,r))):o.fill(g)),h===Xt.STROKE||h===Xt.FILL_STROKE)if(i){b||(b=o.getTransform()),o.setTransform(...i);const{a:m,b:w,c:x,d:S}=b,C=te.inverseTransform(i),T=te.transform([m,w,x,S,0,0],C);te.singularValueDecompose2dScale(T,Jn),o.lineWidth*=Math.max(Jn[0],Jn[1])/d,o.stroke(E(this,or,Lw).call(this,g,b,i))}else o.lineWidth/=d,o.stroke(g);o.restore()}else(h===Xt.FILL||h===Xt.FILL_STROKE)&&o.fillText(e,t,s),(h===Xt.STROKE||h===Xt.FILL_STROKE)&&o.strokeText(e,t,s);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:qe(o),x:t,y:s,fontSize:d,path:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){s=!0;break}return fe(this,"isFontSubpixelAAEnabled",s)}showText(e){const t=this.current,s=t.font;if(s.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const i=this.ctx,o=t.fontSizeScale,a=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=s.vertical,p=f?1:-1,y=s.defaultVMetrics,g=r*t.fontMatrix[0],b=t.textRenderingMode===Xt.FILL&&!s.disableFontFace&&!t.patternFill;i.save(),t.textMatrix&&i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),u>0?i.scale(d,-1):i.scale(d,1);let m,w;if(t.patternFill){i.save();const P=t.fillColor.getPattern(i,this,hr(i),zt.FILL);m=qe(i),i.restore(),i.fillStyle=P}if(t.patternStroke){i.save();const P=t.strokeColor.getPattern(i,this,hr(i),zt.STROKE);w=qe(i),i.restore(),i.strokeStyle=P}let x=t.lineWidth;const S=t.textMatrixScale;if(S===0||x===0){const P=t.textRenderingMode&Xt.FILL_STROKE_MASK;(P===Xt.STROKE||P===Xt.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=S;if(o!==1&&(i.scale(o,o),x/=o),i.lineWidth=x,s.isInvalidPDFjsFont){const P=[];let R=0;for(const L of e)P.push(L.unicode),R+=L.width;i.fillText(P.join(""),0,0),t.x+=R*g*d,i.restore(),this.compose();return}let C=0,T;for(T=0;T<h;++T){const P=e[T];if(typeof P=="number"){C+=p*P*r/1e3;continue}let R=!1;const L=(P.isSpace?c:0)+a,M=P.fontChar,D=P.accent;let B,V,I=P.width;if(f){const O=P.vmetric||y,j=-(P.vmetric?O[1]:I*.5)*g,N=O[2]*g;I=O?-O[0]:I,B=j/o,V=(C+N)/o}else B=C/o,V=0;if(s.remeasure&&I>0){const O=i.measureText(M).width*1e3/r*o;if(I<O&&this.isFontSubpixelAAEnabled){const j=I/O;R=!0,i.save(),i.scale(j,1),B/=j}else I!==O&&(B+=(I-O)/2e3*r/o)}if(this.contentVisible&&(P.isInFont||s.missingFile)){if(b&&!D)i.fillText(M,B,V);else if(this.paintChar(M,B,V,m,w),D){const O=B+r*D.offset.x/o,j=V-r*D.offset.y/o;this.paintChar(D.fontChar,O,j,m,w)}}const K=f?I*g-L*u:I*g+L*u;C+=K,R&&i.restore()}f?t.y-=C:t.x+=C*d,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,s=this.current,r=s.font,i=s.fontSize,o=s.fontDirection,a=r.vertical?1:-1,c=s.charSpacing,u=s.wordSpacing,d=s.textHScale*o,h=s.fontMatrix||iw,f=e.length,p=s.textRenderingMode===Xt.INVISIBLE;let y,g,b,m;if(!(p||i===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),s.textMatrix&&t.transform(...s.textMatrix),t.translate(s.x,s.y+s.textRise),t.scale(d,o),y=0;y<f;++y){if(g=e[y],typeof g=="number"){m=a*g*i/1e3,this.ctx.translate(m,0),s.x+=m*d;continue}const w=(g.isSpace?u:0)+c,x=r.charProcOperatorList[g.operatorListId];x?this.contentVisible&&(this.save(),t.scale(i,i),t.transform(...h),this.executeOperatorList(x),this.restore()):oe(`Type3 character "${g.operatorListId}" is not available.`);const S=[g.width,0];te.applyTransform(S,h),b=S[0]*i+w,t.translate(b,0),s.x+=b*d}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,s,r,i,o){const a=new Path2D;a.rect(s,r,i-s,o-r),this.ctx.clip(a),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const s=this.baseTransform||qe(this.ctx),r={createCanvasGraphics:i=>new tA(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Pw(e,this.ctx,r,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=rj(this.getObject(e)),this.cachedPatterns.set(e,s)),t&&(s.matrix=t),s}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const s=this._getPattern(e);t.fillStyle=s.getPattern(t,this,hr(t),zt.SHADING);const r=hr(t);if(r){const{width:i,height:o}=t.canvas,a=Dc.slice();te.axialAlignedBoundingBox([0,0,i,o],r,a);const[c,u,d,h]=a;this.ctx.fillRect(c,u,d-c,h-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Re("Should not call beginInlineImage")}beginImageData(){Re("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=qe(this.ctx),t)){te.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[s,r,i,o]=t,a=new Path2D;a.rect(s,r,i-s,o-r),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Ky("TODO: Support non-isolated groups."),e.knockout&&oe("Knockout groups not supported.");const s=qe(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Dc.slice();te.axialAlignedBoundingBox(e.bbox,qe(t),r);const i=[0,0,t.canvas.width,t.canvas.height];r=te.intersect(r,i)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),c=Math.max(Math.ceil(r[2])-o,1),u=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,c,u),f=h.context;f.translate(-o,-a),f.transform(...s);let p=new Path2D;const[y,g,b,m]=e.bbox;if(p.rect(y,g,b-y,m-g),e.matrix){const w=new Path2D;w.addPath(p,new DOMMatrix(e.matrix)),p=w}f.clip(p),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Bd(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=qe(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const i=Dc.slice();te.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r,i),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,s,r,i){if(E(this,or,kw).call(this),bg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(i&&this.annotationCanvasMap){s=s.slice(),s[4]-=t[0],s[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a,te.singularValueDecompose2dScale(qe(this.ctx),Jn);const{viewportScale:c}=this,u=Math.ceil(o*this.outputScaleX*c),d=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(Jn[0],0,0,-Jn[1],0,a*Jn[1]),bg(this.ctx)}else{bg(this.ctx),this.endPath();const c=new Path2D;c.rect(t[0],t[1],o,a),this.ctx.clip(c)}}this.current=new mS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),E(this,or,Rw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const s=this.ctx,r=this._createMaskCanvas(e),i=r.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(i,r.offsetX,r.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s=0,r=0,i,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const c=qe(a);a.transform(t,s,r,i,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let d=0,h=o.length;d<h;d+=2){const f=te.transform(c,[t,s,r,i,o[d],o[d+1]]);a.drawImage(u.canvas,f[4],f[5])}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const i of e){const{data:o,width:a,height:c,transform:u}=i,d=this.cachedCanvases.getCanvas("maskCanvas",a,c),h=d.context;h.save();const f=this.getObject(o,i);vS(h,f),h.globalCompositeOperation="source-in",h.fillStyle=r?s.getPattern(h,this,hr(t),zt.FILL):s,h.fillRect(0,0,a,c),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),wg(t,d.canvas,0,0,a,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){oe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,s,r){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){oe("Dependent image isn't ready yet");return}const o=i.width,a=i.height,c=[];for(let u=0,d=r.length;u<d;u+=2)c.push({transform:[t,0,0,s,r[u],r[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(i,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",s,r),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,s=e.height,r=this.ctx;this.save();const{filter:i}=r;i!=="none"&&i!==""&&(r.filter="none"),r.scale(1/t,-1/s);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",t,s).context;yS(u,e),o=this.applyTransferMapsToCanvas(u)}const a=this._scaleImage(o,hr(r));r.imageSmoothingEnabled=wS(qe(r),e.interpolate),wg(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-s,t,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const i=e.width,o=e.height,c=this.cachedCanvases.getCanvas("inlineImage",i,o).context;yS(c,e),r=this.applyTransferMapsToCanvas(c)}for(const i of t)s.save(),s.transform(...i.transform),s.scale(1,-1),wg(s,r,i.x,i.y,i.w,i.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const r=this.ctx;this.pendingClip&&(s||(this.pendingClip===bS?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=qe(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:r,d:i}=this.ctx.getTransform();let o,a;if(s===0&&r===0){const c=Math.abs(t),u=Math.abs(i);if(c===u)if(e===0)o=a=1/c;else{const d=c*e;o=a=d<1?1/d:1}else if(e===0)o=1/c,a=1/u;else{const d=c*e,h=u*e;o=d<1?1/d:1,a=h<1?1/h:1}}else{const c=Math.abs(t*i-s*r),u=Math.hypot(t,s),d=Math.hypot(r,i);if(e===0)o=d/c,a=u/c;else{const h=e*c;o=d>h?d/h:1,a=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:s,current:{lineWidth:r}}=this,[i,o]=this.getScaleForStroking();if(i===o){s.lineWidth=(r||1)*i,s.stroke(e);return}const a=s.getLineDash();t&&s.save(),s.scale(i,o),qv.a=1/i,qv.d=1/o;const c=new Path2D;if(c.addPath(e,qv),a.length>0){const u=Math.max(i,o);s.setLineDash(a.map(d=>d/u)),s.lineDashOffset/=u}s.lineWidth=r||1,s.stroke(c),t&&s.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};or=new WeakSet,kw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Rw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},Lw=function(e,t,s){const r=new Path2D;return r.addPath(e,new DOMMatrix(s).invertSelf().multiplySelf(t)),r};let Xc=tA;for(const n in Vh)Xc.prototype[n]!==void 0&&(Xc.prototype[Vh[n]]=Xc.prototype[n]);var Tf,Pf;class ws{static get workerPort(){return l(this,Tf)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");v(this,Tf,e)}static get workerSrc(){return l(this,Pf)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");v(this,Pf,e)}}Tf=new WeakMap,Pf=new WeakMap,A(ws,Tf,null),A(ws,Pf,"");var Au,kf;class hj{constructor({parsedData:e,rawData:t}){A(this,Au);A(this,kf);v(this,Au,e),v(this,kf,t)}getRaw(){return l(this,kf)}get(e){return l(this,Au).get(e)??null}[Symbol.iterator](){return l(this,Au).entries()}}Au=new WeakMap,kf=new WeakMap;const bc=Symbol("INTERNAL");var Rf,Lf,Mf,Eu;class fj{constructor(e,{name:t,intent:s,usage:r,rbGroups:i}){A(this,Rf,!1);A(this,Lf,!1);A(this,Mf,!1);A(this,Eu,!0);v(this,Rf,!!(e&Kn.DISPLAY)),v(this,Lf,!!(e&Kn.PRINT)),this.name=t,this.intent=s,this.usage=r,this.rbGroups=i}get visible(){if(l(this,Mf))return l(this,Eu);if(!l(this,Eu))return!1;const{print:e,view:t}=this.usage;return l(this,Rf)?(t==null?void 0:t.viewState)!=="OFF":l(this,Lf)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,s=!1){e!==bc&&Re("Internal method `_setVisible` called."),v(this,Mf,s),v(this,Eu,t)}}Rf=new WeakMap,Lf=new WeakMap,Mf=new WeakMap,Eu=new WeakMap;var Ro,Pe,Su,Cu,Nf,Mw;class pj{constructor(e,t=Kn.DISPLAY){A(this,Nf);A(this,Ro,null);A(this,Pe,new Map);A(this,Su,null);A(this,Cu,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,v(this,Cu,e.order);for(const s of e.groups)l(this,Pe).set(s.id,new fj(t,s));if(e.baseState==="OFF")for(const s of l(this,Pe).values())s._setVisible(bc,!1);for(const s of e.on)l(this,Pe).get(s)._setVisible(bc,!0);for(const s of e.off)l(this,Pe).get(s)._setVisible(bc,!1);v(this,Su,this.getHash())}}isVisible(e){if(l(this,Pe).size===0)return!0;if(!e)return Ky("Optional content group not defined."),!0;if(e.type==="OCG")return l(this,Pe).has(e.id)?l(this,Pe).get(e.id).visible:(oe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return E(this,Nf,Mw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!l(this,Pe).has(t))return oe(`Optional content group not found: ${t}`),!0;if(l(this,Pe).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!l(this,Pe).has(t))return oe(`Optional content group not found: ${t}`),!0;if(!l(this,Pe).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!l(this,Pe).has(t))return oe(`Optional content group not found: ${t}`),!0;if(!l(this,Pe).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!l(this,Pe).has(t))return oe(`Optional content group not found: ${t}`),!0;if(l(this,Pe).get(t).visible)return!1}return!0}return oe(`Unknown optional content policy ${e.policy}.`),!0}return oe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){var i;const r=l(this,Pe).get(e);if(!r){oe(`Optional content group not found: ${e}`);return}if(s&&t&&r.rbGroups.length)for(const o of r.rbGroups)for(const a of o)a!==e&&((i=l(this,Pe).get(a))==null||i._setVisible(bc,!1,!0));r._setVisible(bc,!!t,!0),v(this,Ro,null)}setOCGState({state:e,preserveRB:t}){let s;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const i=l(this,Pe).get(r);if(i)switch(s){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!i.visible,t);break}}v(this,Ro,null)}get hasInitialVisibility(){return l(this,Su)===null||this.getHash()===l(this,Su)}getOrder(){return l(this,Pe).size?l(this,Cu)?l(this,Cu).slice():[...l(this,Pe).keys()]:null}getGroup(e){return l(this,Pe).get(e)||null}getHash(){if(l(this,Ro)!==null)return l(this,Ro);const e=new kP;for(const[t,s]of l(this,Pe))e.update(`${t}:${s.visible}`);return v(this,Ro,e.hexdigest())}[Symbol.iterator](){return l(this,Pe).entries()}}Ro=new WeakMap,Pe=new WeakMap,Su=new WeakMap,Cu=new WeakMap,Nf=new WeakSet,Mw=function(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let r=1;r<t;r++){const i=e[r];let o;if(Array.isArray(i))o=E(this,Nf,Mw).call(this,i);else if(l(this,Pe).has(i))o=l(this,Pe).get(i).visible;else return oe(`Optional content group not found: ${i}`),!0;switch(s){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return s==="And"};class gj{constructor(e,{disableRange:t=!1,disableStream:s=!1}){dt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:i,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(i==null?void 0:i.length)>0){const c=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(s),!0)});dt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,s,r,i;e.total===void 0?(s=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||s.call(t,{loaded:e.loaded}):(i=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||i.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){dt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new mj(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new yj(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class mj{constructor(e,t,s=!1,r=null){this._stream=e,this._done=s||!1,this._filename=Jy(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class yj{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function vj(n){let e=!0,t=s("filename\\*","i").exec(n);if(t){t=t[1];let d=a(t);return d=unescape(d),d=c(d),d=u(d),i(d)}if(t=o(n),t){const d=u(t);return i(d)}if(t=s("filename","i").exec(n),t){t=t[1];let d=a(t);return d=u(d),i(d)}function s(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=Bp(h);h=f.decode(p),e=!1}catch{}}return h}function i(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,g,b,m]=f;if(g=parseInt(g,10),g in h){if(g===0)break;continue}h[g]=[b,m]}const y=[];for(let g=0;g<h.length&&g in h;++g){let[b,m]=h[g];m=a(m),b&&(m=unescape(m),g===0&&(m=c(m))),y.push(m)}return y.join("")}function a(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),y=d.slice(h+1).replace(/^[^']*'/,"");return r(f,y)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,y){if(p==="q"||p==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,b){return String.fromCharCode(parseInt(b,16))}),r(f,y);try{y=atob(y)}catch{}return r(f,y)})}return""}function HP(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const s in e){const r=e[s];r!==void 0&&t.append(s,r)}return t}function ev(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function UP({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(r.suggestedLength=i,i<=2*t)||s||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function VP(n){const e=n.get("Content-Disposition");if(e){let t=vj(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Jy(t))return t}return null}function Up(n,e){return new Wh(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function WP(n){return n===200||n===206}function GP(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function XP(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(oe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class wj{constructor(e){$(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=HP(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return dt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new bj(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new xj(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class bj{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),r=t.url;fetch(r,GP(s,this._withCredentials,this._abortController)).then(i=>{if(e._responseOrigin=ev(i.url),!WP(i.status))throw Up(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=i.headers,{allowRangeRequests:a,suggestedLength:c}=UP({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=c||this._contentLength,this._filename=VP(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Vi("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:XP(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class xj{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${s-1}`);const o=r.url;fetch(o,GP(i,this._withCredentials,this._abortController)).then(a=>{const c=ev(a.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!WP(a.status))throw Up(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:XP(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Yv=200,Kv=206;function Aj(n){const e=n.response;return typeof e!="string"?e:Bp(e).buffer}class Ej{constructor({url:e,httpHeaders:t,withCredentials:s}){$(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=HP(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,o]of this.headers)t.setRequestHeader(i,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Kv):r.expectedStatus=Yv,t.responseType="arraybuffer",dt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var r;const s=this.pendingRequests[e];s&&((r=s.onProgress)==null||r.call(s,t))}onStateChange(e,t){const s=this.pendingRequests[e];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){s.onError(r.status);return}const i=r.status||Yv;if(!(i===Yv&&s.expectedStatus===Kv)&&i!==s.expectedStatus){s.onError(r.status);return}const a=Aj(r);if(i===Kv){const c=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?s.onDone({begin:parseInt(u[1],10),chunk:a}):(oe('Missing or invalid "Content-Range" header.'),s.onError(0))}else a?s.onDone({begin:0,chunk:a}):s.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Sj{constructor(e){this._source=e,this._manager=new Ej(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return dt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Cj(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new _j(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class Cj{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=ev(t.responseURL);const s=t.getAllResponseHeaders(),r=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[c,...u]=a.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:o}=UP({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=VP(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Up(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _j{constructor(e,t,s){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=ev((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Up(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Tj=/^[a-z][a-z0-9\-+.]+:/i;function Pj(n){if(Tj.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class kj{constructor(e){this.source=e,this.url=Pj(e.url),dt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return dt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Rj(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new Lj(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class Rj{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Up(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Vi("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Lj{constructor(e,t,s){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const zd=Symbol("INITIAL_DATA");var Bn,If,Nw;class qP{constructor(){A(this,If);A(this,Bn,Object.create(null))}get(e,t=null){if(t){const r=E(this,If,Nw).call(this,e);return r.promise.then(()=>t(r.data)),null}const s=l(this,Bn)[e];if(!s||s.data===zd)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=l(this,Bn)[e];return!!t&&t.data!==zd}delete(e){const t=l(this,Bn)[e];return!t||t.data===zd?!1:(delete l(this,Bn)[e],!0)}resolve(e,t=null){const s=E(this,If,Nw).call(this,e);s.data=t,s.resolve()}clear(){var e;for(const t in l(this,Bn)){const{data:s}=l(this,Bn)[t];(e=s==null?void 0:s.bitmap)==null||e.close()}v(this,Bn,Object.create(null))}*[Symbol.iterator](){for(const e in l(this,Bn)){const{data:t}=l(this,Bn)[e];t!==zd&&(yield[e,t])}}}Bn=new WeakMap,If=new WeakSet,Nw=function(e){var t;return(t=l(this,Bn))[e]||(t[e]={...Promise.withResolvers(),data:zd})};const Mj=1e5,xS=30;var $S,Lo,Cn,Df,Of,fl,gi,Ff,jf,pl,_u,Tu,Mo,Pu,Bf,ku,gl,zf,$f,et,Ru,ml,Hf,No,Lu,Gi,YP,KP,Iw,rs,qg,Dw,QP,JP;let Xh=(et=class{constructor({textContentSource:e,container:t,viewport:s}){A(this,Gi);A(this,Lo,Promise.withResolvers());A(this,Cn,null);A(this,Df,!1);A(this,Of,!!(($S=globalThis.FontInspector)!=null&&$S.enabled));A(this,fl,null);A(this,gi,null);A(this,Ff,0);A(this,jf,0);A(this,pl,null);A(this,_u,null);A(this,Tu,0);A(this,Mo,0);A(this,Pu,Object.create(null));A(this,Bf,[]);A(this,ku,null);A(this,gl,[]);A(this,zf,new WeakMap);A(this,$f,null);var c;if(e instanceof ReadableStream)v(this,ku,e);else if(typeof e=="object")v(this,ku,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');v(this,Cn,v(this,_u,t)),v(this,Mo,s.scale*ir.pixelRatio),v(this,Tu,s.rotation),v(this,gi,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:i,pageX:o,pageY:a}=s.rawDims;v(this,$f,[1,0,0,-1,-o,a+i]),v(this,jf,r),v(this,Ff,i),E(c=et,rs,QP).call(c),ga(t,s),l(this,Lo).promise.finally(()=>{l(et,Lu).delete(this),v(this,gi,null),v(this,Pu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Lt.platform;return fe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{l(this,pl).read().then(({value:t,done:s})=>{if(s){l(this,Lo).resolve();return}l(this,fl)??v(this,fl,t.lang),Object.assign(l(this,Pu),t.styles),E(this,Gi,YP).call(this,t.items),e()},l(this,Lo).reject)};return v(this,pl,l(this,ku).getReader()),l(et,Lu).add(this),e(),l(this,Lo).promise}update({viewport:e,onBefore:t=null}){var i;const s=e.scale*ir.pixelRatio,r=e.rotation;if(r!==l(this,Tu)&&(t==null||t(),v(this,Tu,r),ga(l(this,_u),{rotation:r})),s!==l(this,Mo)){t==null||t(),v(this,Mo,s);const o={div:null,properties:null,ctx:E(i=et,rs,qg).call(i,l(this,fl))};for(const a of l(this,gl))o.properties=l(this,zf).get(a),o.div=a,E(this,Gi,Iw).call(this,o)}}cancel(){var t;const e=new Vi("TextLayer task cancelled.");(t=l(this,pl))==null||t.cancel(e).catch(()=>{}),v(this,pl,null),l(this,Lo).reject(e)}get textDivs(){return l(this,gl)}get textContentItemsStr(){return l(this,Bf)}static cleanup(){if(!(l(this,Lu).size>0)){l(this,Ru).clear();for(const{canvas:e}of l(this,ml).values())e.remove();l(this,ml).clear()}}},Lo=new WeakMap,Cn=new WeakMap,Df=new WeakMap,Of=new WeakMap,fl=new WeakMap,gi=new WeakMap,Ff=new WeakMap,jf=new WeakMap,pl=new WeakMap,_u=new WeakMap,Tu=new WeakMap,Mo=new WeakMap,Pu=new WeakMap,Bf=new WeakMap,ku=new WeakMap,gl=new WeakMap,zf=new WeakMap,$f=new WeakMap,Ru=new WeakMap,ml=new WeakMap,Hf=new WeakMap,No=new WeakMap,Lu=new WeakMap,Gi=new WeakSet,YP=function(e){var r,i;if(l(this,Df))return;(i=l(this,gi)).ctx??(i.ctx=E(r=et,rs,qg).call(r,l(this,fl)));const t=l(this,gl),s=l(this,Bf);for(const o of e){if(t.length>Mj){oe("Ignoring additional textDivs for performance reasons."),v(this,Df,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=l(this,Cn);v(this,Cn,document.createElement("span")),l(this,Cn).classList.add("markedContent"),o.id!==null&&l(this,Cn).setAttribute("id",`${o.id}`),a.append(l(this,Cn))}else o.type==="endMarkedContent"&&v(this,Cn,l(this,Cn).parentNode);continue}s.push(o.str),E(this,Gi,KP).call(this,o)}},KP=function(e){var g;const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};l(this,gl).push(t);const r=te.transform(l(this,$f),e.transform);let i=Math.atan2(r[1],r[0]);const o=l(this,Pu)[e.fontName];o.vertical&&(i+=Math.PI/2);let a=l(this,Of)&&o.fontSubstitution||o.fontFamily;a=et.fontFamilyMap.get(a)||a;const c=Math.hypot(r[2],r[3]),u=c*E(g=et,rs,JP).call(g,a,o,l(this,fl));let d,h;i===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(i),h=r[5]-u*Math.cos(i));const f="calc(var(--total-scale-factor) *",p=t.style;l(this,Cn)===l(this,_u)?(p.left=`${(100*d/l(this,jf)).toFixed(2)}%`,p.top=`${(100*h/l(this,Ff)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(l(et,No)*c).toFixed(2)}px)`,p.fontFamily=a,s.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,l(this,Of)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),i!==0&&(s.angle=i*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);b!==m&&Math.max(b,m)/Math.min(b,m)>1.5&&(y=!0)}if(y&&(s.canvasWidth=o.vertical?e.height:e.width),l(this,zf).set(t,s),l(this,gi).div=t,l(this,gi).properties=s,E(this,Gi,Iw).call(this,l(this,gi)),s.hasText&&l(this,Cn).append(t),s.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),l(this,Cn).append(b)}},Iw=function(e){var a;const{div:t,properties:s,ctx:r}=e,{style:i}=t;let o="";if(l(et,No)>1&&(o=`scale(${1/l(et,No)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:c}=i,{canvasWidth:u,fontSize:d}=s;E(a=et,rs,Dw).call(a,r,d*l(this,Mo),c);const{width:h}=r.measureText(t.textContent);h>0&&(o=`scaleX(${u*l(this,Mo)/h}) ${o}`)}s.angle!==0&&(o=`rotate(${s.angle}deg) ${o}`),o.length>0&&(i.transform=o)},rs=new WeakSet,qg=function(e=null){let t=l(this,ml).get(e||(e=""));if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,ml).set(e,t),l(this,Hf).set(t,{size:0,family:""})}return t},Dw=function(e,t,s){const r=l(this,Hf).get(e);t===r.size&&s===r.family||(e.font=`${t}px ${s}`,r.size=t,r.family=s)},QP=function(){if(l(this,No)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),v(this,No,e.getBoundingClientRect().height),e.remove()},JP=function(e,t,s){const r=l(this,Ru).get(e);if(r)return r;const i=E(this,rs,qg).call(this,s);i.canvas.width=i.canvas.height=xS,E(this,rs,Dw).call(this,i,xS,e);const o=i.measureText(""),a=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let u=.8;return a?u=a/(a+c):(Lt.platform.isFirefox&&oe("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),l(this,Ru).set(e,u),u},A(et,rs),A(et,Ru,new Map),A(et,ml,new Map),A(et,Hf,new WeakMap),A(et,No,null),A(et,Lu,new Set),et);class qh{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function r(i){var c;if(!i)return;let o=null;const a=i.name;if(a==="#text")o=i.value;else if(qh.shouldBuildText(a))(c=i==null?void 0:i.attributes)!=null&&c.textContent?o=i.attributes.textContent:i.value&&(o=i.value);else return;if(o!==null&&t.push({str:o}),!!i.children)for(const u of i.children)r(u)}return r(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Nj=100;function Gx(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Ow,{docId:t}=e,s=n.url?UF(n.url):null,r=n.data?VF(n.data):null,i=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,c=n.range instanceof Xx?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof wd?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!$p(n.docBaseUrl)?n.docBaseUrl:null,p=yg(n.cMapUrl),y=n.cMapPacked!==!1,g=n.CMapReaderFactory||(hn?QF:cS),b=yg(n.iccUrl),m=yg(n.standardFontDataUrl),w=n.StandardFontDataFactory||(hn?JF:uS),x=yg(n.wasmUrl),S=n.WasmFactory||(hn?ZF:dS),C=n.stopAtErrors!==!0,T=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,P=n.isEvalSupported!==!1,R=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!hn,L=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!hn&&(Lt.platform.isFirefox||!globalThis.chrome),M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,D=typeof n.disableFontFace=="boolean"?n.disableFontFace:hn,B=n.fontExtraProperties===!0,V=n.enableXfa===!0,I=n.ownerDocument||globalThis.document,K=n.disableRange===!0,O=n.disableStream===!0,j=n.disableAutoFetch===!0,N=n.pdfBug===!0,F=n.CanvasFactory||(hn?KF:XF),U=n.FilterFactory||(hn?YF:qF),ne=n.enableHWA===!0,W=n.useWasm!==!1,Q=c?c.length:n.length??NaN,se=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!hn&&!D,me=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(g===cS&&w===uS&&S===dS&&p&&m&&x&&Xd(p,document.baseURI)&&Xd(m,document.baseURI)&&Xd(x,document.baseURI)),be=null;CF(h);const Z={canvasFactory:new F({ownerDocument:I,enableHWA:ne}),filterFactory:new U({docId:t,ownerDocument:I}),cMapReaderFactory:me?null:new g({baseUrl:p,isCompressed:y}),standardFontDataFactory:me?null:new w({baseUrl:m}),wasmFactory:me?null:new S({baseUrl:x})};d||(d=wd.create({verbosity:h,port:ws.workerPort}),e._worker=d);const Nt={docId:t,apiVersion:"5.3.93",data:r,password:a,disableAutoFetch:j,rangeChunkSize:u,length:Q,docBaseUrl:f,enableXfa:V,evaluatorOptions:{maxImageSize:T,disableFontFace:D,ignoreErrors:C,isEvalSupported:P,isOffscreenCanvasSupported:R,isImageDecoderSupported:L,canvasMaxAreaInBytes:M,fontExtraProperties:B,useSystemFonts:se,useWasm:W,useWorkerFetch:me,cMapUrl:p,iccUrl:b,standardFontDataUrl:m,wasmUrl:x}},lt={ownerDocument:I,pdfBug:N,styleElement:be,loadingParams:{disableAutoFetch:j,enableXfa:V}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const xe=d.messageHandler.sendWithPromise("GetDocRequest",Nt,r?[r.buffer]:null);let bt;if(c)bt=new gj(c,{disableRange:K,disableStream:O});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");const Vt=Xd(s)?wj:hn?kj:Sj;bt=new Vt({url:s,length:Q,httpHeaders:i,withCredentials:o,rangeChunkSize:u,disableRange:K,disableStream:O})}return xe.then(Vt=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ue=new Jd(t,Vt,d.port),Se=new Oj(ue,e,bt,lt,Z);e._transport=Se,ue.send("Ready",null)})}).catch(e._capability.reject),e}var dy;const hy=class hy{constructor(){$(this,"_capability",Promise.withResolvers());$(this,"_transport",null);$(this,"_worker",null);$(this,"docId",`d${xt(hy,dy)._++}`);$(this,"destroyed",!1);$(this,"onPassword",null);$(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,s,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,i}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};dy=new WeakMap,A(hy,dy,0);let Ow=hy;var yl,Uf,Vf,Wf,Gf,HS;let Xx=(HS=class{constructor(e,t,s=!1,r=null){A(this,yl,Promise.withResolvers());A(this,Uf,[]);A(this,Vf,[]);A(this,Wf,[]);A(this,Gf,[]);this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=r}addRangeListener(e){l(this,Gf).push(e)}addProgressListener(e){l(this,Wf).push(e)}addProgressiveReadListener(e){l(this,Vf).push(e)}addProgressiveDoneListener(e){l(this,Uf).push(e)}onDataRange(e,t){for(const s of l(this,Gf))s(e,t)}onDataProgress(e,t){l(this,yl).promise.then(()=>{for(const s of l(this,Wf))s(e,t)})}onDataProgressiveRead(e){l(this,yl).promise.then(()=>{for(const t of l(this,Vf))t(e)})}onDataProgressiveDone(){l(this,yl).promise.then(()=>{for(const e of l(this,Uf))e()})}transportReady(){l(this,yl).resolve()}requestDataRange(e,t){Re("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},yl=new WeakMap,Uf=new WeakMap,Vf=new WeakMap,Wf=new WeakMap,Gf=new WeakMap,HS);class Ij{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return fe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var mi,vl,sh;class Dj{constructor(e,t,s,r=!1){A(this,vl);A(this,mi,!1);this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=r?new oS:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new qP,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:i=!1}={}){return new zp({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return fe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:s="display",annotationMode:r=Fr.ENABLE,transform:i=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1}){var S,C;(S=this._stats)==null||S.time("Overall");const f=this._transport.getRenderingIntent(s,r,d,h),{renderingIntent:p,cacheKey:y}=f;v(this,mi,!1),a||(a=this._transport.getOptionalContentConfig(p));let g=this._intentStates.get(y);g||(g=Object.create(null),this._intentStates.set(y,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const b=!!(p&Kn.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(f));const m=T=>{var P;g.renderTasks.delete(w),b&&v(this,mi,!0),E(this,vl,sh).call(this),T?(w.capability.reject(T),this._abortOperatorList({intentState:g,reason:T instanceof Error?T:new Error(T)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(P=globalThis.Stats)!=null&&P.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new Fw({callback:m,params:{canvasContext:e,viewport:t,transform:i,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:u});(g.renderTasks||(g.renderTasks=new Set)).add(w);const x=w.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([T,P])=>{var R;if(this.destroyed){m();return}if((R=this._stats)==null||R.time("Rendering"),!(P.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:T,optionalContentConfig:P}),w.operatorListChanged()}).catch(m),x}getOperatorList({intent:e="display",annotationMode:t=Fr.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var u;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,s,r,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let c;return a.opListReadCapability||(c=Object.create(null),c.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(c),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>qh.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,r){function i(){o.read().then(function({value:c,done:u}){if(u){s(a);return}a.lang??(a.lang=c.lang),Object.assign(a.styles,c.styles),a.items.push(...c.items),i()},r)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),v(this,mi,!1),Promise.all(e)}cleanup(e=!1){v(this,mi,!0);const t=E(this,vl,sh).call(this);return e&&t&&this._stats&&(this._stats=new oS),t}_startRenderPage(e,t){var r,i;const s=this._intentStates.get(t);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(i=s.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let s=0,r=e.length;s<r;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&E(this,vl,sh).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:r}){const{map:i,transfer:o}=s,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:r},o).getReader(),u=this._intentStates.get(t);u.streamReader=c;const d=()=>{c.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();E(this,vl,sh).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof Qy){let r=Nj;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Vi(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,i]of this._intentStates)if(i===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}mi=new WeakMap,vl=new WeakSet,sh=function(){if(!l(this,mi)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),v(this,mi,!1),!0};var Io,$s,yi,wl,fy,bl,xl,mn,Yg,ZP,ek,rh,Mu,Kg;const ze=class ze{constructor({name:e=null,port:t=null,verbosity:s=_F()}={}){A(this,mn);A(this,Io,Promise.withResolvers());A(this,$s,null);A(this,yi,null);A(this,wl,null);if(this.name=e,this.destroyed=!1,this.verbosity=s,t){if(l(ze,xl).has(t))throw new Error("Cannot use more than one PDFWorker per port.");l(ze,xl).set(t,this),E(this,mn,ZP).call(this,t)}else E(this,mn,ek).call(this)}get promise(){return l(this,Io).promise}get port(){return l(this,yi)}get messageHandler(){return l(this,$s)}destroy(){var e,t;this.destroyed=!0,(e=l(this,wl))==null||e.terminate(),v(this,wl,null),l(ze,xl).delete(l(this,yi)),v(this,yi,null),(t=l(this,$s))==null||t.destroy(),v(this,$s,null)}static create(e){const t=l(this,xl).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ze(e)}static get workerSrc(){if(ws.workerSrc)return ws.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return fe(this,"_setupFakeWorkerGlobal",(async()=>l(this,Mu,Kg)?l(this,Mu,Kg):(await import(this.workerSrc)).WorkerMessageHandler)())}};Io=new WeakMap,$s=new WeakMap,yi=new WeakMap,wl=new WeakMap,fy=new WeakMap,bl=new WeakMap,xl=new WeakMap,mn=new WeakSet,Yg=function(){l(this,Io).resolve(),l(this,$s).send("configure",{verbosity:this.verbosity})},ZP=function(e){v(this,yi,e),v(this,$s,new Jd("main","worker",e)),l(this,$s).on("ready",()=>{}),E(this,mn,Yg).call(this)},ek=function(){if(l(ze,bl)||l(ze,Mu,Kg)){E(this,mn,rh).call(this);return}let{workerSrc:e}=ze;try{ze._isSameOrigin(window.location,e)||(e=ze._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new Jd("main","worker",t),r=()=>{i.abort(),s.destroy(),t.terminate(),this.destroyed?l(this,Io).reject(new Error("Worker was destroyed")):E(this,mn,rh).call(this)},i=new AbortController;t.addEventListener("error",()=>{l(this,wl)||r()},{signal:i.signal}),s.on("test",a=>{if(i.abort(),this.destroyed||!a){r();return}v(this,$s,s),v(this,yi,t),v(this,wl,t),E(this,mn,Yg).call(this)}),s.on("ready",a=>{if(i.abort(),this.destroyed){r();return}try{o()}catch{E(this,mn,rh).call(this)}});const o=()=>{const a=new Uint8Array;s.send("test",a,[a.buffer])};o();return}catch{Ky("The worker has been disabled.")}E(this,mn,rh).call(this)},rh=function(){l(ze,bl)||(oe("Setting up fake worker."),v(ze,bl,!0)),ze._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){l(this,Io).reject(new Error("Worker was destroyed"));return}const t=new GF;v(this,yi,t);const s=`fake${xt(ze,fy)._++}`,r=new Jd(s+"_worker",s,t);e.setup(r,t),v(this,$s,new Jd(s,s+"_worker",t)),E(this,mn,Yg).call(this)}).catch(e=>{l(this,Io).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Mu=new WeakSet,Kg=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},A(ze,Mu),A(ze,fy,0),A(ze,bl,!1),A(ze,xl,new WeakMap),hn&&(v(ze,bl,!0),ws.workerSrc||(ws.workerSrc="./pdf.worker.mjs")),ze._isSameOrigin=(e,t)=>{const s=URL.parse(e);if(!(s!=null&&s.origin)||s.origin==="null")return!1;const r=new URL(t,s);return s.origin===r.origin},ze._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},ze.fromPort=e=>{if(DF("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ze.create(e)};let wd=ze;var vi,Pr,Nu,Iu,wi,Al,ih;class Oj{constructor(e,t,s,r,i){A(this,Al);A(this,vi,new Map);A(this,Pr,new Map);A(this,Nu,new Map);A(this,Iu,new Map);A(this,wi,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new qP,this.fontLoader=new $F({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return fe(this,"annotationStorage",new Ux)}getRenderingIntent(e,t=Fr.ENABLE,s=null,r=!1,i=!1){let o=Kn.DISPLAY,a=Ew;switch(e){case"any":o=Kn.ANY;break;case"display":break;case"print":o=Kn.PRINT;break;default:oe(`getRenderingIntent - invalid intent: ${e}`)}const c=o&Kn.PRINT&&s instanceof LP?s:this.annotationStorage;switch(t){case Fr.DISABLE:o+=Kn.ANNOTATIONS_DISABLE;break;case Fr.ENABLE:break;case Fr.ENABLE_FORMS:o+=Kn.ANNOTATIONS_FORMS;break;case Fr.ENABLE_STORAGE:o+=Kn.ANNOTATIONS_STORAGE,a=c.serializable;break;default:oe(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=Kn.IS_EDITING),i&&(o+=Kn.OPLIST);const{ids:u,hash:d}=c.modifiedIds,h=[o,a.hash,d];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=l(this,wi))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of l(this,Pr).values())e.push(r._destroy());l(this,Pr).clear(),l(this,Nu).clear(),l(this,Iu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,i;this.commonObjs.clear(),this.fontLoader.clear(),l(this,vi).clear(),this.filterFactory.destroy(),Xh.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Vi("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,r)=>{dt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},r.onPull=()=>{this._fullReader.read().then(function({value:i,done:o}){if(o){r.close();return}dt(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{r.error(i)})},r.onCancel=i=>{this._fullReader.cancel(i),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async s=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:i,contentLength:o}=this._fullReader;return(!r||!i)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:i,contentLength:o}}),e.on("GetRangeReader",(s,r)=>{dt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(s.begin,s.end);if(!i){r.close();return}r.onPull=()=>{i.read().then(function({value:o,done:a}){if(a){r.close();return}dt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{i.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new Ij(s,this))}),e.on("DocException",s=>{t._capability.reject(An(s))}),e.on("PasswordRequest",s=>{v(this,wi,Promise.withResolvers());try{if(!t.onPassword)throw An(s);const r=i=>{i instanceof Error?l(this,wi).reject(i):l(this,wi).resolve({password:i})};t.onPassword(r,s.code)}catch(r){l(this,wi).reject(r)}return l(this,wi).promise}),e.on("DataLoaded",s=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;l(this,Pr).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,r,i])=>{var o;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":if("error"in i){const d=i.error;oe(`Error during font loading: ${d}`),this.commonObjs.resolve(s,d);break}const a=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(d,h)=>globalThis.FontInspector.fontAdded(d,h):null,c=new HF(i,a);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!c.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(s,c)});break;case"CopyLocalImage":const{imageRef:u}=i;dt(u,"The imageRef must be defined.");for(const d of l(this,Pr).values())for(const[,h]of d.objs)if((h==null?void 0:h.ref)===u)return h.dataLen?(this.commonObjs.resolve(s,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,i);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([s,r,i,o])=>{var c;if(this.destroyed)return;const a=l(this,Pr).get(r);if(!a.objs.has(s)){if(a._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(i){case"Image":case"Pattern":a.objs.resolve(s,o);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",s=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:s.loaded,total:s.total})}),e.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[s.type];if(!r)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&oe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=l(this,Nu).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&l(this,Iu).set(i.refStr,e);const o=new Dj(t,i,this,this._params.pdfBug);return l(this,Pr).set(t,o),o});return l(this,Nu).set(t,r),r}getPageIndex(e){return Sw(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return E(this,Al,ih).call(this,"GetFieldObjects")}hasJSActions(){return E(this,Al,ih).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return E(this,Al,ih).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return E(this,Al,ih).call(this,"GetOptionalContentConfig").then(t=>new pj(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=l(this,vi).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(r=>{var i,o;return{info:r[0],metadata:r[1]?new hj(r[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return l(this,vi).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of l(this,Pr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),l(this,vi).clear(),this.filterFactory.destroy(!0),Xh.cleanup()}}cachedPageNumber(e){if(!Sw(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return l(this,Iu).get(t)??null}}vi=new WeakMap,Pr=new WeakMap,Nu=new WeakMap,Iu=new WeakMap,wi=new WeakMap,Al=new WeakSet,ih=function(e,t=null){const s=l(this,vi).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise(e,t);return l(this,vi).set(e,r),r};var Do;class Fj{constructor(e){A(this,Do,null);$(this,"onContinue",null);$(this,"onError",null);v(this,Do,e)}get promise(){return l(this,Do).capability.promise}cancel(e=0){l(this,Do).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=l(this,Do).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=l(this,Do);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Do=new WeakMap;var Oo,El;const Ia=class Ia{constructor({callback:e,params:t,objs:s,commonObjs:r,annotationCanvasMap:i,operatorList:o,pageIndex:a,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){A(this,Oo,null);this.callback=e,this.params=t,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Fj(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,c;if(this.cancelled)return;if(this._canvas){if(l(Ia,El).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(Ia,El).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:i,background:o}=this.params;this.gfx=new Xc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var s,r,i;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),l(this,Oo)&&(window.cancelAnimationFrame(l(this,Oo)),v(this,Oo,null)),l(Ia,El).delete(this._canvas),e||(e=new Qy(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(i=(r=this.task).onError)==null||i.call(r,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?v(this,Oo,window.requestAnimationFrame(()=>{v(this,Oo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(Ia,El).delete(this._canvas),this.callback())))}};Oo=new WeakMap,El=new WeakMap,A(Ia,El,new WeakSet);let Fw=Ia;const tk="5.3.93",nk="cbeef3233";function AS(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function $d(n){return Math.max(0,Math.min(255,255*n))}class ES{static CMYK_G([e,t,s,r]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=$d(e),[e,e,e]}static G_HTML([e]){const t=AS(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map($d)}static RGB_HTML(e){return`#${e.map(AS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,s+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,s,r]){return[$d(1-Math.min(1,e+r)),$d(1-Math.min(1,s+r)),$d(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const r=1-e,i=1-t,o=1-s,a=Math.min(r,i,o);return["CMYK",r,i,o,a]}}class jj{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Re("Abstract method `_createSVG` called.")}}class Yh extends jj{_createSVG(e){return document.createElementNS(Yr,e)}}class qx{static setupStorage(e,t,s,r,i){const o=r.getValue(t,{value:null});switch(s.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),i==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(o.value===s.attributes.xfaOn?e.setAttribute("checked",!0):o.value===s.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),i==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of s.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const c=a.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:r,linkService:i}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[c,u]of Object.entries(o))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}a&&i.addLinkAttributes(e,o.href,o.newWindow),s&&o.dataId&&this.setupStorage(e,o.dataId,t,s)}static render(e){var h,f;const t=e.annotationStorage,s=e.linkService,r=e.xfaHtml,i=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:i,linkService:s});const a=i!=="richText",c=e.div;if(c.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}a&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),a&&qh.shouldBuildText(r.name)&&u.push(p)}return{textDivs:u}}const d=[[r,-1,o]];for(;d.length>0;){const[p,y,g]=d.at(-1);if(y+1===p.children.length){d.pop();continue}const b=p.children[++d.at(-1)[1]];if(b===null)continue;const{name:m}=b;if(m==="#text"){const x=document.createTextNode(b.value);u.push(x),g.append(x);continue}const w=(h=b==null?void 0:b.attributes)!=null&&h.xmlns?document.createElementNS(b.attributes.xmlns,m):document.createElement(m);if(g.append(w),b.attributes&&this.setAttributes({html:w,element:b,storage:t,intent:i,linkService:s}),((f=b.children)==null?void 0:f.length)>0)d.push([b,-1,w]);else if(b.value){const x=document.createTextNode(b.value);a&&qh.shouldBuildText(m)&&u.push(x),w.append(x)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Bj=9,ac=new WeakSet;class SS{static create(e){switch(e.data.annotationType){case nt.LINK:return new sk(e);case nt.TEXT:return new zj(e);case nt.WIDGET:switch(e.data.fieldType){case"Tx":return new $j(e);case"Btn":return e.data.radioButton?new ok(e):e.data.checkBox?new Uj(e):new Vj(e);case"Ch":return new Wj(e);case"Sig":return new Hj(e)}return new hc(e);case nt.POPUP:return new Bw(e);case nt.FREETEXT:return new dk(e);case nt.LINE:return new Xj(e);case nt.SQUARE:return new qj(e);case nt.CIRCLE:return new Yj(e);case nt.POLYLINE:return new hk(e);case nt.CARET:return new Qj(e);case nt.INK:return new Yx(e);case nt.POLYGON:return new Kj(e);case nt.HIGHLIGHT:return new fk(e);case nt.UNDERLINE:return new Jj(e);case nt.SQUIGGLY:return new Zj(e);case nt.STRIKEOUT:return new e3(e);case nt.STAMP:return new pk(e);case nt.FILEATTACHMENT:return new t3(e);default:return new at(e)}}}var Sl,Du,Ou,Xf,jw;const nA=class nA{constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){A(this,Xf);A(this,Sl,null);A(this,Du,!1);A(this,Ou,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return nA._hasPopupData(this.data)}updateEdited(e){var s;if(!this.container)return;l(this,Sl)||v(this,Sl,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&E(this,Xf,jw).call(this,t),(s=l(this,Ou))==null||s.popup.updateEdited(e)}resetEdited(){var e;l(this,Sl)&&(E(this,Xf,jw).call(this,l(this,Sl).rect),(e=l(this,Ou))==null||e.popup.resetEdited(),v(this,Sl,null))}_createContainer(e){const{data:t,parent:{page:s,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof hc||(i.tabIndex=0);const{style:o}=i;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof Bw){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,i),i}const{width:a,height:c}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(g>0||b>0){const w=`calc(${g}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;o.borderRadius=w}else if(this instanceof ok){const w=`calc(${a}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;o.borderRadius=w}switch(t.borderStyle.style){case mc.SOLID:o.borderStyle="solid";break;case mc.DASHED:o.borderStyle="dashed";break;case mc.BEVELED:oe("Unimplemented border style: beveled");break;case mc.INSET:oe("Unimplemented border style: inset");break;case mc.UNDERLINE:o.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(v(this,Du,!0),o.borderColor=te.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):o.borderWidth=0}const u=te.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=r.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(o.width=`${100*a/d}%`,o.height=`${100*c/h}%`):this.setRotation(y,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims;let{width:i,height:o}=this;e%180!==0&&([i,o]=[o,i]),t.style.width=`${100*i/s}%`,t.style.height=`${100*o/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,r)=>{const i=r.detail[t],o=i[0],a=i.slice(1);r.target.style[s]=ES[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[s]:ES[`${o}_rgb`](a)})};return fe(this,"_commonActions",{display:t=>{const{display:s}=t.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||s[r];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[r,i]of Object.entries(t)){const o=s[r];if(o){const a={detail:{[r]:i},target:e};o(a),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,r,i]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,b,m,w]=e.subarray(2,6);if(r===g&&i===b&&t===m&&s===w)return}const{style:o}=this.container;let a;if(l(this,Du)){const{borderColor:g,borderWidth:b}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const c=r-t,u=i-s,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),y=`clippath_${this.data.id}`;p.setAttribute("id",y),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let g=2,b=e.length;g<b;g+=8){const m=e[g],w=e[g+1],x=e[g+2],S=e[g+3],C=d.createElement("rect"),T=(x-t)/c,P=(i-w)/u,R=(m-x)/c,L=(w-S)/u;C.setAttribute("x",T),C.setAttribute("y",P),C.setAttribute("width",R),C.setAttribute("height",L),p.append(C),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${P}" width="${R}" height="${L}"/>`)}l(this,Du)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{data:e}=this,t=v(this,Ou,new Bw({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Re("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:i,id:o,exportValues:a}of r){if(i===-1||o===t)continue;const c=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!ac.has(u)){oe(`_getElementsByName - element not allowed: ${o}`);continue}s.push({id:o,exportValue:c,domElement:u})}return s}for(const r of document.getElementsByName(e)){const{exportValue:i}=r,o=r.getAttribute("data-element-id");o!==t&&ac.has(r)&&s.push({id:o,exportValue:i,domElement:r})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Sl=new WeakMap,Du=new WeakMap,Ou=new WeakMap,Xf=new WeakSet,jw=function(e){const{container:{style:t},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:o,pageX:a,pageY:c}}}}=this;s==null||s.splice(0,4,...e),t.left=`${100*(e[0]-a)/i}%`,t.top=`${100*(o-e[3]+c)/o}%`,r===0?(t.width=`${100*(e[2]-e[0])/i}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(r)};let at=nA;var es,Ra,rk,ik;class sk extends at{constructor(t,s=null){super(t,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});A(this,es);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let i=!1;return t.url?(s.addLinkAttributes(r,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(r,t.action),i=!0):t.attachment?(E(this,es,rk).call(this,r,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(E(this,es,ik).call(this,r,t.setOCGState),i=!0):t.dest?(this._bindLink(r,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),i=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}_bindLink(t,s){t.href=this.linkService.getDestinationHash(s),t.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&E(this,es,Ra).call(this)}_bindNamedAction(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(s),!1),E(this,es,Ra).call(this)}_bindJSAction(t,s){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(s.actions)){const o=r.get(i);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),E(this,es,Ra).call(this)}_bindResetFormAction(t,s){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),E(this,es,Ra).call(this),!this._fieldObjects){oe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:i,refs:o,include:a}=s,c=[];if(i.length!==0||o.length!==0){const f=new Set(o);for(const p of i){const y=this._fieldObjects[p]||[];for(const{id:g}of y)f.add(g)}for(const p of Object.values(this._fieldObjects))for(const y of p)f.has(y.id)===a&&c.push(y)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const g=f.defaultValue||"";u.setValue(p,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;u.setValue(p,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";u.setValue(p,{value:g});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!ac.has(y)){oe(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}es=new WeakSet,Ra=function(){this.container.setAttribute("data-internal-link","")},rk=function(t,s,r=null){t.href=this.linkService.getAnchorUrl(""),s.description&&(t.title=s.description),t.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(s.content,s.filename,r),!1},E(this,es,Ra).call(this)},ik=function(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(s),!1),E(this,es,Ra).call(this)};class zj extends at{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class hc extends at{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Lt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,r,i){s.includes("mouse")?e.addEventListener(s,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(s,o=>{var a;if(s==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}i&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(o)}}))})}_setEventListeners(e,t,s,r){var i,o,a;for(const[c,u]of s)(u==="Action"||(i=this.data.actions)!=null&&i[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,u,r),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":te.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Bj,i=e.style;let o;const a=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(u/(Uv*r))||1,h=u/d;o=Math.min(r,c(h/Uv))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,c(u/Uv))}i.fontSize=`calc(${o}px * var(--total-scale-factor))`,i.color=te.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class $j extends hc{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,r){const i=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=s),i.setValue(o.id,{[r]:s})}render(){var r,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&a.length>c&&(a=a.slice(0,c));let u=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=u??a,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",u??a),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),ac.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=0;const h=this.data.dateFormat||this.data.timeFormat;h&&(s.title=h),this._setRequired(s,this.data.required),c&&(s.maxLength=c),s.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(s,"value",p.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",p=>{const y=this.data.defaultFieldValue??"";s.value=d.userValue=y,d.formattedValue=null});let f=p=>{const{formattedValue:y}=d;y!=null&&(p.target.value=y),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",y=>{var b;if(d.focused)return;const{target:g}=y;d.userValue&&(g.value=d.userValue),d.lastCommittedValue=g.value,d.commitKey=1,(b=this.data.actions)!=null&&b.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const g={value(b){d.userValue=b.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),b.target.value=d.userValue},formattedValue(b){const{formattedValue:m}=b.detail;d.formattedValue=m,m!=null&&b.target!==document.activeElement&&(b.target.value=m),e.setValue(t,{formattedValue:m})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{var S;const{charLimit:m}=b.detail,{target:w}=b;if(m===0){w.removeAttribute("maxLength");return}w.setAttribute("maxLength",m);let x=d.userValue;!x||x.length<=m||(x=x.slice(0,m),w.value=d.userValue=x,e.setValue(t,{value:x}),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:w.selectionStart,selEnd:w.selectionEnd}}))}};this._dispatchEventFromSandbox(g,y)}),s.addEventListener("keydown",y=>{var m;d.commitKey=1;let g=-1;if(y.key==="Escape"?g=0:y.key==="Enter"&&!this.data.multiLine?g=2:y.key==="Tab"&&(d.commitKey=3),g===-1)return;const{value:b}=y.target;d.lastCommittedValue!==b&&(d.lastCommittedValue=b,d.userValue=b,(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:g,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const p=f;f=null,s.addEventListener("blur",y=>{var b,m;if(!d.focused||!y.relatedTarget)return;(b=this.data.actions)!=null&&b.Blur||(d.focused=!1);const{value:g}=y.target;d.userValue=g,d.lastCommittedValue!==g&&((m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:d.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),p(y)}),(i=this.data.actions)!=null&&i.Keystroke&&s.addEventListener("beforeinput",y=>{var T;d.lastCommittedValue=null;const{data:g,target:b}=y,{value:m,selectionStart:w,selectionEnd:x}=b;let S=w,C=x;switch(y.inputType){case"deleteWordBackward":{const P=m.substring(0,w).match(/\w*[^\w]*$/);P&&(S-=P[0].length);break}case"deleteWordForward":{const P=m.substring(w).match(/^[^\w]*\w*/);P&&(C+=P[0].length);break}case"deleteContentBackward":w===x&&(S-=1);break;case"deleteContentForward":w===x&&(C+=1);break}y.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,change:g||"",willCommit:!1,selStart:S,selEnd:C}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(f&&s.addEventListener("blur",f),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/c;s.classList.add("comb"),s.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Hj extends hc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Uj extends hc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return ac.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=0,i.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const u of this._getElementsByName(a,s)){const d=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(s,{value:c})}),i.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",o=>{const a={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(s,{value:c.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class ok extends hc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(s,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,s))e.setValue(o.id,{value:!1});const i=document.createElement("input");if(ac.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const u of this._getElementsByName(a,s))e.setValue(u.id,{value:!1});e.setValue(s,{value:c})}),i.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;i.addEventListener("updatefromsandbox",a=>{const c={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===s;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Vj extends sk{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class Wj extends hc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");ac.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,s.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),i=!1),r.append(h)}let o=null;if(i){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),o=()=>{d.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,y=>y.selected).map(y=>y[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=a(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,y=new Set(Array.isArray(p)?p:[p]);for(const g of r.options)g.selected=y.has(g.value);e.setValue(t,{value:a(!0)}),c=a(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,y=f.detail.remove;p[y].selected=!1,r.remove(y),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),c=a(!1)},insert(f){const{index:p,displayValue:y,exportValue:g}=f.detail.insert,b=r.children[p],m=document.createElement("option");m.textContent=y,m.value=g,b?b.before(m):r.append(m),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const y of p){const{displayValue:g,exportValue:b}=y,m=document.createElement("option");m.textContent=g,m.value=b,r.append(m)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const y of f.target.options)y.selected=p.has(y.index);e.setValue(t,{value:a(!0)}),c=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var p;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Bw extends at{constructor(e){const{data:t,elements:s}=e;super(e,{isRenderable:at._hasPopupData(t)}),this.elements=s,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new Gj({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),s=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",s.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(r=>`${$x}${r}`).join(",")),this.container}}var Fu,py,gy,ju,Bu,Ze,bi,Cl,qf,Yf,zu,xi,Hs,Ai,Kf,Ei,Qf,_l,Tl,Le,Qg,zw,ak,lk,ck,uk,Jg,Zg,$w;class Gj{constructor({container:e,color:t,elements:s,titleObj:r,modificationDate:i,contentsObj:o,richText:a,parent:c,rect:u,parentRect:d,open:h}){A(this,Le);A(this,Fu,E(this,Le,ck).bind(this));A(this,py,E(this,Le,$w).bind(this));A(this,gy,E(this,Le,Zg).bind(this));A(this,ju,E(this,Le,Jg).bind(this));A(this,Bu,null);A(this,Ze,null);A(this,bi,null);A(this,Cl,null);A(this,qf,null);A(this,Yf,null);A(this,zu,null);A(this,xi,!1);A(this,Hs,null);A(this,Ai,null);A(this,Kf,null);A(this,Ei,null);A(this,Qf,null);A(this,_l,null);A(this,Tl,!1);var f;v(this,Ze,e),v(this,Qf,r),v(this,bi,o),v(this,Ei,a),v(this,Yf,c),v(this,Bu,t),v(this,Kf,u),v(this,zu,d),v(this,qf,s),v(this,Cl,Zy.toDateObject(i)),this.trigger=s.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",l(this,ju)),p.addEventListener("mouseenter",l(this,gy)),p.addEventListener("mouseleave",l(this,py)),p.classList.add("popupTriggerArea");for(const p of s)(f=p.container)==null||f.addEventListener("keydown",l(this,Fu));l(this,Ze).hidden=!0,h&&E(this,Le,Jg).call(this)}render(){if(l(this,Hs))return;const e=v(this,Hs,document.createElement("div"));if(e.className="popup",l(this,Bu)){const i=e.style.outlineColor=te.makeHexColor(...l(this,Bu));e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");t.className="header";const s=document.createElement("h1");if(t.append(s),{dir:s.dir,str:s.textContent}=l(this,Qf),e.append(t),l(this,Cl)){const i=document.createElement("time");i.classList.add("popupDate"),i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,Cl).valueOf()})),i.dateTime=l(this,Cl).toISOString(),t.append(i)}const r=l(this,Le,Qg);if(r)qx.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(l(this,bi));e.append(i)}l(this,Ze).append(e)}_formatContents({str:e,dir:t}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let i=0,o=r.length;i<o;++i){const a=r[i];s.append(document.createTextNode(a)),i<o-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:e,popupContent:t}){var s;l(this,_l)||v(this,_l,{contentsObj:l(this,bi),richText:l(this,Ei)}),e&&v(this,Ai,null),t&&(v(this,Ei,E(this,Le,lk).call(this,t)),v(this,bi,null)),(s=l(this,Hs))==null||s.remove(),v(this,Hs,null)}resetEdited(){var e;l(this,_l)&&({contentsObj:xt(this,bi)._,richText:xt(this,Ei)._}=l(this,_l),v(this,_l,null),(e=l(this,Hs))==null||e.remove(),v(this,Hs,null),v(this,Ai,null))}forceHide(){v(this,Tl,this.isVisible),l(this,Tl)&&(l(this,Ze).hidden=!0)}maybeShow(){l(this,Tl)&&(l(this,Hs)||E(this,Le,Zg).call(this),v(this,Tl,!1),l(this,Ze).hidden=!1)}get isVisible(){return l(this,Ze).hidden===!1}}Fu=new WeakMap,py=new WeakMap,gy=new WeakMap,ju=new WeakMap,Bu=new WeakMap,Ze=new WeakMap,bi=new WeakMap,Cl=new WeakMap,qf=new WeakMap,Yf=new WeakMap,zu=new WeakMap,xi=new WeakMap,Hs=new WeakMap,Ai=new WeakMap,Kf=new WeakMap,Ei=new WeakMap,Qf=new WeakMap,_l=new WeakMap,Tl=new WeakMap,Le=new WeakSet,Qg=function(){const e=l(this,Ei),t=l(this,bi);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&l(this,Ei).html||null},zw=function(){var e,t,s;return((s=(t=(e=l(this,Le,Qg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.fontSize)||0},ak=function(){var e,t,s;return((s=(t=(e=l(this,Le,Qg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.color)||null},lk=function(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:l(this,Le,ak),fontSize:l(this,Le,zw)?`calc(${l(this,Le,zw)}px * var(--total-scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:r});return s},ck=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&l(this,xi))&&E(this,Le,Jg).call(this)},uk=function(){if(l(this,Ai)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:r,pageY:i}}}=l(this,Yf);let o=!!l(this,zu),a=o?l(this,zu):l(this,Kf);for(const y of l(this,qf))if(!a||te.intersect(y.data.rect,a)!==null){a=y.data.rect,o=!0;break}const c=te.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,h=c[0]+d,f=c[1];v(this,Ai,[100*(h-r)/t,100*(f-i)/s]);const{style:p}=l(this,Ze);p.left=`${l(this,Ai)[0]}%`,p.top=`${l(this,Ai)[1]}%`},Jg=function(){v(this,xi,!l(this,xi)),l(this,xi)?(E(this,Le,Zg).call(this),l(this,Ze).addEventListener("click",l(this,ju)),l(this,Ze).addEventListener("keydown",l(this,Fu))):(E(this,Le,$w).call(this),l(this,Ze).removeEventListener("click",l(this,ju)),l(this,Ze).removeEventListener("keydown",l(this,Fu)))},Zg=function(){l(this,Hs)||this.render(),this.isVisible?l(this,xi)&&l(this,Ze).classList.add("focused"):(E(this,Le,uk).call(this),l(this,Ze).hidden=!1,l(this,Ze).style.zIndex=parseInt(l(this,Ze).style.zIndex)+1e3)},$w=function(){l(this,Ze).classList.remove("focused"),!(l(this,xi)||!this.isVisible)&&(l(this,Ze).hidden=!0,l(this,Ze).style.zIndex=parseInt(l(this,Ze).style.zIndex)-1e3)};class dk extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ie.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Jf;class Xj extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Jf,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:s,height:r}=this,i=this.svgFactory.create(s,r,!0),o=v(this,Jf,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Jf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jf=new WeakMap;var Zf;class qj extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Zf,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:s,height:r}=this,i=this.svgFactory.create(s,r,!0),o=t.borderStyle.width,a=v(this,Zf,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",s-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Zf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zf=new WeakMap;var ep;class Yj extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,ep,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:s,height:r}=this,i=this.svgFactory.create(s,r,!0),o=t.borderStyle.width,a=v(this,ep,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",s/2),a.setAttribute("cy",r/2),a.setAttribute("rx",s/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,ep)}addHighlightArea(){this.container.classList.add("highlightArea")}}ep=new WeakMap;var tp;class hk extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,tp,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:s,borderStyle:r,popupRef:i},width:o,height:a}=this;if(!s)return this.container;const c=this.svgFactory.create(o,a,!0);let u=[];for(let h=0,f=s.length;h<f;h+=2){const p=s[h]-t[0],y=t[3]-s[h+1];u.push(`${p},${y}`)}u=u.join(" ");const d=v(this,tp,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,tp)}addHighlightArea(){this.container.classList.add("highlightArea")}}tp=new WeakMap;class Kj extends hk{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Qj extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var np,Pl,sp,Hw;class Yx extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,sp);A(this,np,null);A(this,Pl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ie.HIGHLIGHT:ie.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:s,inkLists:r,borderStyle:i,popupRef:o}}=this,{transform:a,width:c,height:u}=E(this,sp,Hw).call(this,s,t),d=this.svgFactory.create(c,u,!0),h=v(this,np,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let f=0,p=r.length;f<p;f++){const y=this.svgFactory.createElement(this.svgElementName);l(this,Pl).push(y),y.setAttribute("points",r[f].join(",")),h.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:s,points:r,rect:i}=t,o=l(this,np);if(s>=0&&o.setAttribute("stroke-width",s||1),r)for(let a=0,c=l(this,Pl).length;a<c;a++)l(this,Pl)[a].setAttribute("points",r[a].join(","));if(i){const{transform:a,width:c,height:u}=E(this,sp,Hw).call(this,this.data.rotation,i);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return l(this,Pl)}addHighlightArea(){this.container.classList.add("highlightArea")}}np=new WeakMap,Pl=new WeakMap,sp=new WeakSet,Hw=function(t,s){switch(t){case 90:return{transform:`rotate(90) translate(${-s[0]},${s[1]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};case 180:return{transform:`rotate(180) translate(${-s[2]},${s[1]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]};case 270:return{transform:`rotate(270) translate(${-s[2]},${s[3]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};default:return{transform:`translate(${-s[0]},${s[3]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]}}};class fk extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ie.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const s=document.createElement("mark");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class Jj extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class Zj extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class e3 extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const s=document.createElement("s");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class pk extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ie.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var rp,ip,Uw;class t3 extends at{constructor(t){var r;super(t,{isRenderable:!0});A(this,ip);A(this,rp,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",E(this,ip,Uw).bind(this)),v(this,rp,r);const{isMac:i}=Lt.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(i?o.metaKey:o.ctrlKey)&&E(this,ip,Uw).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return l(this,rp)}addHighlightArea(){this.container.classList.add("highlightArea")}}rp=new WeakMap,ip=new WeakSet,Uw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var op,kl,Fo,ap,wa,Vw,Ww,$u;let Kx=($u=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:r,page:i,viewport:o,structTreeLayer:a}){A(this,wa);A(this,op,null);A(this,kl,null);A(this,Fo,new Map);A(this,ap,null);this.div=e,v(this,op,t),v(this,kl,s),v(this,ap,a||null),this.page=i,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return l(this,Fo).size>0}async render(e){var o;const{annotations:t}=e,s=this.div;ga(s,this.viewport);const r=new Map,i={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Yh,annotationStorage:e.annotationStorage||new Ux,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const c=a.annotationType===nt.POPUP;if(c){const h=r.get(a.id);if(!h)continue;i.elements=h}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;i.data=a;const u=SS.create(i);if(!u.isRenderable)continue;if(!c&&a.popupRef){const h=r.get(a.popupRef);h?h.push(u):r.set(a.popupRef,[u])}const d=u.render();a.hidden&&(d.style.visibility="hidden"),await E(this,wa,Vw).call(this,d,a.id,i.elements),u._isEditable&&(l(this,Fo).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}E(this,wa,Ww).call(this)}async addLinkAnnotations(e,t){const s={data:null,layer:this.div,linkService:t,svgFactory:new Yh,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=$u._defaultBorderStyle),s.data=r;const i=SS.create(s);if(!i.isRenderable)continue;const o=i.render();await E(this,wa,Vw).call(this,o,r.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,ga(t,{rotation:e.rotation}),E(this,wa,Ww).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(l(this,Fo).values())}getEditableAnnotation(e){return l(this,Fo).get(e)}static get _defaultBorderStyle(){return fe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:mc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},op=new WeakMap,kl=new WeakMap,Fo=new WeakMap,ap=new WeakMap,wa=new WeakSet,Vw=async function(e,t,s){var a,c;const r=e.firstChild||e,i=r.id=`${$x}${t}`,o=await((a=l(this,ap))==null?void 0:a.getAriaAttributes(i));if(o)for(const[u,d]of o)r.setAttribute(u,d);s?s.at(-1).container.after(e):(this.div.append(e),(c=l(this,op))==null||c.moveElementInDOM(this.div,e,r,!1))},Ww=function(){var t;if(!l(this,kl))return;const e=this.div;for(const[s,r]of l(this,kl)){const i=e.querySelector(`[data-annotation-id="${s}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):i.append(r);const a=l(this,Fo).get(s);a&&(a._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(s,i.id,r),a._hasNoCanvas=!1):a.canvas=r)}l(this,kl).clear()},$u);const xg=/\r\n?|\n/g;var Us,zn,lp,Rl,$n,ht,gk,mk,yk,em,Fi,tm,nm,vk,Xw,wk;const Ne=class Ne extends De{constructor(t){super({...t,name:"freeTextEditor"});A(this,ht);A(this,Us);A(this,zn,"");A(this,lp,`${this.id}-editor`);A(this,Rl,null);A(this,$n);v(this,Us,t.color||Ne._defaultColor||De._defaultLineColor),v(this,$n,t.fontSize||Ne._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Ne.prototype,s=o=>o.isEmpty(),r=ma.TRANSLATE_SMALL,i=ma.TRANSLATE_BIG;return fe(this,"_keyboardManager",new Hp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:s}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:s}]]))}static initialize(t,s){De.initialize(t,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,s){switch(t){case ge.FREETEXT_SIZE:Ne._defaultFontSize=s;break;case ge.FREETEXT_COLOR:Ne._defaultColor=s;break}}updateParams(t,s){switch(t){case ge.FREETEXT_SIZE:E(this,ht,gk).call(this,s);break;case ge.FREETEXT_COLOR:E(this,ht,mk).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[ge.FREETEXT_SIZE,Ne._defaultFontSize],[ge.FREETEXT_COLOR,Ne._defaultColor||De._defaultLineColor]]}get propertiesToUpdate(){return[[ge.FREETEXT_SIZE,l(this,$n)],[ge.FREETEXT_COLOR,l(this,Us)]]}_translateEmpty(t,s){this._uiManager.translateSelectedEditors(t,s,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ne._internalPadding*t,-(Ne._internalPadding+l(this,$n))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),v(this,Rl,new AbortController);const t=this._uiManager.combinedSignal(l(this,Rl));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,lp)),this._isDraggable=!0,(t=l(this,Rl))==null||t.abort(),v(this,Rl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var s;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(s=this._initialOptions)!=null&&s.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=l(this,zn),s=v(this,zn,E(this,ht,yk).call(this).trimEnd());if(t===s)return;const r=i=>{if(v(this,zn,i),!i){this.remove();return}E(this,ht,nm).call(this),this._uiManager.rebuild(this),E(this,ht,em).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(t)},mustExec:!1}),E(this,ht,em).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ne._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,s;(this._isCopy||this.annotationElementId)&&(t=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,lp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${l(this,$n)}px * var(--total-scale-factor))`,r.color=l(this,Us),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let y,g;switch(this.rotation){case 0:y=t+(a[0]-f)/d,g=s+this.height-(a[1]-p)/h;break;case 90:y=t+(a[0]-f)/d,g=s-(a[1]-p)/h,[c,u]=[u,-c];break;case 180:y=t-this.width+(a[0]-f)/d,g=s-(a[1]-p)/h,[c,u]=[-c,-u];break;case 270:y=t+(a[0]-f-this.height*h)/d,g=s+(a[1]-p-this.width*d)/h,[c,u]=[-u,c];break}this.setAt(y*i,g*o,c,u)}else this._moveAfterPaste(t,s);E(this,ht,nm).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,g,b;const s=t.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const i=E(y=Ne,Fi,Xw).call(y,s.getData("text")||"").replaceAll(xg,`
`);if(!i)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:u}=a,d=[],h=[];if(c.nodeType===Node.TEXT_NODE){const m=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(xg,"")),m!==this.editorDiv){let w=d;for(const x of this.editorDiv.childNodes){if(x===m){w=h;continue}w.push(E(g=Ne,Fi,tm).call(g,x))}}d.push(c.nodeValue.slice(0,u).replaceAll(xg,""))}else if(c===this.editorDiv){let m=d,w=0;for(const x of this.editorDiv.childNodes)w++===u&&(m=h),m.push(E(b=Ne,Fi,tm).call(b,x))}v(this,zn,`${d.join(`
`)}${i}${h.join(`
`)}`),E(this,ht,nm).call(this);const f=new Range;let p=Math.sumPrecise(d.map(m=>m.length));for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const w=m.nodeValue.length;if(p<=w){f.setStart(m,p),f.setEnd(m,p);break}p-=w}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,s,r){var a;let i=null;if(t instanceof dk){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:h,id:f,popupRef:p},textContent:y,textPosition:g,parent:{page:{pageNumber:b}}}=t;if(!y||y.length===0)return null;i=t={annotationType:ie.FREETEXT,color:Array.from(u),fontSize:c,value:y.join(`
`),position:g,pageIndex:b-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p}}const o=await super.deserialize(t,s,r);return v(o,$n,t.fontSize),v(o,Us,te.makeHexColor(...t.color)),v(o,zn,E(a=Ne,Fi,Xw).call(a,t.value)),o._initialData=i,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Ne._internalPadding*this.parentScale,r=this.getRect(s,s),i=De._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:l(this,Us)),o={annotationType:ie.FREETEXT,color:i,fontSize:l(this,$n),value:E(this,ht,vk).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.isCopy=!0,o):this.annotationElementId&&!E(this,ht,wk).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const s=super.renderAnnotationElement(t);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${l(this,$n)}px * var(--total-scale-factor))`,r.color=l(this,Us),s.replaceChildren();for(const o of l(this,zn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),s.append(a)}const i=Ne._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:l(this,zn)}),s}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Us=new WeakMap,zn=new WeakMap,lp=new WeakMap,Rl=new WeakMap,$n=new WeakMap,ht=new WeakSet,gk=function(t){const s=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-l(this,$n))*this.parentScale),v(this,$n,i),E(this,ht,em).call(this)},r=l(this,$n);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ge.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},mk=function(t){const s=i=>{v(this,Us,this.editorDiv.style.color=i)},r=l(this,Us);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ge.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},yk=function(){var r;const t=[];this.editorDiv.normalize();let s=null;for(const i of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(E(r=Ne,Fi,tm).call(r,i)),s=i);return t.join(`
`)},em=function(){const[t,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:o}=this,a=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",i.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/s):(this.width=r.height/t,this.height=r.width/s),this.fixAndSetPosition()},Fi=new WeakSet,tm=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(xg,"")},nm=function(){if(this.editorDiv.replaceChildren(),!!l(this,zn))for(const t of l(this,zn).split(`
`)){const s=document.createElement("div");s.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(s)}},vk=function(){return l(this,zn).replaceAll(" "," ")},Xw=function(t){return t.replaceAll(" "," ")},wk=function(t){const{value:s,fontSize:r,color:i,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==s||t.fontSize!==r||t.color.some((a,c)=>a!==i[c])||t.pageIndex!==o},A(Ne,Fi),$(Ne,"_freeTextDefaultContent",""),$(Ne,"_internalPadding",0),$(Ne,"_defaultColor",null),$(Ne,"_defaultFontSize",10),$(Ne,"_type","freetext"),$(Ne,"_editorType",ie.FREETEXT);let Gw=Ne;class q{toSVGPath(){Re("Abstract method `toSVGPath` must be implemented.")}get box(){Re("Abstract getter `box` must be implemented.")}serialize(e,t){Re("Abstract method `serialize` must be implemented.")}static _rescale(e,t,s,r,i,o){o||(o=new Float32Array(e.length));for(let a=0,c=e.length;a<c;a+=2)o[a]=t+e[a]*r,o[a+1]=s+e[a+1]*i;return o}static _rescaleAndSwap(e,t,s,r,i,o){o||(o=new Float32Array(e.length));for(let a=0,c=e.length;a<c;a+=2)o[a]=t+e[a+1]*r,o[a+1]=s+e[a]*i;return o}static _translate(e,t,s,r){r||(r=new Float32Array(e.length));for(let i=0,o=e.length;i<o;i+=2)r[i]=t+e[i],r[i+1]=s+e[i+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,s,r,i){switch(i){case 90:return[1-t/s,e/r];case 180:return[1-e/s,1-t/r];case 270:return[t/s,1-e/r];default:return[e/s,t/r]}}static _normalizePagePoint(e,t,s){switch(s){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,s,r,i,o){return[(e+5*s)/6,(t+5*r)/6,(5*s+i)/6,(5*r+o)/6,(s+i)/2,(r+o)/2]}}$(q,"PRECISION",1e-4);var Hn,Vs,Hu,Uu,kr,he,Ll,Ml,cp,up,Vu,Wu,jo,dp,my,yy,wt,oh,bk,xk,Ak,Ek,Sk,Ck;const ei=class ei{constructor({x:e,y:t},s,r,i,o,a=0){A(this,wt);A(this,Hn);A(this,Vs,[]);A(this,Hu);A(this,Uu);A(this,kr,[]);A(this,he,new Float32Array(18));A(this,Ll);A(this,Ml);A(this,cp);A(this,up);A(this,Vu);A(this,Wu);A(this,jo,[]);v(this,Hn,s),v(this,Wu,i*r),v(this,Uu,o),l(this,he).set([NaN,NaN,NaN,NaN,e,t],6),v(this,Hu,a),v(this,up,l(ei,dp)*r),v(this,cp,l(ei,yy)*r),v(this,Vu,r),l(this,jo).push(e,t)}isEmpty(){return isNaN(l(this,he)[8])}add({x:e,y:t}){var L;v(this,Ll,e),v(this,Ml,t);const[s,r,i,o]=l(this,Hn);let[a,c,u,d]=l(this,he).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<l(this,cp))return!1;const y=p-l(this,up),g=y/p,b=g*h,m=g*f;let w=a,x=c;a=u,c=d,u+=b,d+=m,(L=l(this,jo))==null||L.push(e,t);const S=-m/y,C=b/y,T=S*l(this,Wu),P=C*l(this,Wu);return l(this,he).set(l(this,he).subarray(2,8),0),l(this,he).set([u+T,d+P],4),l(this,he).set(l(this,he).subarray(14,18),12),l(this,he).set([u-T,d-P],16),isNaN(l(this,he)[6])?(l(this,kr).length===0&&(l(this,he).set([a+T,c+P],2),l(this,kr).push(NaN,NaN,NaN,NaN,(a+T-s)/i,(c+P-r)/o),l(this,he).set([a-T,c-P],14),l(this,Vs).push(NaN,NaN,NaN,NaN,(a-T-s)/i,(c-P-r)/o)),l(this,he).set([w,x,a,c,u,d],6),!this.isEmpty()):(l(this,he).set([w,x,a,c,u,d],6),Math.abs(Math.atan2(x-c,w-a)-Math.atan2(m,b))<Math.PI/2?([a,c,u,d]=l(this,he).subarray(2,6),l(this,kr).push(NaN,NaN,NaN,NaN,((a+u)/2-s)/i,((c+d)/2-r)/o),[a,c,w,x]=l(this,he).subarray(14,18),l(this,Vs).push(NaN,NaN,NaN,NaN,((w+a)/2-s)/i,((x+c)/2-r)/o),!0):([w,x,a,c,u,d]=l(this,he).subarray(0,6),l(this,kr).push(((w+5*a)/6-s)/i,((x+5*c)/6-r)/o,((5*a+u)/6-s)/i,((5*c+d)/6-r)/o,((a+u)/2-s)/i,((c+d)/2-r)/o),[u,d,a,c,w,x]=l(this,he).subarray(12,18),l(this,Vs).push(((w+5*a)/6-s)/i,((x+5*c)/6-r)/o,((5*a+u)/6-s)/i,((5*c+d)/6-r)/o,((a+u)/2-s)/i,((c+d)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=l(this,kr),t=l(this,Vs);if(isNaN(l(this,he)[6])&&!this.isEmpty())return E(this,wt,bk).call(this);const s=[];s.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);E(this,wt,Ak).call(this,s);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return E(this,wt,xk).call(this,s),s.join(" ")}newFreeDrawOutline(e,t,s,r,i,o){return new _k(e,t,s,r,i,o)}getOutlines(){var h;const e=l(this,kr),t=l(this,Vs),s=l(this,he),[r,i,o,a]=l(this,Hn),c=new Float32Array((((h=l(this,jo))==null?void 0:h.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(l(this,jo)[f]-r)/o,c[f+1]=(l(this,jo)[f+1]-i)/a;if(c[c.length-2]=(l(this,Ll)-r)/o,c[c.length-1]=(l(this,Ml)-i)/a,isNaN(s[6])&&!this.isEmpty())return E(this,wt,Ek).call(this,c);const u=new Float32Array(l(this,kr).length+24+l(this,Vs).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=E(this,wt,Ck).call(this,u,d);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[f+p],u[d+1]=t[f+p+1],d+=2}return E(this,wt,Sk).call(this,u,d),this.newFreeDrawOutline(u,c,l(this,Hn),l(this,Vu),l(this,Hu),l(this,Uu))}};Hn=new WeakMap,Vs=new WeakMap,Hu=new WeakMap,Uu=new WeakMap,kr=new WeakMap,he=new WeakMap,Ll=new WeakMap,Ml=new WeakMap,cp=new WeakMap,up=new WeakMap,Vu=new WeakMap,Wu=new WeakMap,jo=new WeakMap,dp=new WeakMap,my=new WeakMap,yy=new WeakMap,wt=new WeakSet,oh=function(){const e=l(this,he).subarray(4,6),t=l(this,he).subarray(16,18),[s,r,i,o]=l(this,Hn);return[(l(this,Ll)+(e[0]-t[0])/2-s)/i,(l(this,Ml)+(e[1]-t[1])/2-r)/o,(l(this,Ll)+(t[0]-e[0])/2-s)/i,(l(this,Ml)+(t[1]-e[1])/2-r)/o]},bk=function(){const[e,t,s,r]=l(this,Hn),[i,o,a,c]=E(this,wt,oh).call(this);return`M${(l(this,he)[2]-e)/s} ${(l(this,he)[3]-t)/r} L${(l(this,he)[4]-e)/s} ${(l(this,he)[5]-t)/r} L${i} ${o} L${a} ${c} L${(l(this,he)[16]-e)/s} ${(l(this,he)[17]-t)/r} L${(l(this,he)[14]-e)/s} ${(l(this,he)[15]-t)/r} Z`},xk=function(e){const t=l(this,Vs);e.push(`L${t[4]} ${t[5]} Z`)},Ak=function(e){const[t,s,r,i]=l(this,Hn),o=l(this,he).subarray(4,6),a=l(this,he).subarray(16,18),[c,u,d,h]=E(this,wt,oh).call(this);e.push(`L${(o[0]-t)/r} ${(o[1]-s)/i} L${c} ${u} L${d} ${h} L${(a[0]-t)/r} ${(a[1]-s)/i}`)},Ek=function(e){const t=l(this,he),[s,r,i,o]=l(this,Hn),[a,c,u,d]=E(this,wt,oh).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-s)/i,(t[3]-r)/o,NaN,NaN,NaN,NaN,(t[4]-s)/i,(t[5]-r)/o,NaN,NaN,NaN,NaN,a,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-s)/i,(t[17]-r)/o,NaN,NaN,NaN,NaN,(t[14]-s)/i,(t[15]-r)/o],0),this.newFreeDrawOutline(h,e,l(this,Hn),l(this,Vu),l(this,Hu),l(this,Uu))},Sk=function(e,t){const s=l(this,Vs);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6},Ck=function(e,t){const s=l(this,he).subarray(4,6),r=l(this,he).subarray(16,18),[i,o,a,c]=l(this,Hn),[u,d,h,f]=E(this,wt,oh).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-i)/a,(s[1]-o)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(r[0]-i)/a,(r[1]-o)/c],t),t+=24},A(ei,dp,8),A(ei,my,2),A(ei,yy,l(ei,dp)+l(ei,my));let Qm=ei;var Gu,Nl,Si,hp,Un,fp,rt,vy,Tk;class _k extends q{constructor(t,s,r,i,o,a){super();A(this,vy);A(this,Gu);A(this,Nl,new Float32Array(4));A(this,Si);A(this,hp);A(this,Un);A(this,fp);A(this,rt);v(this,rt,t),v(this,Un,s),v(this,Gu,r),v(this,fp,i),v(this,Si,o),v(this,hp,a),this.lastPoint=[NaN,NaN],E(this,vy,Tk).call(this,a);const[c,u,d,h]=l(this,Nl);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-c)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=s.length;f<p;f+=2)s[f]=(s[f]-c)/d,s[f+1]=(s[f+1]-u)/h}toSVGPath(){const t=[`M${l(this,rt)[4]} ${l(this,rt)[5]}`];for(let s=6,r=l(this,rt).length;s<r;s+=6){if(isNaN(l(this,rt)[s])){t.push(`L${l(this,rt)[s+4]} ${l(this,rt)[s+5]}`);continue}t.push(`C${l(this,rt)[s]} ${l(this,rt)[s+1]} ${l(this,rt)[s+2]} ${l(this,rt)[s+3]} ${l(this,rt)[s+4]} ${l(this,rt)[s+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,s,r,i],o){const a=r-t,c=i-s;let u,d;switch(o){case 0:u=q._rescale(l(this,rt),t,i,a,-c),d=q._rescale(l(this,Un),t,i,a,-c);break;case 90:u=q._rescaleAndSwap(l(this,rt),t,s,a,c),d=q._rescaleAndSwap(l(this,Un),t,s,a,c);break;case 180:u=q._rescale(l(this,rt),r,s,-a,c),d=q._rescale(l(this,Un),r,s,-a,c);break;case 270:u=q._rescaleAndSwap(l(this,rt),r,i,-a,-c),d=q._rescaleAndSwap(l(this,Un),r,i,-a,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return l(this,Nl)}newOutliner(t,s,r,i,o,a=0){return new Qm(t,s,r,i,o,a)}getNewOutline(t,s){const[r,i,o,a]=l(this,Nl),[c,u,d,h]=l(this,Gu),f=o*d,p=a*h,y=r*d+c,g=i*h+u,b=this.newOutliner({x:l(this,Un)[0]*f+y,y:l(this,Un)[1]*p+g},l(this,Gu),l(this,fp),t,l(this,hp),s??l(this,Si));for(let m=2;m<l(this,Un).length;m+=2)b.add({x:l(this,Un)[m]*f+y,y:l(this,Un)[m+1]*p+g});return b.getOutlines()}}Gu=new WeakMap,Nl=new WeakMap,Si=new WeakMap,hp=new WeakMap,Un=new WeakMap,fp=new WeakMap,rt=new WeakMap,vy=new WeakSet,Tk=function(t){const s=l(this,rt);let r=s[4],i=s[5];const o=[r,i,r,i];let a=r,c=i;const u=t?Math.max:Math.min;for(let h=6,f=s.length;h<f;h+=6){const p=s[h+4],y=s[h+5];if(isNaN(s[h]))te.pointBoundingBox(p,y,o),c<y?(a=p,c=y):c===y&&(a=u(a,p));else{const g=[1/0,1/0,-1/0,-1/0];te.bezierBoundingBox(r,i,...s.slice(h,h+6),g),te.rectBoundingBox(...g,o),c<g[3]?(a=g[2],c=g[3]):c===g[3]&&(a=u(a,g[2]))}r=p,i=y}const d=l(this,Nl);d[0]=o[0]-l(this,Si),d[1]=o[1]-l(this,Si),d[2]=o[2]-o[0]+2*l(this,Si),d[3]=o[3]-o[1]+2*l(this,Si),this.lastPoint=[a,c]};var pp,gp,Bo,Ws,vn,Pk,sm,kk,Rk,Yw;class qw{constructor(e,t=0,s=0,r=!0){A(this,vn);A(this,pp);A(this,gp);A(this,Bo,[]);A(this,Ws,[]);const i=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:p,y,width:g,height:b}of e){const m=Math.floor((p-t)/o)*o,w=Math.ceil((p+g+t)/o)*o,x=Math.floor((y-t)/o)*o,S=Math.ceil((y+b+t)/o)*o,C=[m,x,S,!0],T=[w,x,S,!1];l(this,Bo).push(C,T),te.rectBoundingBox(m,x,w,S,i)}const a=i[2]-i[0]+2*s,c=i[3]-i[1]+2*s,u=i[0]-s,d=i[1]-s,h=l(this,Bo).at(r?-1:-2),f=[h[0],h[2]];for(const p of l(this,Bo)){const[y,g,b]=p;p[0]=(y-u)/a,p[1]=(g-d)/c,p[2]=(b-d)/c}v(this,pp,new Float32Array([u,d,a,c])),v(this,gp,f)}getOutlines(){l(this,Bo).sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of l(this,Bo))t[3]?(e.push(...E(this,vn,Yw).call(this,t)),E(this,vn,kk).call(this,t)):(E(this,vn,Rk).call(this,t),e.push(...E(this,vn,Yw).call(this,t)));return E(this,vn,Pk).call(this,e)}}pp=new WeakMap,gp=new WeakMap,Bo=new WeakMap,Ws=new WeakMap,vn=new WeakSet,Pk=function(e){const t=[],s=new Set;for(const o of e){const[a,c,u]=o;t.push([a,c,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const c=t[o][2],u=t[o+1][2];c.push(u),u.push(c),s.add(c),s.add(u)}const r=[];let i;for(;s.size>0;){const o=s.values().next().value;let[a,c,u,d,h]=o;s.delete(o);let f=a,p=c;for(i=[a,u],r.push(i);;){let y;if(s.has(d))y=d;else if(s.has(h))y=h;else break;s.delete(y),[a,c,u,d,h]=y,f!==a&&(i.push(f,p,a,p===c?c:u),f=a),p=p===c?u:c}i.push(f,p)}return new n3(r,l(this,pp),l(this,gp))},sm=function(e){const t=l(this,Ws);let s=0,r=t.length-1;for(;s<=r;){const i=s+r>>1,o=t[i][0];if(o===e)return i;o<e?s=i+1:r=i-1}return r+1},kk=function([,e,t]){const s=E(this,vn,sm).call(this,e);l(this,Ws).splice(s,0,[e,t])},Rk=function([,e,t]){const s=E(this,vn,sm).call(this,e);for(let r=s;r<l(this,Ws).length;r++){const[i,o]=l(this,Ws)[r];if(i!==e)break;if(i===e&&o===t){l(this,Ws).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[i,o]=l(this,Ws)[r];if(i!==e)break;if(i===e&&o===t){l(this,Ws).splice(r,1);return}}},Yw=function(e){const[t,s,r]=e,i=[[t,s,r]],o=E(this,vn,sm).call(this,r);for(let a=0;a<o;a++){const[c,u]=l(this,Ws)[a];for(let d=0,h=i.length;d<h;d++){const[,f,p]=i[d];if(!(u<=f||p<=c)){if(f>=c){if(p>u)i[d][1]=u;else{if(h===1)return[];i.splice(d,1),d--,h--}continue}i[d][2]=c,p>u&&i.push([t,u,p])}}}return i};var mp,Xu;class n3 extends q{constructor(t,s,r){super();A(this,mp);A(this,Xu);v(this,Xu,t),v(this,mp,s),this.lastPoint=r}toSVGPath(){const t=[];for(const s of l(this,Xu)){let[r,i]=s;t.push(`M${r} ${i}`);for(let o=2;o<s.length;o+=2){const a=s[o],c=s[o+1];a===r?(t.push(`V${c}`),i=c):c===i&&(t.push(`H${a}`),r=a)}t.push("Z")}return t.join(" ")}serialize([t,s,r,i],o){const a=[],c=r-t,u=i-s;for(const d of l(this,Xu)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*c,h[f+1]=i-d[f+1]*u;a.push(h)}return a}get box(){return l(this,mp)}get classNamesForOutlining(){return["highlightOutline"]}}mp=new WeakMap,Xu=new WeakMap;class Kw extends Qm{newFreeDrawOutline(e,t,s,r,i,o){return new s3(e,t,s,r,i,o)}}class s3 extends _k{newOutliner(e,t,s,r,i,o=0){return new Kw(e,t,s,r,i,o)}}var Vn,Il,qu,gt,yp,Yu,Ci,vp,zo,Gs,Ku,wp,ke,Qw,Jw,Zw,La,Lk,so;const En=class En{constructor({editor:e=null,uiManager:t=null}){A(this,ke);A(this,Vn,null);A(this,Il,null);A(this,qu);A(this,gt,null);A(this,yp,!1);A(this,Yu,!1);A(this,Ci,null);A(this,vp);A(this,zo,null);A(this,Gs,null);A(this,Ku);var s,r;e?(v(this,Yu,!1),v(this,Ku,ge.HIGHLIGHT_COLOR),v(this,Ci,e)):(v(this,Yu,!0),v(this,Ku,ge.HIGHLIGHT_DEFAULT_COLOR)),v(this,Gs,(e==null?void 0:e._uiManager)||t),v(this,vp,l(this,Gs)._eventBus),v(this,qu,((s=e==null?void 0:e.color)==null?void 0:s.toUpperCase())||((r=l(this,Gs))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),l(En,wp)||v(En,wp,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return fe(this,"_keyboardManager",new Hp([[["Escape","mac+Escape"],En.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],En.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],En.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],En.prototype._moveToPrevious],[["Home","mac+Home"],En.prototype._moveToBeginning],[["End","mac+End"],En.prototype._moveToEnd]]))}renderButton(){const e=v(this,Vn,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",l(this,Ci)&&(e.ariaControls=`${l(this,Ci).id}_colorpicker_dropdown`);const t=l(this,Gs)._signal;e.addEventListener("click",E(this,ke,La).bind(this),{signal:t}),e.addEventListener("keydown",E(this,ke,Zw).bind(this),{signal:t});const s=v(this,Il,document.createElement("span"));return s.className="swatch",s.ariaHidden="true",s.style.backgroundColor=l(this,qu),e.append(s),e}renderMainDropdown(){const e=v(this,gt,E(this,ke,Qw).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===l(this,Vn)){E(this,ke,La).call(this,e);return}const t=e.target.getAttribute("data-color");t&&E(this,ke,Jw).call(this,t,e)}_moveToNext(e){var t,s;if(!l(this,ke,so)){E(this,ke,La).call(this,e);return}if(e.target===l(this,Vn)){(t=l(this,gt).firstChild)==null||t.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var t,s;if(e.target===((t=l(this,gt))==null?void 0:t.firstChild)||e.target===l(this,Vn)){l(this,ke,so)&&this._hideDropdownFromKeyboard();return}l(this,ke,so)||E(this,ke,La).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var t;if(!l(this,ke,so)){E(this,ke,La).call(this,e);return}(t=l(this,gt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!l(this,ke,so)){E(this,ke,La).call(this,e);return}(t=l(this,gt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=l(this,gt))==null||e.classList.add("hidden"),l(this,Vn).ariaExpanded="false",(t=l(this,zo))==null||t.abort(),v(this,zo,null)}_hideDropdownFromKeyboard(){var e;if(!l(this,Yu)){if(!l(this,ke,so)){(e=l(this,Ci))==null||e.unselect();return}this.hideDropdown(),l(this,Vn).focus({preventScroll:!0,focusVisible:l(this,yp)})}}updateColor(e){if(l(this,Il)&&(l(this,Il).style.backgroundColor=e),!l(this,gt))return;const t=l(this,Gs).highlightColors.values();for(const s of l(this,gt).children)s.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=l(this,Vn))==null||e.remove(),v(this,Vn,null),v(this,Il,null),(t=l(this,gt))==null||t.remove(),v(this,gt,null)}};Vn=new WeakMap,Il=new WeakMap,qu=new WeakMap,gt=new WeakMap,yp=new WeakMap,Yu=new WeakMap,Ci=new WeakMap,vp=new WeakMap,zo=new WeakMap,Gs=new WeakMap,Ku=new WeakMap,wp=new WeakMap,ke=new WeakSet,Qw=function(){const e=document.createElement("div"),t=l(this,Gs)._signal;e.addEventListener("contextmenu",_s,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),l(this,Ci)&&(e.id=`${l(this,Ci).id}_colorpicker_dropdown`);for(const[s,r]of l(this,Gs).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=s,i.setAttribute("data-l10n-id",l(En,wp)[s]);const o=document.createElement("span");i.append(o),o.className="swatch",o.style.backgroundColor=r,i.ariaSelected=r===l(this,qu),i.addEventListener("click",E(this,ke,Jw).bind(this,r),{signal:t}),e.append(i)}return e.addEventListener("keydown",E(this,ke,Zw).bind(this),{signal:t}),e},Jw=function(e,t){t.stopPropagation(),l(this,vp).dispatch("switchannotationeditorparams",{source:this,type:l(this,Ku),value:e})},Zw=function(e){En._keyboardManager.exec(this,e)},La=function(e){if(l(this,ke,so)){this.hideDropdown();return}if(v(this,yp,e.detail===0),l(this,zo)||(v(this,zo,new AbortController),window.addEventListener("pointerdown",E(this,ke,Lk).bind(this),{signal:l(this,Gs).combinedSignal(l(this,zo))})),l(this,Vn).ariaExpanded="true",l(this,gt)){l(this,gt).classList.remove("hidden");return}const t=v(this,gt,E(this,ke,Qw).call(this));l(this,Vn).append(t)},Lk=function(e){var t;(t=l(this,gt))!=null&&t.contains(e.target)||this.hideDropdown()},so=function(){return l(this,gt)&&!l(this,gt).classList.contains("hidden")},A(En,wp,null);let Kh=En;var Qu,bp,_i,Dl,xp,_n,Ap,Ep,Ol,ps,Wn,Ft,Ju,Ti,Jt,Zu,gs,Sp,le,eb,rm,Mk,Nk,Ik,tb,Ma,bs,xc,Dk,im,ah,Ok,Fk,jk,Bk,zk;const Ae=class Ae extends De{constructor(t){super({...t,name:"highlightEditor"});A(this,le);A(this,Qu,null);A(this,bp,0);A(this,_i);A(this,Dl,null);A(this,xp,null);A(this,_n,null);A(this,Ap,null);A(this,Ep,0);A(this,Ol,null);A(this,ps,null);A(this,Wn,null);A(this,Ft,!1);A(this,Ju,null);A(this,Ti);A(this,Jt,null);A(this,Zu,"");A(this,gs);A(this,Sp,"");this.color=t.color||Ae._defaultColor,v(this,gs,t.thickness||Ae._defaultThickness),v(this,Ti,t.opacity||Ae._defaultOpacity),v(this,_i,t.boxes||null),v(this,Sp,t.methodOfCreation||""),v(this,Zu,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(v(this,Ft,!0),E(this,le,rm).call(this,t),E(this,le,Ma).call(this)):l(this,_i)&&(v(this,Qu,t.anchorNode),v(this,bp,t.anchorOffset),v(this,Ap,t.focusNode),v(this,Ep,t.focusOffset),E(this,le,eb).call(this),E(this,le,Ma).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ae.prototype;return fe(this,"_keyboardManager",new Hp([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,Ft)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:l(this,gs),methodOfCreation:l(this,Sp)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,s){var r;De.initialize(t,s),Ae._defaultColor||(Ae._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,s){switch(t){case ge.HIGHLIGHT_DEFAULT_COLOR:Ae._defaultColor=s;break;case ge.HIGHLIGHT_THICKNESS:Ae._defaultThickness=s;break}}translateInPage(t,s){}get toolbarPosition(){return l(this,Ju)}updateParams(t,s){switch(t){case ge.HIGHLIGHT_COLOR:E(this,le,Mk).call(this,s);break;case ge.HIGHLIGHT_THICKNESS:E(this,le,Nk).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[ge.HIGHLIGHT_DEFAULT_COLOR,Ae._defaultColor],[ge.HIGHLIGHT_THICKNESS,Ae._defaultThickness]]}get propertiesToUpdate(){return[[ge.HIGHLIGHT_COLOR,this.color||Ae._defaultColor],[ge.HIGHLIGHT_THICKNESS,l(this,gs)||Ae._defaultThickness],[ge.HIGHLIGHT_FREE,l(this,Ft)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",v(this,xp,new Kh({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,le,ah).call(this))}getBaseTranslation(){return[0,0]}getRect(t,s){return super.getRect(t,s,E(this,le,ah).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){E(this,le,tb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,le,Ma).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let s=!1;this.parent&&!t?E(this,le,tb).call(this):t&&(E(this,le,Ma).call(this,t),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),s&&this.select()}rotate(t){var i,o,a;const{drawLayer:s}=this.parent;let r;l(this,Ft)?(t=(t-this.rotation+360)%360,r=E(i=Ae,bs,xc).call(i,l(this,ps).box,t)):r=E(o=Ae,bs,xc).call(o,[this.x,this.y,this.width,this.height],t),s.updateProperties(l(this,Wn),{bbox:r,root:{"data-main-rotation":t}}),s.updateProperties(l(this,Jt),{bbox:E(a=Ae,bs,xc).call(a,l(this,_n).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();l(this,Zu)&&(t.setAttribute("aria-label",l(this,Zu)),t.setAttribute("role","mark")),l(this,Ft)?t.classList.add("free"):this.div.addEventListener("keydown",E(this,le,Dk).bind(this),{signal:this._uiManager._signal});const s=v(this,Ol,document.createElement("div"));t.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=l(this,Dl);const[r,i]=this.parentDimensions;return this.setDims(this.width*r,this.height*i),iP(this,l(this,Ol),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,Jt),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,Jt),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:E(this,le,im).call(this,!0);break;case 1:case 3:E(this,le,im).call(this,!1);break}}select(){var t;super.select(),l(this,Jt)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,Jt),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),l(this,Jt)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,Jt),{rootClass:{selected:!1}}),l(this,Ft)||E(this,le,im).call(this,!1))}get _mustFixPosition(){return!l(this,Ft)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(l(this,Wn),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(l(this,Jt),{rootClass:{hidden:!t}}))}static startHighlighting(t,s,{target:r,x:i,y:o}){const{x:a,y:c,width:u,height:d}=r.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),p=y=>{h.abort(),E(this,bs,Bk).call(this,t,y)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",it,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",_s,{signal:f}),r.addEventListener("pointermove",E(this,bs,jk).bind(this,t),{signal:f}),this._freeHighlight=new Kw({x:i,y:o},[a,c,u,d],t.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,s,r){var g,b,m,w;let i=null;if(t instanceof fk){const{data:{quadPoints:x,rect:S,rotation:C,id:T,color:P,opacity:R,popupRef:L},parent:{page:{pageNumber:M}}}=t;i=t={annotationType:ie.HIGHLIGHT,color:Array.from(P),opacity:R,quadPoints:x,boxes:null,pageIndex:M-1,rect:S.slice(0),rotation:C,annotationElementId:T,id:T,deleted:!1,popupRef:L}}else if(t instanceof Yx){const{data:{inkLists:x,rect:S,rotation:C,id:T,color:P,borderStyle:{rawWidth:R},popupRef:L},parent:{page:{pageNumber:M}}}=t;i=t={annotationType:ie.HIGHLIGHT,color:Array.from(P),thickness:R,inkLists:x,boxes:null,pageIndex:M-1,rect:S.slice(0),rotation:C,annotationElementId:T,id:T,deleted:!1,popupRef:L}}const{color:o,quadPoints:a,inkLists:c,opacity:u}=t,d=await super.deserialize(t,s,r);d.color=te.makeHexColor(...o),v(d,Ti,u||1),c&&v(d,gs,t.thickness),d._initialData=i;const[h,f]=d.pageDimensions,[p,y]=d.pageTranslation;if(a){const x=v(d,_i,[]);for(let S=0;S<a.length;S+=8)x.push({x:(a[S]-p)/h,y:1-(a[S+1]-y)/f,width:(a[S+2]-a[S])/h,height:(a[S+1]-a[S+5])/f});E(g=d,le,eb).call(g),E(b=d,le,Ma).call(b),d.rotate(d.rotation)}else if(c){v(d,Ft,!0);const x=c[0],S={x:x[0]-p,y:f-(x[1]-y)},C=new Kw(S,[0,0,h,f],1,l(d,gs)/2,!0,.001);for(let R=0,L=x.length;R<L;R+=2)S.x=x[R]-p,S.y=f-(x[R+1]-y),C.add(S);const{id:T,clipPathId:P}=s.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:C.toSVGPath()}},!0,!0);E(m=d,le,rm).call(m,{highlightOutlines:C.getOutlines(),highlightId:T,clipPathId:P}),E(w=d,le,Ma).call(w),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=De._colorManager.convert(this.color),i={annotationType:ie.HIGHLIGHT,color:r,opacity:l(this,Ti),thickness:l(this,gs),quadPoints:E(this,le,Ok).call(this),outlines:E(this,le,Fk).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:E(this,le,ah).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!E(this,le,zk).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Qu=new WeakMap,bp=new WeakMap,_i=new WeakMap,Dl=new WeakMap,xp=new WeakMap,_n=new WeakMap,Ap=new WeakMap,Ep=new WeakMap,Ol=new WeakMap,ps=new WeakMap,Wn=new WeakMap,Ft=new WeakMap,Ju=new WeakMap,Ti=new WeakMap,Jt=new WeakMap,Zu=new WeakMap,gs=new WeakMap,Sp=new WeakMap,le=new WeakSet,eb=function(){const t=new qw(l(this,_i),.001);v(this,ps,t.getOutlines()),[this.x,this.y,this.width,this.height]=l(this,ps).box;const s=new qw(l(this,_i),.0025,.001,this._uiManager.direction==="ltr");v(this,_n,s.getOutlines());const{lastPoint:r}=l(this,_n);v(this,Ju,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},rm=function({highlightOutlines:t,highlightId:s,clipPathId:r}){var h,f;if(v(this,ps,t),v(this,_n,t.getNewOutline(l(this,gs)/2+1.5,.0025)),s>=0)v(this,Wn,s),v(this,Dl,r),this.parent.drawLayer.finalizeDraw(s,{bbox:t.box,path:{d:t.toSVGPath()}}),v(this,Jt,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:l(this,_n).box,path:{d:l(this,_n).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(l(this,Wn),{bbox:E(h=Ae,bs,xc).call(h,l(this,ps).box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(l(this,Jt),{bbox:E(f=Ae,bs,xc).call(f,l(this,_n).box,p),path:{d:l(this,_n).toSVGPath()}})}const[o,a,c,u]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=c,this.height=u;break;case 90:{const[p,y]=this.parentDimensions;this.x=a,this.y=1-o,this.width=c*y/p,this.height=u*p/y;break}case 180:this.x=1-o,this.y=1-a,this.width=c,this.height=u;break;case 270:{const[p,y]=this.parentDimensions;this.x=1-a,this.y=o,this.width=c*y/p,this.height=u*p/y;break}}const{lastPoint:d}=l(this,_n);v(this,Ju,[(d[0]-o)/c,(d[1]-a)/u])},Mk=function(t){const s=(o,a)=>{var c,u;this.color=o,v(this,Ti,a),(c=this.parent)==null||c.drawLayer.updateProperties(l(this,Wn),{root:{fill:o,"fill-opacity":a}}),(u=l(this,xp))==null||u.updateColor(o)},r=this.color,i=l(this,Ti);this.addCommands({cmd:s.bind(this,t,Ae._defaultOpacity),undo:s.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ge.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},Nk=function(t){const s=l(this,gs),r=i=>{v(this,gs,i),E(this,le,Ik).call(this,i)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ge.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Ik=function(t){if(!l(this,Ft))return;E(this,le,rm).call(this,{highlightOutlines:l(this,ps).getNewOutline(t/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},tb=function(){l(this,Wn)===null||!this.parent||(this.parent.drawLayer.remove(l(this,Wn)),v(this,Wn,null),this.parent.drawLayer.remove(l(this,Jt)),v(this,Jt,null))},Ma=function(t=this.parent){l(this,Wn)===null&&({id:xt(this,Wn)._,clipPathId:xt(this,Dl)._}=t.drawLayer.draw({bbox:l(this,ps).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":l(this,Ti)},rootClass:{highlight:!0,free:l(this,Ft)},path:{d:l(this,ps).toSVGPath()}},!1,!0),v(this,Jt,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:l(this,Ft)},bbox:l(this,_n).box,path:{d:l(this,_n).toSVGPath()}},l(this,Ft))),l(this,Ol)&&(l(this,Ol).style.clipPath=l(this,Dl)))},bs=new WeakSet,xc=function([t,s,r,i],o){switch(o){case 90:return[1-s-i,t,i,r];case 180:return[1-t-r,1-s-i,r,i];case 270:return[s,1-t-r,i,r]}return[t,s,r,i]},Dk=function(t){Ae._keyboardManager.exec(this,t)},im=function(t){if(!l(this,Qu))return;const s=window.getSelection();t?s.setPosition(l(this,Qu),l(this,bp)):s.setPosition(l(this,Ap),l(this,Ep))},ah=function(){return l(this,Ft)?this.rotation:0},Ok=function(){if(l(this,Ft))return null;const[t,s]=this.pageDimensions,[r,i]=this.pageTranslation,o=l(this,_i),a=new Float32Array(o.length*8);let c=0;for(const{x:u,y:d,width:h,height:f}of o){const p=u*t+r,y=(1-d)*s+i;a[c]=a[c+4]=p,a[c+1]=a[c+3]=y,a[c+2]=a[c+6]=p+h*t,a[c+5]=a[c+7]=y-f*s,c+=8}return a},Fk=function(t){return l(this,ps).serialize(t,E(this,le,ah).call(this))},jk=function(t,s){this._freeHighlight.add(s)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Bk=function(t,s){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},zk=function(t){const{color:s}=this._initialData;return t.color.some((r,i)=>r!==s[i])},A(Ae,bs),$(Ae,"_defaultColor",null),$(Ae,"_defaultOpacity",1),$(Ae,"_defaultThickness",12),$(Ae,"_type","highlight"),$(Ae,"_editorType",ie.HIGHLIGHT),$(Ae,"_freeHighlightId",-1),$(Ae,"_freeHighlight",null),$(Ae,"_freeHighlightClipId","");let Jm=Ae;var Fl;class $k{constructor(){A(this,Fl,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,s]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,s)}updateSVGProperty(e,t){l(this,Fl)[e]=t}toSVGProperties(){const e=l(this,Fl);return v(this,Fl,Object.create(null)),{root:e}}reset(){v(this,Fl,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Re("Not implemented")}}Fl=new WeakMap;var Gn,ed,St,jl,Bl,$o,Ho,Uo,zl,ve,nb,sb,rb,lh,Hk,om,ch,Ac;const J=class J extends De{constructor(t){super(t);A(this,ve);A(this,Gn,null);A(this,ed);$(this,"_drawId",null);v(this,ed,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(E(this,ve,nb).call(this,t),E(this,ve,lh).call(this))}static _mergeSVGProperties(t,s){const r=new Set(Object.keys(t));for(const[i,o]of Object.entries(s))r.has(i)?Object.assign(t[i],o):t[i]=o;return t}static getDefaultDrawingOptions(t){Re("Not implemented")}static get typesMap(){Re("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,s){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,s),this._currentParent&&(l(J,St).updateProperty(r,s),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,s){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,s)}static get defaultPropertiesToUpdate(){const t=[],s=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)t.push([r,s[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:s}=this;for(const[r,i]of this.constructor.typesMap)t.push([r,s[i]]);return t}_updateProperty(t,s,r){const i=this._drawingOptions,o=i[s],a=c=>{var d;i.updateProperty(s,c);const u=l(this,Gn).updateProperty(s,c);u&&E(this,ve,ch).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,i.toSVGProperties())};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(l(this,Gn).getPathResizingSVGProperties(E(this,ve,om).call(this)),{bbox:E(this,ve,Ac).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(l(this,Gn).getPathResizedSVGProperties(E(this,ve,om).call(this)),{bbox:E(this,ve,Ac).call(this)}))}_onTranslating(t,s){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:E(this,ve,Ac).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(l(this,Gn).getPathTranslatedSVGProperties(E(this,ve,om).call(this),this.parentDimensions),{bbox:E(this,ve,Ac).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,l(this,ed)&&(v(this,ed,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){E(this,ve,rb).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,ve,lh).call(this),E(this,ve,ch).call(this,l(this,Gn).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let s=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),E(this,ve,rb).call(this)):t&&(this._uiManager.addShouldRescale(this),E(this,ve,lh).call(this,t),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),s&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties({bbox:E(this,ve,Ac).call(this)},l(this,Gn).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&E(this,ve,ch).call(this,l(this,Gn).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,s;this._isCopy&&(t=this.x,s=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[o,a]=this.parentDimensions;return this.setDims(this.width*o,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,s),r}static createDrawerInstance(t,s,r,i,o){Re("Not implemented")}static startDrawing(t,s,r,i){var b;const{target:o,offsetX:a,offsetY:c,pointerId:u,pointerType:d}=i;if(l(J,Ho)&&l(J,Ho)!==d)return;const{viewport:{rotation:h}}=t,{width:f,height:p}=o.getBoundingClientRect(),y=v(J,jl,new AbortController),g=t.combinedSignal(y);if(l(J,$o)||v(J,$o,u),l(J,Ho)??v(J,Ho,d),window.addEventListener("pointerup",m=>{var w;l(J,$o)===m.pointerId?this._endDraw(m):(w=l(J,Uo))==null||w.delete(m.pointerId)},{signal:g}),window.addEventListener("pointercancel",m=>{var w;l(J,$o)===m.pointerId?this._currentParent.endDrawingSession():(w=l(J,Uo))==null||w.delete(m.pointerId)},{signal:g}),window.addEventListener("pointerdown",m=>{l(J,Ho)===m.pointerType&&((l(J,Uo)||v(J,Uo,new Set)).add(m.pointerId),l(J,St).isCancellable()&&(l(J,St).removeLastElement(),l(J,St).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",_s,{signal:g}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),o.addEventListener("touchmove",m=>{m.timeStamp===l(J,zl)&&it(m)},{signal:g}),t.toggleDrawing(),(b=s._editorUndoBar)==null||b.hide(),l(J,St)){t.drawLayer.updateProperties(this._currentDrawId,l(J,St).startNew(a,c,f,p,h));return}s.updateUIForDefaultProperties(this),v(J,St,this.createDrawerInstance(a,c,f,p,h)),v(J,Bl,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(l(J,Bl).toSVGProperties(),l(J,St).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(v(J,zl,-1),!l(J,St))return;const{offsetX:s,offsetY:r,pointerId:i}=t;if(l(J,$o)===i){if(((o=l(J,Uo))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,l(J,St).add(s,r)),v(J,zl,t.timeStamp),it(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,v(J,St,null),v(J,Bl,null),v(J,Ho,null),v(J,zl,NaN)),l(J,jl)&&(l(J,jl).abort(),v(J,jl,null),v(J,$o,NaN),v(J,Uo,null))}static _endDraw(t){const s=this._currentParent;if(s){if(s.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===s.div&&s.drawLayer.updateProperties(this._currentDrawId,l(J,St).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=l(J,St),i=this._currentDrawId,o=r.getLastElement();s.addCommands({cmd:()=>{s.drawLayer.updateProperties(i,r.setLastElement(o))},undo:()=>{s.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:ge.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const s=this._currentParent;if(!s)return null;if(s.toggleDrawing(!0),s.cleanUndoStack(ge.DRAW_STEP),!l(J,St).isEmpty()){const{pageDimensions:[r,i],scale:o}=s,a=s.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:l(J,St).getOutlines(r*o,i*o,o,this._INNER_MARGIN),drawingOptions:l(J,Bl),mustBeCommitted:!t});return this._cleanup(!0),a}return s.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,s,r,i,o,a){Re("Not implemented")}static async deserialize(t,s,r){var h,f;const{rawDims:{pageWidth:i,pageHeight:o,pageX:a,pageY:c}}=s.viewport,u=this.deserializeDraw(a,c,i,o,this._INNER_MARGIN,t),d=await super.deserialize(t,s,r);return d.createDrawingOptions(t),E(h=d,ve,nb).call(h,{drawOutlines:u}),E(f=d,ve,lh).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[s,r]=this.pageTranslation,[i,o]=this.pageDimensions;return l(this,Gn).serialize([s,r,i,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Gn=new WeakMap,ed=new WeakMap,St=new WeakMap,jl=new WeakMap,Bl=new WeakMap,$o=new WeakMap,Ho=new WeakMap,Uo=new WeakMap,zl=new WeakMap,ve=new WeakSet,nb=function({drawOutlines:t,drawId:s,drawingOptions:r}){v(this,Gn,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),s>=0?(this._drawId=s,this.parent.drawLayer.finalizeDraw(s,t.defaultProperties)):this._drawId=E(this,ve,sb).call(this,t,this.parent),E(this,ve,ch).call(this,t.box)},sb=function(t,s){const{id:r}=s.drawLayer.draw(J._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},rb=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},lh=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=E(this,ve,sb).call(this,l(this,Gn),t)}},Hk=function([t,s,r,i]){const{parentDimensions:[o,a],rotation:c}=this;switch(c){case 90:return[s,1-t,r*(a/o),i*(o/a)];case 180:return[1-t,1-s,r,i];case 270:return[1-s,t,r*(a/o),i*(o/a)];default:return[t,s,r,i]}},om=function(){const{x:t,y:s,width:r,height:i,parentDimensions:[o,a],rotation:c}=this;switch(c){case 90:return[1-s,t,r*(o/a),i*(a/o)];case 180:return[1-t,1-s,r,i];case 270:return[s,1-t,r*(o/a),i*(a/o)];default:return[t,s,r,i]}},ch=function(t){if([this.x,this.y,this.width,this.height]=E(this,ve,Hk).call(this,t),this.div){this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)}this._onResized()},Ac=function(){const{x:t,y:s,width:r,height:i,rotation:o,parentRotation:a,parentDimensions:[c,u]}=this;switch((o*4+a)/90){case 1:return[1-s-i,t,i,r];case 2:return[1-t-r,1-s-i,r,i];case 3:return[s,1-t-r,i,r];case 4:return[t,s-r*(c/u),i*(u/c),r*(c/u)];case 5:return[1-s,t,r*(c/u),i*(u/c)];case 6:return[1-t-i*(u/c),1-s,i*(u/c),r*(c/u)];case 7:return[s-r*(c/u),1-t-i*(u/c),r*(c/u),i*(u/c)];case 8:return[t-r,s-i,r,i];case 9:return[1-s,t-r,i,r];case 10:return[1-t,1-s,r,i];case 11:return[s-i,1-t,i,r];case 12:return[t-i*(u/c),s,i*(u/c),r*(c/u)];case 13:return[1-s-r*(c/u),t-i*(u/c),r*(c/u),i*(u/c)];case 14:return[1-t,1-s-r*(c/u),i*(u/c),r*(c/u)];case 15:return[s,1-t,r*(c/u),i*(u/c)];default:return[t,s,r,i]}},$(J,"_currentDrawId",-1),$(J,"_currentParent",null),A(J,St,null),A(J,jl,null),A(J,Bl,null),A(J,$o,NaN),A(J,Ho,null),A(J,Uo,null),A(J,zl,NaN),$(J,"_INNER_MARGIN",3);let Zm=J;var Rr,Ct,_t,$l,td,cn,jt,ms,Hl,Ul,Vl,nd,am;class r3{constructor(e,t,s,r,i,o){A(this,nd);A(this,Rr,new Float64Array(6));A(this,Ct);A(this,_t);A(this,$l);A(this,td);A(this,cn);A(this,jt,"");A(this,ms,0);A(this,Hl,new Vp);A(this,Ul);A(this,Vl);v(this,Ul,s),v(this,Vl,r),v(this,$l,i),v(this,td,o),[e,t]=E(this,nd,am).call(this,e,t);const a=v(this,Ct,[NaN,NaN,NaN,NaN,e,t]);v(this,cn,[e,t]),v(this,_t,[{line:a,points:l(this,cn)}]),l(this,Rr).set(a,0)}updateProperty(e,t){e==="stroke-width"&&v(this,td,t)}isEmpty(){return!l(this,_t)||l(this,_t).length===0}isCancellable(){return l(this,cn).length<=10}add(e,t){[e,t]=E(this,nd,am).call(this,e,t);const[s,r,i,o]=l(this,Rr).subarray(2,6),a=e-i,c=t-o;return Math.hypot(l(this,Ul)*a,l(this,Vl)*c)<=2?null:(l(this,cn).push(e,t),isNaN(s)?(l(this,Rr).set([i,o,e,t],2),l(this,Ct).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(l(this,Rr)[0])&&l(this,Ct).splice(6,6),l(this,Rr).set([s,r,i,o,e,t],0),l(this,Ct).push(...q.createBezierPoints(s,r,i,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const s=this.add(e,t);return s||(l(this,cn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,s,r,i){v(this,Ul,s),v(this,Vl,r),v(this,$l,i),[e,t]=E(this,nd,am).call(this,e,t);const o=v(this,Ct,[NaN,NaN,NaN,NaN,e,t]);v(this,cn,[e,t]);const a=l(this,_t).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),l(this,_t).push({line:o,points:l(this,cn)}),l(this,Rr).set(o,0),v(this,ms,0),this.toSVGPath(),null}getLastElement(){return l(this,_t).at(-1)}setLastElement(e){return l(this,_t)?(l(this,_t).push(e),v(this,Ct,e.line),v(this,cn,e.points),v(this,ms,0),{path:{d:this.toSVGPath()}}):l(this,Hl).setLastElement(e)}removeLastElement(){if(!l(this,_t))return l(this,Hl).removeLastElement();l(this,_t).pop(),v(this,jt,"");for(let e=0,t=l(this,_t).length;e<t;e++){const{line:s,points:r}=l(this,_t)[e];v(this,Ct,s),v(this,cn,r),v(this,ms,0),this.toSVGPath()}return{path:{d:l(this,jt)}}}toSVGPath(){const e=q.svgRound(l(this,Ct)[4]),t=q.svgRound(l(this,Ct)[5]);if(l(this,cn).length===2)return v(this,jt,`${l(this,jt)} M ${e} ${t} Z`),l(this,jt);if(l(this,cn).length<=6){const r=l(this,jt).lastIndexOf("M");v(this,jt,`${l(this,jt).slice(0,r)} M ${e} ${t}`),v(this,ms,6)}if(l(this,cn).length===4){const r=q.svgRound(l(this,Ct)[10]),i=q.svgRound(l(this,Ct)[11]);return v(this,jt,`${l(this,jt)} L ${r} ${i}`),v(this,ms,12),l(this,jt)}const s=[];l(this,ms)===0&&(s.push(`M ${e} ${t}`),v(this,ms,6));for(let r=l(this,ms),i=l(this,Ct).length;r<i;r+=6){const[o,a,c,u,d,h]=l(this,Ct).slice(r,r+6).map(q.svgRound);s.push(`C${o} ${a} ${c} ${u} ${d} ${h}`)}return v(this,jt,l(this,jt)+s.join(" ")),v(this,ms,l(this,Ct).length),l(this,jt)}getOutlines(e,t,s,r){const i=l(this,_t).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),l(this,Hl).build(l(this,_t),e,t,s,l(this,$l),l(this,td),r),v(this,Rr,null),v(this,Ct,null),v(this,_t,null),v(this,jt,null),l(this,Hl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Rr=new WeakMap,Ct=new WeakMap,_t=new WeakMap,$l=new WeakMap,td=new WeakMap,cn=new WeakMap,jt=new WeakMap,ms=new WeakMap,Hl=new WeakMap,Ul=new WeakMap,Vl=new WeakMap,nd=new WeakSet,am=function(e,t){return q._normalizePoint(e,t,l(this,Ul),l(this,Vl),l(this,$l))};var un,Cp,_p,Xn,Lr,Mr,sd,rd,Wl,$t,Qr,Uk,Vk,Wk;class Vp extends q{constructor(){super(...arguments);A(this,$t);A(this,un);A(this,Cp,0);A(this,_p);A(this,Xn);A(this,Lr);A(this,Mr);A(this,sd);A(this,rd);A(this,Wl)}build(t,s,r,i,o,a,c){v(this,Lr,s),v(this,Mr,r),v(this,sd,i),v(this,rd,o),v(this,Wl,a),v(this,_p,c??0),v(this,Xn,t),E(this,$t,Vk).call(this)}get thickness(){return l(this,Wl)}setLastElement(t){return l(this,Xn).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return l(this,Xn).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:s}of l(this,Xn)){if(t.push(`M${q.svgRound(s[4])} ${q.svgRound(s[5])}`),s.length===6){t.push("Z");continue}if(s.length===12&&isNaN(s[6])){t.push(`L${q.svgRound(s[10])} ${q.svgRound(s[11])}`);continue}for(let r=6,i=s.length;r<i;r+=6){const[o,a,c,u,d,h]=s.subarray(r,r+6).map(q.svgRound);t.push(`C${o} ${a} ${c} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,s,r,i],o){const a=[],c=[],[u,d,h,f]=E(this,$t,Uk).call(this);let p,y,g,b,m,w,x,S,C;switch(l(this,rd)){case 0:C=q._rescale,p=t,y=s+i,g=r,b=-i,m=t+u*r,w=s+(1-d-f)*i,x=t+(u+h)*r,S=s+(1-d)*i;break;case 90:C=q._rescaleAndSwap,p=t,y=s,g=r,b=i,m=t+d*r,w=s+u*i,x=t+(d+f)*r,S=s+(u+h)*i;break;case 180:C=q._rescale,p=t+r,y=s,g=-r,b=i,m=t+(1-u-h)*r,w=s+d*i,x=t+(1-u)*r,S=s+(d+f)*i;break;case 270:C=q._rescaleAndSwap,p=t+r,y=s+i,g=-r,b=-i,m=t+(1-d-f)*r,w=s+(1-u-h)*i,x=t+(1-d)*r,S=s+(1-u)*i;break}for(const{line:T,points:P}of l(this,Xn))a.push(C(T,p,y,g,b,o?new Array(T.length):null)),c.push(C(P,p,y,g,b,o?new Array(P.length):null));return{lines:a,points:c,rect:[m,w,x,S]}}static deserialize(t,s,r,i,o,{paths:{lines:a,points:c},rotation:u,thickness:d}){const h=[];let f,p,y,g,b;switch(u){case 0:b=q._rescale,f=-t/r,p=s/i+1,y=1/r,g=-1/i;break;case 90:b=q._rescaleAndSwap,f=-s/i,p=-t/r,y=1/i,g=1/r;break;case 180:b=q._rescale,f=t/r+1,p=-s/i,y=-1/r,g=1/i;break;case 270:b=q._rescaleAndSwap,f=s/i+1,p=t/r+1,y=-1/i,g=-1/r;break}if(!a){a=[];for(const w of c){const x=w.length;if(x===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(x===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const S=new Float32Array(3*(x-2));a.push(S);let[C,T,P,R]=w.subarray(0,4);S.set([NaN,NaN,NaN,NaN,C,T],0);for(let L=4;L<x;L+=2){const M=w[L],D=w[L+1];S.set(q.createBezierPoints(C,T,P,R,M,D),(L-2)*3),[C,T,P,R]=[P,R,M,D]}}}for(let w=0,x=a.length;w<x;w++)h.push({line:b(a[w].map(S=>S??NaN),f,p,y,g),points:b(c[w].map(S=>S??NaN),f,p,y,g)});const m=new this.prototype.constructor;return m.build(h,r,i,1,u,d,o),m}get box(){return l(this,un)}updateProperty(t,s){return t==="stroke-width"?E(this,$t,Wk).call(this,s):null}updateParentDimensions([t,s],r){const[i,o]=E(this,$t,Qr).call(this);v(this,Lr,t),v(this,Mr,s),v(this,sd,r);const[a,c]=E(this,$t,Qr).call(this),u=a-i,d=c-o,h=l(this,un);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return v(this,Cp,t),{path:{transform:this.rotationTransform}}}get viewBox(){return l(this,un).map(q.svgRound).join(" ")}get defaultProperties(){const[t,s]=l(this,un);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${q.svgRound(t)} ${q.svgRound(s)}`}}}get rotationTransform(){const[,,t,s]=l(this,un);let r=0,i=0,o=0,a=0,c=0,u=0;switch(l(this,Cp)){case 90:i=s/t,o=-t/s,c=t;break;case 180:r=-1,a=-1,c=t,u=s;break;case 270:i=-s/t,o=t/s,u=s;break;default:return""}return`matrix(${r} ${i} ${o} ${a} ${q.svgRound(c)} ${q.svgRound(u)})`}getPathResizingSVGProperties([t,s,r,i]){const[o,a]=E(this,$t,Qr).call(this),[c,u,d,h]=l(this,un);if(Math.abs(d-o)<=q.PRECISION||Math.abs(h-a)<=q.PRECISION){const b=t+r/2-(c+d/2),m=s+i/2-(u+h/2);return{path:{"transform-origin":`${q.svgRound(t)} ${q.svgRound(s)}`,transform:`${this.rotationTransform} translate(${b} ${m})`}}}const f=(r-2*o)/(d-2*o),p=(i-2*a)/(h-2*a),y=d/r,g=h/i;return{path:{"transform-origin":`${q.svgRound(c)} ${q.svgRound(u)}`,transform:`${this.rotationTransform} scale(${y} ${g}) translate(${q.svgRound(o)} ${q.svgRound(a)}) scale(${f} ${p}) translate(${q.svgRound(-o)} ${q.svgRound(-a)})`}}}getPathResizedSVGProperties([t,s,r,i]){const[o,a]=E(this,$t,Qr).call(this),c=l(this,un),[u,d,h,f]=c;if(c[0]=t,c[1]=s,c[2]=r,c[3]=i,Math.abs(h-o)<=q.PRECISION||Math.abs(f-a)<=q.PRECISION){const m=t+r/2-(u+h/2),w=s+i/2-(d+f/2);for(const{line:x,points:S}of l(this,Xn))q._translate(x,m,w,x),q._translate(S,m,w,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${q.svgRound(t)} ${q.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(r-2*o)/(h-2*o),y=(i-2*a)/(f-2*a),g=-p*(u+o)+t+o,b=-y*(d+a)+s+a;if(p!==1||y!==1||g!==0||b!==0)for(const{line:m,points:w}of l(this,Xn))q._rescale(m,g,b,p,y,m),q._rescale(w,g,b,p,y,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${q.svgRound(t)} ${q.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,s],r){const[i,o]=r,a=l(this,un),c=t-a[0],u=s-a[1];if(l(this,Lr)===i&&l(this,Mr)===o)for(const{line:d,points:h}of l(this,Xn))q._translate(d,c,u,d),q._translate(h,c,u,h);else{const d=l(this,Lr)/i,h=l(this,Mr)/o;v(this,Lr,i),v(this,Mr,o);for(const{line:f,points:p}of l(this,Xn))q._rescale(f,c,u,d,h,f),q._rescale(p,c,u,d,h,p);a[2]*=d,a[3]*=h}return a[0]=t,a[1]=s,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${q.svgRound(t)} ${q.svgRound(s)}`}}}get defaultSVGProperties(){const t=l(this,un);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${q.svgRound(t[0])} ${q.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}un=new WeakMap,Cp=new WeakMap,_p=new WeakMap,Xn=new WeakMap,Lr=new WeakMap,Mr=new WeakMap,sd=new WeakMap,rd=new WeakMap,Wl=new WeakMap,$t=new WeakSet,Qr=function(t=l(this,Wl)){const s=l(this,_p)+t/2*l(this,sd);return l(this,rd)%180===0?[s/l(this,Lr),s/l(this,Mr)]:[s/l(this,Mr),s/l(this,Lr)]},Uk=function(){const[t,s,r,i]=l(this,un),[o,a]=E(this,$t,Qr).call(this,0);return[t+o,s+a,r-2*o,i-2*a]},Vk=function(){const t=v(this,un,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of l(this,Xn)){if(i.length<=12){for(let c=4,u=i.length;c<u;c+=6)te.pointBoundingBox(i[c],i[c+1],t);continue}let o=i[4],a=i[5];for(let c=6,u=i.length;c<u;c+=6){const[d,h,f,p,y,g]=i.subarray(c,c+6);te.bezierBoundingBox(o,a,d,h,f,p,y,g,t),o=y,a=g}}const[s,r]=E(this,$t,Qr).call(this);t[0]=Zt(t[0]-s,0,1),t[1]=Zt(t[1]-r,0,1),t[2]=Zt(t[2]+s,0,1),t[3]=Zt(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},Wk=function(t){const[s,r]=E(this,$t,Qr).call(this);v(this,Wl,t);const[i,o]=E(this,$t,Qr).call(this),[a,c]=[i-s,o-r],u=l(this,un);return u[0]-=a,u[1]-=c,u[2]+=2*a,u[3]+=2*c,u};class tv extends $k{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:De._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new tv(this._viewParameters);return e.updateAll(this),e}}var wy,Gk;const Fc=class Fc extends Zm{constructor(t){super({...t,name:"inkEditor"});A(this,wy);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,s){De.initialize(t,s),this._defaultDrawingOptions=new tv(s.viewParameters)}static getDefaultDrawingOptions(t){const s=this._defaultDrawingOptions.clone();return s.updateProperties(t),s}static get supportMultipleDrawings(){return!0}static get typesMap(){return fe(this,"typesMap",new Map([[ge.INK_THICKNESS,"stroke-width"],[ge.INK_COLOR,"stroke"],[ge.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,s,r,i,o){return new r3(t,s,r,i,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,s,r,i,o,a){return Vp.deserialize(t,s,r,i,o,a)}static async deserialize(t,s,r){let i=null;if(t instanceof Yx){const{data:{inkLists:a,rect:c,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:y},parent:{page:{pageNumber:g}}}=t;i=t={annotationType:ie.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:a},boxes:null,pageIndex:g-1,rect:c.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:y}}const o=await super.deserialize(t,s,r);return o._initialData=i,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:s,parent:r}=this;s.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,s.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:s,opacity:r}){this._drawingOptions=Fc.getDefaultDrawingOptions({stroke:te.makeHexColor(...t),"stroke-width":s,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:s,points:r,rect:i}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":c}}=this,u={annotationType:ie.INK,color:De._colorManager.convert(o),opacity:a,thickness:c,paths:{lines:s,points:r},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(u.isCopy=!0,u):this.annotationElementId&&!E(this,wy,Gk).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){const{points:s,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:s}),null}};wy=new WeakSet,Gk=function(t){const{color:s,thickness:r,opacity:i,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((a,c)=>a!==s[c])||t.thickness!==r||t.opacity!==i||t.pageIndex!==o},$(Fc,"_type","ink"),$(Fc,"_editorType",ie.INK),$(Fc,"_defaultDrawingOptions",null);let ib=Fc;class ob extends Vp{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Ag=8,Hd=3;var Gl,Ee,ab,Xs,Xk,qk,lb,lm,Yk,Kk,Qk,cb,ub,Jk;class jr{static extractContoursFromText(e,{fontFamily:t,fontStyle:s,fontWeight:r},i,o,a,c){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,f=d.font=`${s} ${r} ${h}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:y,actualBoundingBoxAscent:g,actualBoundingBoxDescent:b,fontBoundingBoxAscent:m,fontBoundingBoxDescent:w,width:x}=d.measureText(e),S=1.5,C=Math.ceil(Math.max(Math.abs(p)+Math.abs(y)||0,x)*S),T=Math.ceil(Math.max(Math.abs(g)+Math.abs(b)||h,Math.abs(m)+Math.abs(w)||h)*S);u=new OffscreenCanvas(C,T),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=f,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,C,T),d.fillStyle="black",d.fillText(e,C*(S-1)/2,T*(3-S)/2);const P=E(this,Ee,cb).call(this,d.getImageData(0,0,C,T).data),R=E(this,Ee,Qk).call(this,P),L=E(this,Ee,ub).call(this,R),M=E(this,Ee,lb).call(this,P,C,T,L);return this.processDrawnLines({lines:{curves:M,width:C,height:T},pageWidth:i,pageHeight:o,rotation:a,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,s,r,i){const[o,a,c]=E(this,Ee,Jk).call(this,e),[u,d]=E(this,Ee,Kk).call(this,o,a,c,Math.hypot(a,c)*l(this,Gl).sigmaSFactor,l(this,Gl).sigmaR,l(this,Gl).kernelSize),h=E(this,Ee,ub).call(this,d),f=E(this,Ee,lb).call(this,u,a,c,h);return this.processDrawnLines({lines:{curves:f,width:a,height:c},pageWidth:t,pageHeight:s,rotation:r,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:r,innerMargin:i,mustSmooth:o,areContours:a}){r%180!==0&&([t,s]=[s,t]);const{curves:c,width:u,height:d}=e,h=e.thickness??0,f=[],p=Math.min(t/u,s/d),y=p/t,g=p/s,b=[];for(const{points:w}of c){const x=o?E(this,Ee,Yk).call(this,w):w;if(!x)continue;b.push(x);const S=x.length,C=new Float32Array(S),T=new Float32Array(3*(S===2?2:S-2));if(f.push({line:T,points:C}),S===2){C[0]=x[0]*y,C[1]=x[1]*g,T.set([NaN,NaN,NaN,NaN,C[0],C[1]],0);continue}let[P,R,L,M]=x;P*=y,R*=g,L*=y,M*=g,C.set([P,R,L,M],0),T.set([NaN,NaN,NaN,NaN,P,R],0);for(let D=4;D<S;D+=2){const B=C[D]=x[D]*y,V=C[D+1]=x[D+1]*g;T.set(q.createBezierPoints(P,R,L,M,B,V),(D-2)*3),[P,R,L,M]=[L,M,B,V]}}if(f.length===0)return null;const m=a?new ob:new Vp;return m.build(f,t,s,1,r,a?0:h,i),{outline:m,newCurves:b,areContours:a,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:s,width:r,height:i}){let o=1/0,a=-1/0,c=0;for(const x of e){c+=x.length;for(let S=2,C=x.length;S<C;S++){const T=x[S]-x[S-2];o=Math.min(o,T),a=Math.max(a,T)}}let u;o>=-128&&a<=127?u=Int8Array:o>=-32768&&a<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=Ag+Hd*d,f=new Uint32Array(h);let p=0;f[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*u.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=r,f[p++]=i,f[p++]=t?0:1,f[p++]=Math.max(0,Math.floor(s??0)),f[p++]=d,f[p++]=u.BYTES_PER_ELEMENT;for(const x of e)f[p++]=x.length-2,f[p++]=x[0],f[p++]=x[1];const y=new CompressionStream("deflate-raw"),g=y.writable.getWriter();await g.ready,g.write(f);const b=u.prototype.constructor;for(const x of e){const S=new b(x.length-2);for(let C=2,T=x.length;C<T;C++)S[C-2]=x[C]-x[C-2];g.write(S)}g.close();const m=await new Response(y.readable).arrayBuffer(),w=new Uint8Array(m);return YT(w)}static async decompressSignature(e){try{const t=IF(e),{readable:s,writable:r}=new DecompressionStream("deflate-raw"),i=r.getWriter();await i.ready,i.write(t).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let o=null,a=0;for await(const x of s)o||(o=new Uint8Array(new Uint32Array(x.buffer,0,4)[0])),o.set(x,a),a+=x.length;const c=new Uint32Array(o.buffer,0,o.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=c[2],h=c[3],f=c[4]===0,p=c[5],y=c[6],g=c[7],b=[],m=(Ag+Hd*y)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(g){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(o.buffer,m);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(o.buffer,m);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(o.buffer,m);break}a=0;for(let x=0;x<y;x++){const S=c[Hd*x+Ag],C=new Float32Array(S+2);b.push(C);for(let T=0;T<Hd-1;T++)C[T]=c[Hd*x+Ag+T+1];for(let T=0;T<S;T++)C[T+2]=C[T]+w[a++]}return{areContours:f,thickness:p,outlines:b,width:d,height:h}}catch(t){return oe(`decompressSignature: ${t}`),null}}}Gl=new WeakMap,Ee=new WeakSet,ab=function(e,t,s,r){return s-=e,r-=t,s===0?r>0?0:4:s===1?r+6:2-r},Xs=new WeakMap,Xk=function(e,t,s,r,i,o,a){const c=E(this,Ee,ab).call(this,s,r,i,o);for(let u=0;u<8;u++){const d=(-u+c-a+16)%8,h=l(this,Xs)[2*d],f=l(this,Xs)[2*d+1];if(e[(s+h)*t+(r+f)]!==0)return d}return-1},qk=function(e,t,s,r,i,o,a){const c=E(this,Ee,ab).call(this,s,r,i,o);for(let u=0;u<8;u++){const d=(u+c+a+16)%8,h=l(this,Xs)[2*d],f=l(this,Xs)[2*d+1];if(e[(s+h)*t+(r+f)]!==0)return d}return-1},lb=function(e,t,s,r){const i=e.length,o=new Int32Array(i);for(let d=0;d<i;d++)o[d]=e[d]<=r?1:0;for(let d=1;d<s-1;d++)o[d*t]=o[d*t+t-1]=0;for(let d=0;d<t;d++)o[d]=o[t*s-1-d]=0;let a=1,c;const u=[];for(let d=1;d<s-1;d++){c=1;for(let h=1;h<t-1;h++){const f=d*t+h,p=o[f];if(p===0)continue;let y=d,g=h;if(p===1&&o[f-1]===0)a+=1,g-=1;else if(p>=1&&o[f+1]===0)a+=1,g+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const b=[h,d],m=g===h+1,w={isHole:m,points:b,id:a,parent:0};u.push(w);let x;for(const D of u)if(D.id===c){x=D;break}x?x.isHole?w.parent=m?x.parent:c:w.parent=m?c:x.parent:w.parent=m?c:0;const S=E(this,Ee,Xk).call(this,o,t,d,h,y,g,0);if(S===-1){o[f]=-a,o[f]!==1&&(c=Math.abs(o[f]));continue}let C=l(this,Xs)[2*S],T=l(this,Xs)[2*S+1];const P=d+C,R=h+T;y=P,g=R;let L=d,M=h;for(;;){const D=E(this,Ee,qk).call(this,o,t,L,M,y,g,1);C=l(this,Xs)[2*D],T=l(this,Xs)[2*D+1];const B=L+C,V=M+T;b.push(V,B);const I=L*t+M;if(o[I+1]===0?o[I]=-a:o[I]===1&&(o[I]=a),B===d&&V===h&&L===P&&M===R){o[f]!==1&&(c=Math.abs(o[f]));break}else y=L,g=M,L=B,M=V}}}return u},lm=function(e,t,s,r){if(s-t<=4){for(let P=t;P<s-2;P+=2)r.push(e[P],e[P+1]);return}const i=e[t],o=e[t+1],a=e[s-4]-i,c=e[s-3]-o,u=Math.hypot(a,c),d=a/u,h=c/u,f=d*o-h*i,p=c/a,y=1/u,g=Math.atan(p),b=Math.cos(g),m=Math.sin(g),w=y*(Math.abs(b)+Math.abs(m)),x=y*(1-w+w**2),S=Math.max(Math.atan(Math.abs(m+b)*x),Math.atan(Math.abs(m-b)*x));let C=0,T=t;for(let P=t+2;P<s-2;P+=2){const R=Math.abs(f-d*e[P+1]+h*e[P]);R>C&&(T=P,C=R)}C>(u*S)**2?(E(this,Ee,lm).call(this,e,t,T+2,r),E(this,Ee,lm).call(this,e,T,s,r)):r.push(i,o)},Yk=function(e){const t=[],s=e.length;return E(this,Ee,lm).call(this,e,0,s,t),t.push(e[s-2],e[s-1]),t.length<=4?null:t},Kk=function(e,t,s,r,i,o){const a=new Float32Array(o**2),c=-2*r**2,u=o>>1;for(let g=0;g<o;g++){const b=(g-u)**2;for(let m=0;m<o;m++)a[g*o+m]=Math.exp((b+(m-u)**2)/c)}const d=new Float32Array(256),h=-2*i**2;for(let g=0;g<256;g++)d[g]=Math.exp(g**2/h);const f=e.length,p=new Uint8Array(f),y=new Uint32Array(256);for(let g=0;g<s;g++)for(let b=0;b<t;b++){const m=g*t+b,w=e[m];let x=0,S=0;for(let T=0;T<o;T++){const P=g+T-u;if(!(P<0||P>=s))for(let R=0;R<o;R++){const L=b+R-u;if(L<0||L>=t)continue;const M=e[P*t+L],D=a[T*o+R]*d[Math.abs(M-w)];x+=M*D,S+=D}}const C=p[m]=Math.round(x/S);y[C]++}return[p,y]},Qk=function(e){const t=new Uint32Array(256);for(const s of e)t[s]++;return t},cb=function(e){const t=e.length,s=new Uint8ClampedArray(t>>2);let r=-1/0,i=1/0;for(let a=0,c=s.length;a<c;a++){if(e[(a<<2)+3]===0){r=s[a]=255;continue}const d=s[a]=e[a<<2];d>r&&(r=d),d<i&&(i=d)}const o=255/(r-i);for(let a=0;a<t;a++)s[a]=(s[a]-i)*o;return s},ub=function(e){let t,s=-1/0,r=-1/0;const i=e.findIndex(c=>c!==0);let o=i,a=i;for(t=i;t<256;t++){const c=e[t];c>s&&(t-o>r&&(r=t-o,a=t-1),s=c,o=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t},Jk=function(e){const t=e,{width:s,height:r}=e,{maxDim:i}=l(this,Gl);let o=s,a=r;if(s>i||r>i){let f=s,p=r,y=Math.log2(Math.max(s,r)/i);const g=Math.floor(y);y=y===g?g-1:g;for(let m=0;m<y;m++){o=Math.ceil(f/2),a=Math.ceil(p/2);const w=new OffscreenCanvas(o,a);w.getContext("2d").drawImage(e,0,0,f,p,0,0,o,a),f=o,p=a,e!==t&&e.close(),e=w.transferToImageBitmap()}const b=Math.min(i/o,i/a);o=Math.round(o*b),a=Math.round(a*b)}const u=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,o,a);const d=u.getImageData(0,0,o,a).data;return[E(this,Ee,cb).call(this,d),o,a]},A(jr,Ee),A(jr,Gl,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),A(jr,Xs,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class Qx extends $k{constructor(){super(),super.updateProperties({fill:De._defaultLineColor,"stroke-width":0})}clone(){const e=new Qx;return e.updateAll(this),e}}class Jx extends tv{constructor(e){super(e),super.updateProperties({stroke:De._defaultLineColor,"stroke-width":1})}clone(){const e=new Jx(this._viewParameters);return e.updateAll(this),e}}var Vo,Nr,Wo,Xl;const Dn=class Dn extends Zm{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});A(this,Vo,!1);A(this,Nr,null);A(this,Wo,null);A(this,Xl,null);this._willKeepAspectRatio=!0,v(this,Wo,t.signatureData||null),v(this,Nr,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,s){De.initialize(t,s),this._defaultDrawingOptions=new Qx,this._defaultDrawnSignatureOptions=new Jx(s.viewParameters)}static getDefaultDrawingOptions(t){const s=this._defaultDrawingOptions.clone();return s.updateProperties(t),s}static get supportMultipleDrawings(){return!1}static get typesMap(){return fe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!l(this,Nr)}}static computeTelemetryFinalData(t){const s=t.get("hasDescription");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,s;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,s=this.y),super.render(),this._drawId===null)if(l(this,Wo)){const{lines:i,mustSmooth:o,areContours:a,description:c,uuid:u,heightInPage:d}=l(this,Wo),{rawDims:{pageWidth:h,pageHeight:f},rotation:p}=this.parent.viewport,y=jr.processDrawnLines({lines:i,pageWidth:h,pageHeight:f,rotation:p,innerMargin:Dn._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(y,d,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return r&&(this._isCopy=!0,this._moveAfterPaste(t,s)),this.div}setUuid(t){v(this,Xl,t),this.addEditToolbar()}getUuid(){return l(this,Xl)}get description(){return l(this,Nr)}set description(t){v(this,Nr,t),super.addEditToolbar().then(s=>{s==null||s.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:s,thickness:r,width:i,height:o}=l(this,Wo),a=Math.max(i,o),c=jr.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:r,width:i,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:s});return{areContours:s,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,s,r,i){const{x:o,y:a}=this,{outline:c}=v(this,Wo,t);v(this,Vo,c instanceof ob),this.description=r,this.div.setAttribute("data-l10n-args",JSON.stringify({description:r}));let u;l(this,Vo)?u=Dn.getDefaultDrawingOptions():(u=Dn._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[d,h]=this.parentDimensions,[,f]=this.pageDimensions;let p=s/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(d*this.width,h*this.height),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:s,pageHeight:r},rotation:i}=this.parent.viewport;return jr.process(t,s,r,i,Dn._INNER_MARGIN)}getFromText(t,s){const{rawDims:{pageWidth:r,pageHeight:i},rotation:o}=this.parent.viewport;return jr.extractContoursFromText(t,s,r,i,o,Dn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:s,pageHeight:r},rotation:i}=this.parent.viewport;return jr.processDrawnLines({lines:t,pageWidth:s,pageHeight:r,rotation:i,innerMargin:Dn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:s}){t?this._drawingOptions=Dn.getDefaultDrawingOptions():(this._drawingOptions=Dn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":s}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:s,points:r,rect:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,a={annotationType:ie.SIGNATURE,isSignature:!0,areContours:l(this,Vo),color:[0,0,0],thickness:l(this,Vo)?0:o,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(a.paths={lines:s,points:r},a.uuid=l(this,Xl),a.isCopy=!0):a.lines=s,l(this,Nr)&&(a.accessibilityData={type:"Figure",alt:l(this,Nr)}),a}static deserializeDraw(t,s,r,i,o,a){return a.areContours?ob.deserialize(t,s,r,i,o,a):Vp.deserialize(t,s,r,i,o,a)}static async deserialize(t,s,r){var o;const i=await super.deserialize(t,s,r);return v(i,Vo,t.areContours),v(i,Nr,((o=t.accessibilityData)==null?void 0:o.alt)||""),v(i,Xl,t.uuid),i}};Vo=new WeakMap,Nr=new WeakMap,Wo=new WeakMap,Xl=new WeakMap,$(Dn,"_type","signature"),$(Dn,"_editorType",ie.SIGNATURE),$(Dn,"_defaultDrawingOptions",null);let db=Dn;var He,Tt,Go,Pi,Xo,id,ki,ql,Ir,qn,od,we,uh,dh,cm,um,dm,fb,hm,Zk;class hb extends De{constructor(t){super({...t,name:"stampEditor"});A(this,we);A(this,He,null);A(this,Tt,null);A(this,Go,null);A(this,Pi,null);A(this,Xo,null);A(this,id,"");A(this,ki,null);A(this,ql,!1);A(this,Ir,null);A(this,qn,!1);A(this,od,!1);v(this,Pi,t.bitmapUrl),v(this,Xo,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,s){De.initialize(t,s)}static isHandlingMimeForPasting(t){return Ym.includes(t)}static paste(t,s){s.pasteEditor({mode:ie.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const s=t.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(t=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:i,width:o,height:a,channels:i.length/(o*a)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),s&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;l(this,Tt)&&(v(this,He,null),this._uiManager.imageManager.deleteId(l(this,Tt)),(t=l(this,ki))==null||t.remove(),v(this,ki,null),l(this,Ir)&&(clearTimeout(l(this,Ir)),v(this,Ir,null))),super.remove()}rebuild(){if(!this.parent){l(this,Tt)&&E(this,we,cm).call(this);return}super.rebuild(),this.div!==null&&(l(this,Tt)&&l(this,ki)===null&&E(this,we,cm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(l(this,Go)||l(this,He)||l(this,Pi)||l(this,Xo)||l(this,Tt)||l(this,ql))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,s;return this._isCopy&&(t=this.x,s=this.y),super.render(),this.div.hidden=!0,this.createAltText(),l(this,ql)||(l(this,He)?E(this,we,um).call(this):E(this,we,cm).call(this)),this._isCopy&&this._moveAfterPaste(t,s),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,s){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,s);s.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(v(this,Tt,r),i&&v(this,He,i),v(this,ql,!1),E(this,we,um).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;l(this,Ir)!==null&&clearTimeout(l(this,Ir)),v(this,Ir,setTimeout(()=>{v(this,Ir,null),E(this,we,fb).call(this)},200))}copyCanvas(t,s,r=!1){var p;t||(t=224);const{width:i,height:o}=l(this,He),a=new ir;let c=l(this,He),u=i,d=o,h=null;if(s){if(i>s||o>s){const R=Math.min(s/i,s/o);u=Math.floor(i*R),d=Math.floor(o*R)}h=document.createElement("canvas");const y=h.width=Math.ceil(u*a.sx),g=h.height=Math.ceil(d*a.sy);l(this,qn)||(c=E(this,we,dm).call(this,y,g));const b=h.getContext("2d");b.filter=this._uiManager.hcmFilter;let m="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(m="#8f8f9d",w="#42414d");const x=15,S=x*a.sx,C=x*a.sy,T=new OffscreenCanvas(S*2,C*2),P=T.getContext("2d");P.fillStyle=m,P.fillRect(0,0,S*2,C*2),P.fillStyle=w,P.fillRect(0,0,S,C),P.fillRect(S,C,S,C),b.fillStyle=b.createPattern(T,"repeat"),b.fillRect(0,0,y,g),b.drawImage(c,0,0,c.width,c.height,0,0,y,g)}let f=null;if(r){let y,g;if(a.symmetric&&c.width<t&&c.height<t)y=c.width,g=c.height;else if(c=l(this,He),i>t||o>t){const w=Math.min(t/i,t/o);y=Math.floor(i*w),g=Math.floor(o*w),l(this,qn)||(c=E(this,we,dm).call(this,y,g))}const m=new OffscreenCanvas(y,g).getContext("2d",{willReadFrequently:!0});m.drawImage(c,0,0,c.width,c.height,0,0,y,g),f={width:y,height:g,data:m.getImageData(0,0,y,g).data}}return{canvas:h,width:u,height:d,imageData:f}}static async deserialize(t,s,r){var b;let i=null,o=!1;if(t instanceof pk){const{data:{rect:m,rotation:w,id:x,structParent:S,popupRef:C},container:T,parent:{page:{pageNumber:P}},canvas:R}=t;let L,M;R?(delete t.canvas,{id:L,bitmap:M}=r.imageManager.getFromCanvas(T.id,R),R.remove()):(o=!0,t._hasNoCanvas=!0);const D=((b=await s._structTree.getAriaAttributes(`${$x}${x}`))==null?void 0:b.get("aria-label"))||"";i=t={annotationType:ie.STAMP,bitmapId:L,bitmap:M,pageIndex:P-1,rect:m.slice(0),rotation:w,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:D},isSvg:!1,structParent:S,popupRef:C}}const a=await super.deserialize(t,s,r),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:p}=t;o?(r.addMissingCanvas(t.id,a),v(a,ql,!0)):h&&r.imageManager.isValidId(h)?(v(a,Tt,h),u&&v(a,He,u)):v(a,Pi,d),v(a,qn,f);const[y,g]=a.pageDimensions;return a.width=(c[2]-c[0])/y,a.height=(c[3]-c[1])/g,p&&(a.altTextData=p),a._initialData=i,v(a,od,!!i),a}serialize(t=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:ie.STAMP,bitmapId:l(this,Tt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:l(this,qn),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=E(this,we,hm).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:o}=this.serializeAltText(!1);if(!i&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=E(this,we,Zk).call(this,r);if(c.isSame)return null;c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const a=l(this,qn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(l(this,Tt)))s.stamps.set(l(this,Tt),{area:a,serialized:r}),r.bitmap=E(this,we,hm).call(this,!1);else if(l(this,qn)){const c=s.stamps.get(l(this,Tt));a>c.area&&(c.area=a,c.serialized.bitmap.close(),c.serialized.bitmap=E(this,we,hm).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}He=new WeakMap,Tt=new WeakMap,Go=new WeakMap,Pi=new WeakMap,Xo=new WeakMap,id=new WeakMap,ki=new WeakMap,ql=new WeakMap,Ir=new WeakMap,qn=new WeakMap,od=new WeakMap,we=new WeakSet,uh=function(t,s=!1){if(!t){this.remove();return}v(this,He,t.bitmap),s||(v(this,Tt,t.id),v(this,qn,t.isSvg)),t.file&&v(this,id,t.file.name),E(this,we,um).call(this)},dh=function(){if(v(this,Go,null),this._uiManager.enableWaiting(!1),!!l(this,ki)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,He)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,He)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},cm=function(){if(l(this,Tt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,Tt)).then(r=>E(this,we,uh).call(this,r,!0)).finally(()=>E(this,we,dh).call(this));return}if(l(this,Pi)){const r=l(this,Pi);v(this,Pi,null),this._uiManager.enableWaiting(!0),v(this,Go,this._uiManager.imageManager.getFromUrl(r).then(i=>E(this,we,uh).call(this,i)).finally(()=>E(this,we,dh).call(this)));return}if(l(this,Xo)){const r=l(this,Xo);v(this,Xo,null),this._uiManager.enableWaiting(!0),v(this,Go,this._uiManager.imageManager.getFromFile(r).then(i=>E(this,we,uh).call(this,i)).finally(()=>E(this,we,dh).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Ym.join(",");const s=this._uiManager._signal;v(this,Go,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),E(this,we,uh).call(this,i)}r()},{signal:s}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>E(this,we,dh).call(this))),t.click()},um=function(){var h;const{div:t}=this;let{width:s,height:r}=l(this,He);const[i,o]=this.pageDimensions,a=.75;if(this.width)s=this.width*i,r=this.height*o;else if(s>a*i||r>a*o){const f=Math.min(a*i/s,a*o/r);s*=f,r*=f}const[c,u]=this.parentDimensions;this.setDims(s*c/i,r*u/o),this._uiManager.enableWaiting(!1);const d=v(this,ki,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),this.width=s/i,this.height=r/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),E(this,we,fb).call(this),l(this,od)||(this.parent.addUndoableEditor(this),v(this,od,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,id)&&this.div.setAttribute("aria-description",l(this,id)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},dm=function(t,s){const{width:r,height:i}=l(this,He);let o=r,a=i,c=l(this,He);for(;o>2*t||a>2*s;){const u=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*s&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(c,0,0,u,d,0,0,o,a),c=h.transferToImageBitmap()}return c},fb=function(){const[t,s]=this.parentDimensions,{width:r,height:i}=this,o=new ir,a=Math.ceil(r*t*o.sx),c=Math.ceil(i*s*o.sy),u=l(this,ki);if(!u||u.width===a&&u.height===c)return;u.width=a,u.height=c;const d=l(this,qn)?l(this,He):E(this,we,dm).call(this,a,c),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,a,c)},hm=function(t){if(t){if(l(this,qn)){const i=this._uiManager.imageManager.getSvgUrl(l(this,Tt));if(i)return i}const s=document.createElement("canvas");return{width:s.width,height:s.height}=l(this,He),s.getContext("2d").drawImage(l(this,He),0,0),s.toDataURL()}if(l(this,qn)){const[s,r]=this.pageDimensions,i=Math.round(this.width*s*Wi.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Wi.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,o);return a.getContext("2d").drawImage(l(this,He),0,0,l(this,He).width,l(this,He).height,0,0,i,o),a.transferToImageBitmap()}return structuredClone(l(this,He))},Zk=function(t){var a;const{pageIndex:s,accessibilityData:{altText:r}}=this._initialData,i=t.pageIndex===s,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&o,isSameAltText:o}},$(hb,"_type","stamp"),$(hb,"_editorType",ie.STAMP);var Yl,ad,Dr,qo,Ri,Yn,Yo,ld,Kl,qs,Li,Pt,Mi,Ko,cd,ee,Qo,Ue,eR,pr,pb,gb,fm;const Ns=class Ns{constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:r,accessibilityManager:i,annotationLayer:o,drawLayer:a,textLayer:c,viewport:u,l10n:d}){A(this,Ue);A(this,Yl);A(this,ad,!1);A(this,Dr,null);A(this,qo,null);A(this,Ri,null);A(this,Yn,new Map);A(this,Yo,!1);A(this,ld,!1);A(this,Kl,!1);A(this,qs,null);A(this,Li,null);A(this,Pt,null);A(this,Mi,null);A(this,Ko,null);A(this,cd,-1);A(this,ee);const h=[...l(Ns,Qo).values()];if(!Ns._initialized){Ns._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),v(this,ee,e),this.pageIndex=t,this.div=s,v(this,Yl,i),v(this,Dr,o),this.viewport=u,v(this,Pt,c),this.drawLayer=a,this._structTree=r,l(this,ee).addLayer(this)}get isEmpty(){return l(this,Yn).size===0}get isInvisible(){return this.isEmpty&&l(this,ee).getMode()===ie.NONE}updateToolbar(e){l(this,ee).updateToolbar(e)}updateMode(e=l(this,ee).getMode()){switch(E(this,Ue,fm).call(this),e){case ie.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ie.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ie.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const s of l(Ns,Qo).values())t.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=l(this,Pt))==null?void 0:t.div)}setEditingState(e){l(this,ee).setEditingState(e)}addCommands(e){l(this,ee).addCommands(e)}cleanUndoStack(e){l(this,ee).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=l(this,Dr))==null||t.div.classList.toggle("disabled",!e)}async enable(){var s;v(this,Kl,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(s=l(this,Ko))==null||s.abort(),v(this,Ko,null);const e=new Set;for(const r of l(this,Yn).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(l(this,ee).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!l(this,Dr)){v(this,Kl,!1);return}const t=l(this,Dr).getEditableAnnotations();for(const r of t){if(r.hide(),l(this,ee).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}v(this,Kl,!1)}disable(){var r;if(v(this,ld,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),l(this,Pt)&&!l(this,Ko)){v(this,Ko,new AbortController);const i=l(this,ee).combinedSignal(l(this,Ko));l(this,Pt).div.addEventListener("pointerdown",o=>{const{clientX:c,clientY:u,timeStamp:d}=o,h=l(this,cd);if(d-h>500){v(this,cd,d);return}v(this,cd,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(c,u);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let y;const g=new RegExp(`^${VT}[0-9]+$`);for(const m of p)if(g.test(m.id)){y=m.id;break}if(!y)return;const b=l(this,Yn).get(y);(b==null?void 0:b.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),b.dblclick())},{signal:i,capture:!0})}const e=new Map,t=new Map;for(const i of l(this,Yn).values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);(r=this.getEditableAnnotation(i.annotationElementId))==null||r.show(),i.remove()}if(l(this,Dr)){const i=l(this,Dr).getEditableAnnotations();for(const o of i){const{id:a}=o.data;if(l(this,ee).isDeletedAnnotationElement(a))continue;let c=t.get(a);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=e.get(a),c&&(l(this,ee).addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}E(this,Ue,fm).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const i of l(Ns,Qo).values())s.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),v(this,ld,!1)}getEditableAnnotation(e){var t;return((t=l(this,Dr))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){l(this,ee).getActive()!==e&&l(this,ee).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=l(this,Pt))!=null&&e.div&&!l(this,Mi)){v(this,Mi,new AbortController);const t=l(this,ee).combinedSignal(l(this,Mi));l(this,Pt).div.addEventListener("pointerdown",E(this,Ue,eR).bind(this),{signal:t}),l(this,Pt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=l(this,Pt))!=null&&e.div&&l(this,Mi)&&(l(this,Mi).abort(),v(this,Mi,null),l(this,Pt).div.classList.remove("highlighting"))}enableClick(){if(l(this,qo))return;v(this,qo,new AbortController);const e=l(this,ee).combinedSignal(l(this,qo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=l(this,qo))==null||e.abort(),v(this,qo,null)}attach(e){l(this,Yn).set(e.id,e);const{annotationElementId:t}=e;t&&l(this,ee).isDeletedAnnotationElement(t)&&l(this,ee).removeDeletedAnnotationElement(e)}detach(e){var t;l(this,Yn).delete(e.id),(t=l(this,Yl))==null||t.removePointerInTextLayer(e.contentDiv),!l(this,ld)&&e.annotationElementId&&l(this,ee).addDeletedAnnotationElement(e)}remove(e){this.detach(e),l(this,ee).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(l(this,ee).addDeletedAnnotationElement(e.annotationElementId),De.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),l(this,ee).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!l(this,Kl)),l(this,ee).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!l(this,Ri)&&(e._focusEventsAllowed=!1,v(this,Ri,setTimeout(()=>{v(this,Ri,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:l(this,ee)._signal}),t.focus())},0))),e._structTreeParentId=(s=l(this,Yl))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getNextId(){return l(this,ee).getId()}combinedSignal(e){return l(this,ee).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=l(this,Ue,pr))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await l(this,ee).updateMode(e.mode);const{offsetX:s,offsetY:r}=E(this,Ue,gb).call(this),i=this.getNextId(),o=E(this,Ue,pb).call(this,{parent:this,id:i,x:s,y:r,uiManager:l(this,ee),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=l(Ns,Qo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,l(this,ee)))||null}createAndAddNewEditor(e,t,s={}){const r=this.getNextId(),i=E(this,Ue,pb).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:l(this,ee),isCentered:t,...s});return i&&this.add(i),i}addNewEditor(e={}){this.createAndAddNewEditor(E(this,Ue,gb).call(this),!0,e)}setSelected(e){l(this,ee).setSelected(e)}toggleSelected(e){l(this,ee).toggleSelected(e)}unselect(e){l(this,ee).unselect(e)}pointerup(e){var r;const{isMac:t}=Lt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!l(this,Yo)||(v(this,Yo,!1),(r=l(this,Ue,pr))!=null&&r.isDrawer&&l(this,Ue,pr).supportMultipleDrawings))return;if(!l(this,ad)){v(this,ad,!0);return}const s=l(this,ee).getMode();if(s===ie.STAMP||s===ie.SIGNATURE){l(this,ee).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(l(this,ee).getMode()===ie.HIGHLIGHT&&this.enableTextSelection(),l(this,Yo)){v(this,Yo,!1);return}const{isMac:t}=Lt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(v(this,Yo,!0),(r=l(this,Ue,pr))!=null&&r.isDrawer){this.startDrawingSession(e);return}const s=l(this,ee).getActive();v(this,ad,!s||s.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),l(this,qs)){l(this,Ue,pr).startDrawing(this,l(this,ee),!1,e);return}l(this,ee).setCurrentDrawingSession(this),v(this,qs,new AbortController);const t=l(this,ee).combinedSignal(l(this,qs));this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(v(this,Li,null),this.commitOrRemove())},{signal:t}),l(this,Ue,pr).startDrawing(this,l(this,ee),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&v(this,Li,t);return}l(this,Li)&&setTimeout(()=>{var t;(t=l(this,Li))==null||t.focus(),v(this,Li,null)},0)}endDrawingSession(e=!1){return l(this,qs)?(l(this,ee).setCurrentDrawingSession(null),l(this,qs).abort(),v(this,qs,null),v(this,Li,null),l(this,Ue,pr).endDrawing(e)):null}findNewParent(e,t,s){const r=l(this,ee).findParent(t,s);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return l(this,qs)?(this.endDrawingSession(),!0):!1}onScaleChanging(){l(this,qs)&&l(this,Ue,pr).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=l(this,ee).getActive())==null?void 0:e.parent)===this&&(l(this,ee).commitOrRemove(),l(this,ee).setActiveEditor(null)),l(this,Ri)&&(clearTimeout(l(this,Ri)),v(this,Ri,null));for(const s of l(this,Yn).values())(t=l(this,Yl))==null||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,l(this,Yn).clear(),l(this,ee).removeLayer(this)}render({viewport:e}){this.viewport=e,ga(this.div,e);for(const t of l(this,ee).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){l(this,ee).commitOrRemove(),E(this,Ue,fm).call(this);const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,ga(this.div,{rotation:s}),t!==s)for(const r of l(this,Yn).values())r.rotate(s)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return l(this,ee).viewParameters.realScale}};Yl=new WeakMap,ad=new WeakMap,Dr=new WeakMap,qo=new WeakMap,Ri=new WeakMap,Yn=new WeakMap,Yo=new WeakMap,ld=new WeakMap,Kl=new WeakMap,qs=new WeakMap,Li=new WeakMap,Pt=new WeakMap,Mi=new WeakMap,Ko=new WeakMap,cd=new WeakMap,ee=new WeakMap,Qo=new WeakMap,Ue=new WeakSet,eR=function(e){l(this,ee).unselectAll();const{target:t}=e;if(t===l(this,Pt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&l(this,Pt).div.contains(t)){const{isMac:s}=Lt.platform;if(e.button!==0||e.ctrlKey&&s)return;l(this,ee).showAllEditors("highlight",!0,!0),l(this,Pt).div.classList.add("free"),this.toggleDrawing(),Jm.startHighlighting(this,l(this,ee).direction==="ltr",{target:l(this,Pt).div,x:e.x,y:e.y}),l(this,Pt).div.addEventListener("pointerup",()=>{l(this,Pt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,ee)._signal}),e.preventDefault()}},pr=function(){return l(Ns,Qo).get(l(this,ee).getMode())},pb=function(e){const t=l(this,Ue,pr);return t?new t.prototype.constructor(e):null},gb=function(){const{x:e,y:t,width:s,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+s),c=Math.min(window.innerHeight,t+r),u=(i+a)/2-e,d=(o+c)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},fm=function(){for(const e of l(this,Yn).values())e.isEmpty()&&e.remove()},$(Ns,"_initialized",!1),A(Ns,Qo,new Map([Gw,ib,hb,Jm,db].map(e=>[e._editorType,e])));let ey=Ns;var Ys,dn,Ql,Tp,by,tR,Vr,mb,nR,yb;const ft=class ft{constructor({pageIndex:e}){A(this,Vr);A(this,Ys,null);A(this,dn,new Map);A(this,Ql,new Map);this.pageIndex=e}setParent(e){if(!l(this,Ys)){v(this,Ys,e);return}if(l(this,Ys)!==e){if(l(this,dn).size>0)for(const t of l(this,dn).values())t.remove(),e.append(t);v(this,Ys,e)}}static get _svgFactory(){return fe(this,"_svgFactory",new Yh)}draw(e,t=!1,s=!1){const r=xt(ft,Tp)._++,i=E(this,Vr,mb).call(this),o=ft._svgFactory.createElement("defs");i.append(o);const a=ft._svgFactory.createElement("path");o.append(a);const c=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",c),a.setAttribute("vector-effect","non-scaling-stroke"),t&&l(this,Ql).set(r,a);const u=s?E(this,Vr,nR).call(this,o,c):null,d=ft._svgFactory.createElement("use");return i.append(d),d.setAttribute("href",`#${c}`),this.updateProperties(i,e),l(this,dn).set(r,i),{id:r,clipPathId:`url(#${u})`}}drawOutline(e,t){const s=xt(ft,Tp)._++,r=E(this,Vr,mb).call(this),i=ft._svgFactory.createElement("defs");r.append(i);const o=ft._svgFactory.createElement("path");i.append(o);const a=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const h=ft._svgFactory.createElement("mask");i.append(h),c=`mask_p${this.pageIndex}_${s}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const f=ft._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=ft._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=ft._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${a}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return r.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(r,e),l(this,dn).set(s,r),s}finalizeDraw(e,t){l(this,Ql).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:s,bbox:r,rootClass:i,path:o}=t,a=typeof e=="number"?l(this,dn).get(e):e;if(a){if(s&&E(this,Vr,yb).call(this,a,s),r&&E(c=ft,by,tR).call(c,a,r),i){const{classList:u}=a;for(const[d,h]of Object.entries(i))u.toggle(d,h)}if(o){const d=a.firstChild.firstChild;E(this,Vr,yb).call(this,d,o)}}}updateParent(e,t){if(t===this)return;const s=l(this,dn).get(e);s&&(l(t,Ys).append(s),l(this,dn).delete(e),l(t,dn).set(e,s))}remove(e){l(this,Ql).delete(e),l(this,Ys)!==null&&(l(this,dn).get(e).remove(),l(this,dn).delete(e))}destroy(){v(this,Ys,null);for(const e of l(this,dn).values())e.remove();l(this,dn).clear(),l(this,Ql).clear()}};Ys=new WeakMap,dn=new WeakMap,Ql=new WeakMap,Tp=new WeakMap,by=new WeakSet,tR=function(e,[t,s,r,i]){const{style:o}=e;o.top=`${100*s}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*i}%`},Vr=new WeakSet,mb=function(){const e=ft._svgFactory.create(1,1,!0);return l(this,Ys).append(e),e.setAttribute("aria-hidden",!0),e},nR=function(e,t){const s=ft._svgFactory.createElement("clipPath");e.append(s);const r=`clip_${t}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const i=ft._svgFactory.createElement("use");return s.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),r},yb=function(e,t){for(const[s,r]of Object.entries(t))r===null?e.removeAttribute(s):e.setAttribute(s,r)},A(ft,by),A(ft,Tp,0);let ty=ft;globalThis._pdfjsTestingUtils={HighlightOutliner:qw};globalThis.pdfjsLib={AbortException:Vi,AnnotationEditorLayer:ey,AnnotationEditorParamsType:ge,AnnotationEditorType:ie,AnnotationEditorUIManager:ma,AnnotationLayer:Kx,AnnotationMode:Fr,AnnotationType:nt,build:nk,ColorPicker:Kh,createValidAbsoluteUrl:jx,DOMSVGFactory:Yh,DrawLayer:ty,FeatureTest:Lt,fetchData:Pd,getDocument:Gx,getFilenameFromUrl:KT,getPdfFilenameFromUrl:QT,getUuid:zx,getXfaPageViewport:JT,GlobalWorkerOptions:ws,ImageKind:Ah,InvalidPDFException:qm,isDataScheme:$p,isPdfFile:Jy,isValidExplicitDest:MP,MathClamp:Zt,noContextMenu:_s,normalizeUnicode:qT,OPS:Vh,OutputScale:ir,PasswordResponses:GT,PDFDataRangeTransport:Xx,PDFDateString:Zy,PDFWorker:wd,PermissionFlag:WT,PixelsPerInch:Wi,RenderingCancelledException:Qy,ResponseException:Wh,setLayerDimensions:ga,shadow:fe,SignatureExtractor:jr,stopEvent:it,SupportedImageMimeTypes:Ym,TextLayer:Xh,TouchManager:Gh,updateUrlHash:Bx,Util:te,VerbosityLevel:jp,version:tk,XfaLayer:qx};const i3=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Vi,AnnotationEditorLayer:ey,AnnotationEditorParamsType:ge,AnnotationEditorType:ie,AnnotationEditorUIManager:ma,AnnotationLayer:Kx,AnnotationMode:Fr,AnnotationType:nt,ColorPicker:Kh,DOMSVGFactory:Yh,DrawLayer:ty,FeatureTest:Lt,GlobalWorkerOptions:ws,ImageKind:Ah,InvalidPDFException:qm,MathClamp:Zt,OPS:Vh,OutputScale:ir,PDFDataRangeTransport:Xx,PDFDateString:Zy,PDFWorker:wd,PasswordResponses:GT,PermissionFlag:WT,PixelsPerInch:Wi,RenderingCancelledException:Qy,ResponseException:Wh,SignatureExtractor:jr,SupportedImageMimeTypes:Ym,TextLayer:Xh,TouchManager:Gh,Util:te,VerbosityLevel:jp,XfaLayer:qx,build:nk,createValidAbsoluteUrl:jx,fetchData:Pd,getDocument:Gx,getFilenameFromUrl:KT,getPdfFilenameFromUrl:QT,getUuid:zx,getXfaPageViewport:JT,isDataScheme:$p,isPdfFile:Jy,isValidExplicitDest:MP,noContextMenu:_s,normalizeUnicode:qT,setLayerDimensions:ga,shadow:fe,stopEvent:it,updateUrlHash:Bx,version:tk},Symbol.toStringTag,{value:"Module"}));var CS=Object.prototype.hasOwnProperty;function _S(n,e,t){for(t of n.keys())if(qc(t,e))return t}function qc(n,e){var t,s,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((s=n.length)===e.length)for(;s--&&qc(n[s],e[s]););return s===-1}if(t===Set){if(n.size!==e.size)return!1;for(s of n)if(r=s,r&&typeof r=="object"&&(r=_S(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(s of n)if(r=s[0],r&&typeof r=="object"&&(r=_S(e,r),!r)||!qc(s[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((s=n.byteLength)===e.byteLength)for(;s--&&n.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(n)){if((s=n.byteLength)===e.byteLength)for(;s--&&n[s]===e[s];);return s===-1}if(!t||typeof n=="object"){s=0;for(t in n)if(CS.call(n,t)&&++s&&!CS.call(e,t)||!(t in e)||!qc(n[t],e[t]))return!1;return Object.keys(e).length===s}}return n!==n&&e!==e}function Wp(n){let e=!1;return{promise:new Promise((s,r)=>{n.then(i=>!e&&s(i)).catch(i=>!e&&r(i))}),cancel(){e=!0}}}const o3=["onCopy","onCut","onPaste"],a3=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],l3=["onFocus","onBlur"],c3=["onInput","onInvalid","onReset","onSubmit"],u3=["onLoad","onError"],d3=["onKeyDown","onKeyPress","onKeyUp"],h3=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],f3=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],p3=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],g3=["onSelect"],m3=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],y3=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],v3=["onScroll"],w3=["onWheel"],b3=["onAnimationStart","onAnimationEnd","onAnimationIteration"],x3=["onTransitionEnd"],A3=["onToggle"],E3=["onChange"],S3=[...o3,...a3,...l3,...c3,...u3,...d3,...h3,...f3,...p3,...g3,...m3,...y3,...v3,...w3,...b3,...x3,...E3,...A3];function sR(n,e){const t={};for(const s of S3){const r=n[s];r&&(e?t[s]=i=>r(i,e(s)):t[s]=r)}return t}var C3="Invariant failed";function Me(n,e){if(!n)throw new Error(C3)}var _3=function(){},T3=_3;const tn=bb(T3),rR=_.createContext(null),P3="noopener noreferrer nofollow";class k3{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Me(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Me(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Me(this.pdfDocument),Me(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Me(Array.isArray(t));const s=t[0];new Promise(r=>{Me(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(i=>{r(i)}).catch(()=>{Me(!1)}):typeof s=="number"?r(s):Me(!1)}).then(r=>{const i=r+1;Me(this.pdfViewer),Me(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:i})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Me(this.pdfViewer),Me(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||P3,e.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function Yc({children:n,type:e}){return k.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const TS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function R3(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function bd(){return _.useReducer(R3,{value:void 0,error:void 0})}const nv=typeof window<"u",iR=nv&&window.location.protocol==="file:";function L3(n){return typeof n<"u"}function Sa(n){return L3(n)&&n!==null}function M3(n){return typeof n=="string"}function N3(n){return n instanceof ArrayBuffer}function I3(n){return Me(nv),n instanceof Blob}function vb(n){return M3(n)&&/^data:/.test(n)}function PS(n){Me(vb(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function D3(){return nv&&window.devicePixelRatio||1}const oR="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function kS(){tn(!iR,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${oR}`)}function O3(){tn(!iR,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${oR}`)}function lc(n){n!=null&&n.cancel&&n.cancel()}function wb(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function F3(n){return n.name==="RenderingCancelledException"}function j3(n){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:i}=r.target;if(!i)return t(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:B3}=i3,z3=(n,e)=>{switch(e){case TS.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case TS.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function RS(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const $3=_.forwardRef(function({children:e,className:t,error:s="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:i,file:o,inputRef:a,imageResourcesPath:c,loading:u="Loading PDF…",noData:d="No PDF file specified.",onItemClick:h,onLoadError:f,onLoadProgress:p,onLoadSuccess:y,onPassword:g=z3,onSourceError:b,onSourceSuccess:m,options:w,renderMode:x,rotate:S,scale:C,...T},P){const[R,L]=bd(),{value:M,error:D}=R,[B,V]=bd(),{value:I,error:K}=B,O=_.useRef(new k3),j=_.useRef([]),N=_.useRef(void 0),F=_.useRef(void 0);o&&o!==N.current&&RS(o)&&(tn(!qc(o,N.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),N.current=o),w&&w!==F.current&&(tn(!qc(w,F.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),F.current=w);const U=_.useRef({scrollPageIntoView:ue=>{const{dest:Se,pageNumber:We,pageIndex:Ge=We-1}=ue;if(h){h({dest:Se,pageIndex:Ge,pageNumber:We});return}const ar=j.current[Ge];if(ar){ar.scrollIntoView();return}tn(!1,`An internal link leading to page ${We} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});_.useImperativeHandle(P,()=>({linkService:O,pages:j,viewer:U}),[]);function ne(){m&&m()}function W(){D&&(tn(!1,D.toString()),b&&b(D))}function Q(){L({type:"RESET"})}_.useEffect(Q,[o,L]);const se=_.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return vb(o)?{data:PS(o)}:(kS(),{url:o});if(o instanceof B3)return{range:o};if(N3(o))return{data:o};if(nv&&I3(o))return{data:await j3(o)};if(Me(typeof o=="object"),Me(RS(o)),"url"in o&&typeof o.url=="string"){if(vb(o.url)){const{url:ue,...Se}=o;return{data:PS(ue),...Se}}kS()}return o},[o]);_.useEffect(()=>{const ue=Wp(se());return ue.promise.then(Se=>{L({type:"RESOLVE",value:Se})}).catch(Se=>{L({type:"REJECT",error:Se})}),()=>{lc(ue)}},[se,L]),_.useEffect(()=>{if(!(typeof M>"u")){if(M===!1){W();return}ne()}},[M]);function me(){I&&(y&&y(I),j.current=new Array(I.numPages),O.current.setDocument(I))}function be(){K&&(tn(!1,K.toString()),f&&f(K))}_.useEffect(function(){V({type:"RESET"})},[V,M]),_.useEffect(function(){if(!M)return;const Se=w?{...M,...w}:M,We=Gx(Se);p&&(We.onProgress=p),g&&(We.onPassword=g);const Ge=We,ar=Ge.promise.then(Ts=>{V({type:"RESOLVE",value:Ts})}).catch(Ts=>{Ge.destroyed||V({type:"REJECT",error:Ts})});return()=>{ar.finally(()=>Ge.destroy())}},[w,V,M]),_.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){be();return}me()}},[I]),_.useEffect(function(){O.current.setViewer(U.current),O.current.setExternalLinkRel(r),O.current.setExternalLinkTarget(i)},[r,i]);const Z=_.useCallback((ue,Se)=>{j.current[ue]=Se},[]),Nt=_.useCallback(ue=>{delete j.current[ue]},[]),lt=_.useMemo(()=>({imageResourcesPath:c,linkService:O.current,onItemClick:h,pdf:I,registerPage:Z,renderMode:x,rotate:S,scale:C,unregisterPage:Nt}),[c,h,I,Z,x,S,C,Nt]),xe=_.useMemo(()=>sR(T,()=>I),[T,I]);function bt(){function ue(We){return!!(We!=null&&We.pdf)}if(!ue(lt))throw new Error("pdf is undefined");const Se=typeof e=="function"?e(lt):e;return k.jsx(rR.Provider,{value:lt,children:Se})}function Vt(){return o?I==null?k.jsx(Yc,{type:"loading",children:typeof u=="function"?u():u}):I===!1?k.jsx(Yc,{type:"error",children:typeof s=="function"?s():s}):bt():k.jsx(Yc,{type:"no-data",children:typeof d=="function"?d():d})}return k.jsx("div",{className:Sd("react-pdf__Document",t),ref:a,...xe,children:Vt()})});function aR(){return _.useContext(rR)}function lR(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(i){for(var o=0,a=t;o<a.length;o++){var c=a[o];typeof c=="function"?c(i):c&&(c.current=i)}}}const cR=_.createContext(null);function sv(){return _.useContext(cR)}function H3(){const n=aR(),e=sv();Me(e);const t={...n,...e},{imageResourcesPath:s,linkService:r,onGetAnnotationsError:i,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=t;Me(d),Me(u),Me(r);const[y,g]=bd(),{value:b,error:m}=y,w=_.useRef(null);tn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){b&&o&&o(b)}function S(){m&&(tn(!1,m.toString()),i&&i(m))}_.useEffect(function(){g({type:"RESET"})},[g,u]),_.useEffect(function(){if(!u)return;const L=Wp(u.getAnnotations()),M=L;return L.promise.then(D=>{g({type:"RESOLVE",value:D})}).catch(D=>{g({type:"REJECT",error:D})}),()=>{lc(M)}},[g,u]),_.useEffect(()=>{if(b!==void 0){if(b===!1){S();return}x()}},[b]);function C(){c&&c()}function T(R){tn(!1,`${R}`),a&&a(R)}const P=_.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return _.useEffect(function(){if(!d||!u||!r||!b)return;const{current:L}=w;if(!L)return;const M=P.clone({dontFlip:!0}),D={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:L,l10n:null,page:u,structTreeLayer:null,viewport:M},B={annotations:b,annotationStorage:d.annotationStorage,div:L,imageResourcesPath:s,linkService:r,page:u,renderForms:h,viewport:M};L.innerHTML="";try{new Kx(D).render(B),C()}catch(V){T(V)}return()=>{}},[b,s,r,u,d,h,P]),k.jsx("div",{className:Sd("react-pdf__Page__annotations","annotationLayer"),ref:w})}const uR={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},U3=/^H(\d+)$/;function V3(n){return n in uR}function rv(n){return"children"in n}function dR(n){return rv(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function W3(n){const e={};if(rv(n)){const{role:t}=n,s=t.match(U3);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(V3(t)){const r=uR[t];r&&(e.role=r)}}return e}function hR(n){const e={};if(rv(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),dR(n)){const[t]=n.children;if(t){const s=hR(t);return{...e,...s}}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function G3(n){return n?{...W3(n),...hR(n)}:null}function fR({className:n,node:e}){const t=_.useMemo(()=>G3(e),[e]),s=_.useMemo(()=>!rv(e)||dR(e)?null:e.children.map((r,i)=>k.jsx(fR,{node:r},i)),[e]);return k.jsx("span",{className:n,...t,children:s})}function X3(){const n=sv();Me(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[s,r]=bd(),{value:i,error:o}=s,{customTextRenderer:a,page:c}=n;function u(){i&&t&&t(i)}function d(){o&&(tn(!1,o.toString()),e&&e(o))}return _.useEffect(function(){r({type:"RESET"})},[r,c]),_.useEffect(function(){if(a||!c)return;const f=Wp(c.getStructTree()),p=f;return f.promise.then(y=>{r({type:"RESOLVE",value:y})}).catch(y=>{r({type:"REJECT",error:y})}),()=>lc(p)},[a,c,r]),_.useEffect(()=>{if(i!==void 0){if(i===!1){d();return}u()}},[i]),i?k.jsx(fR,{className:"react-pdf__Page__structTree structTree",node:i}):null}const LS=Fr;function q3(n){const e=sv();Me(e);const t={...e,...n},{_className:s,canvasBackground:r,devicePixelRatio:i=D3(),onRenderError:o,onRenderSuccess:a,page:c,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:p}=n;Me(c);const y=_.useRef(null);function g(){c&&a&&a(wb(c,f))}function b(S){F3(S)||(tn(!1,S.toString()),o&&o(S))}const m=_.useMemo(()=>c.getViewport({scale:f*i,rotation:h}),[i,c,h,f]),w=_.useMemo(()=>c.getViewport({scale:f,rotation:h}),[c,h,f]);_.useEffect(function(){if(!c)return;c.cleanup();const{current:C}=y;if(!C)return;C.width=m.width,C.height=m.height,C.style.width=`${Math.floor(w.width)}px`,C.style.height=`${Math.floor(w.height)}px`,C.style.visibility="hidden";const T={annotationMode:u?LS.ENABLE_FORMS:LS.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:m};r&&(T.background=r);const P=c.render(T),R=P;return P.promise.then(()=>{C.style.visibility="",g()}).catch(b),()=>lc(R)},[r,c,u,m,w]);const x=_.useCallback(()=>{const{current:S}=y;S&&(S.width=0,S.height=0)},[]);return _.useEffect(()=>x,[x]),k.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:lR(p,y),style:{display:"block",userSelect:"none"},children:d?k.jsx(X3,{}):null})}function Y3(n){return"str"in n}function K3(){const n=sv();Me(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:i,page:o,pageIndex:a,pageNumber:c,rotate:u,scale:d}=n;Me(o);const[h,f]=bd(),{value:p,error:y}=h,g=_.useRef(null);tn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function b(){p&&s&&s(p)}function m(){y&&(tn(!1,y.toString()),t&&t(y))}_.useEffect(function(){f({type:"RESET"})},[o,f]),_.useEffect(function(){if(!o)return;const R=Wp(o.getTextContent()),L=R;return R.promise.then(M=>{f({type:"RESOLVE",value:M})}).catch(M=>{f({type:"REJECT",error:M})}),()=>lc(L)},[o,f]),_.useEffect(()=>{if(p!==void 0){if(p===!1){m();return}b()}},[p]);const w=_.useCallback(()=>{i&&i()},[i]),x=_.useCallback(P=>{tn(!1,P.toString()),r&&r(P)},[r]);function S(){const P=g.current;P&&P.classList.add("selecting")}function C(){const P=g.current;P&&P.classList.remove("selecting")}const T=_.useMemo(()=>o.getViewport({scale:d,rotation:u}),[o,u,d]);return _.useLayoutEffect(function(){if(!o||!p)return;const{current:R}=g;if(!R)return;R.innerHTML="";const L=o.streamTextContent({includeMarkedContent:!0}),M={container:R,textContentSource:L,viewport:T},D=new Xh(M),B=D;return D.render().then(()=>{const V=document.createElement("div");V.className="endOfContent",R.append(V);const I=R.querySelectorAll('[role="presentation"]');if(e){let K=0;p.items.forEach((O,j)=>{if(!Y3(O))return;const N=I[K];if(!N)return;const F=e({pageIndex:a,pageNumber:c,itemIndex:j,...O});N.innerHTML=F,K+=O.str&&O.hasEOL?2:1})}w()}).catch(x),()=>lc(B)},[e,x,w,o,a,c,p,T]),k.jsx("div",{className:Sd("react-pdf__Page__textContent","textLayer"),onMouseUp:C,onMouseDown:S,ref:g})}const MS=1;function Q3(n){const t={...aR(),...n},{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:i,canvasRef:o,children:a,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:y,loading:g="Loading page…",noData:b="No page specified.",onGetAnnotationsError:m,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:S,onGetTextError:C,onGetTextSuccess:T,onLoadError:P,onLoadSuccess:R,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:M,onRenderError:D,onRenderSuccess:B,onRenderTextLayerError:V,onRenderTextLayerSuccess:I,pageIndex:K,pageNumber:O,pdf:j,registerPage:N,renderAnnotationLayer:F=!0,renderForms:U=!1,renderMode:ne="canvas",renderTextLayer:W=!0,rotate:Q,scale:se=MS,unregisterPage:me,width:be,...Z}=t,[Nt,lt]=bd(),{value:xe,error:bt}=Nt,Vt=_.useRef(null);Me(j);const ue=Sa(O)?O-1:K??null,Se=O??(Sa(K)?K+1:null),We=Q??(xe?xe.rotate:null),Ge=_.useMemo(()=>{if(!xe)return null;let rn=1;const qi=se??MS;if(be||p){const ur=xe.getViewport({scale:1,rotation:We});be?rn=be/ur.width:p&&(rn=p/ur.height)}return qi*rn},[p,xe,We,se,be]);_.useEffect(function(){return()=>{Sa(ue)&&r&&me&&me(ue)}},[r,j,ue,me]);function ar(){if(R){if(!xe||!Ge)return;R(wb(xe,Ge))}if(r&&N){if(!Sa(ue)||!Vt.current)return;N(ue,Vt.current)}}function Ts(){bt&&(tn(!1,bt.toString()),P&&P(bt))}_.useEffect(function(){lt({type:"RESET"})},[lt,j,ue]),_.useEffect(function(){if(!j||!Se)return;const qi=Wp(j.getPage(Se)),ur=qi;return qi.promise.then(Yi=>{lt({type:"RESOLVE",value:Yi})}).catch(Yi=>{lt({type:"REJECT",error:Yi})}),()=>lc(ur)},[lt,j,Se]),_.useEffect(()=>{if(xe!==void 0){if(xe===!1){Ts();return}ar()}},[xe,Ge]);const lr=_.useMemo(()=>Sa(ue)&&Se&&Sa(We)&&Sa(Ge)?{_className:s,canvasBackground:i,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:m,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:S,onGetTextError:C,onGetTextSuccess:T,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:M,onRenderError:D,onRenderSuccess:B,onRenderTextLayerError:V,onRenderTextLayerSuccess:I,page:xe,pageIndex:ue,pageNumber:Se,renderForms:U,renderTextLayer:W,rotate:We,scale:Ge}:null,[s,i,d,h,m,w,x,S,C,T,L,M,D,B,V,I,xe,ue,Se,U,W,We,Ge]),Gp=_.useMemo(()=>sR(Z,()=>xe&&(Ge?wb(xe,Ge):void 0)),[Z,xe,Ge]),cr=`${ue}@${Ge}/${We}`;function Xp(){switch(ne){case"custom":return Me(u),k.jsx(u,{},`${cr}_custom`);case"none":return null;case"canvas":default:return k.jsx(q3,{canvasRef:o},`${cr}_canvas`)}}function Gr(){return W?k.jsx(K3,{},`${cr}_text`):null}function iv(){return F?k.jsx(H3,{},`${cr}_annotations`):null}function ov(){function rn(ur){return!!(ur!=null&&ur.page)}if(!rn(lr))throw new Error("page is undefined");const qi=typeof a=="function"?a(lr):a;return k.jsxs(cR.Provider,{value:lr,children:[Xp(),Gr(),iv(),qi]})}function xn(){return Se?j===null||xe===void 0||xe===null?k.jsx(Yc,{type:"loading",children:typeof g=="function"?g():g}):j===!1||xe===!1?k.jsx(Yc,{type:"error",children:typeof f=="function"?f():f}):ov():k.jsx(Yc,{type:"no-data",children:typeof b=="function"?b():b})}return k.jsx("div",{className:Sd(s,c),"data-page-number":Se,ref:lR(y,Vt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Ge}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Gp,children:xn()})}O3();ws.workerSrc="pdf.worker.mjs";ws.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString();function J3(){const[n,e]=_.useState("light"),t=()=>{n==="light"?(document.documentElement.classList.add("dark"),e("dark")):(document.documentElement.classList.remove("dark"),e("light"))};return k.jsx(ec,{variant:"outline",size:"icon",onClick:t,children:n==="dark"?k.jsx(N_,{className:"h-5 w-5"}):k.jsx(M_,{className:"h-5 w-5"})})}function Z3(){const[n,e]=_.useState(null),[t,s]=_.useState(null),[r,i]=_.useState(null),[o,a]=_.useState(null),[c,u]=_.useState(1),[d,h]=_.useState(""),[f,p]=_.useState(""),[y,g]=_.useState(!1),[b,m]=_.useState(null),w="http://127.0.0.1:8000/analyze",x=async()=>{if(!n){alert("Please upload a resume first!");return}if(!d&&!f){alert("Please provide JD text or URL!");return}g(!0),m(null);try{const C=new FormData;C.append("resume",n),d.trim()&&C.append("jd_text",d),f.trim()&&C.append("jd_url",f);const P=await(await fetch(w,{method:"POST",body:C})).json();m(P)}catch(C){console.error(C),alert("Error calling backend. Check if it's running on port 8000.")}finally{g(!1)}},S=C=>{if(e(C),C)if(C.type==="application/pdf"){const T=URL.createObjectURL(C);i(T),s(null)}else{const T=new FileReader;T.onload=P=>{var L;const R=(L=P.target)==null?void 0:L.result;s(R==null?void 0:R.slice(0,1e3))},T.readAsText(C),i(null)}else i(null),s(null);a(null),u(1)};return k.jsx("div",{className:"min-h-screen bg-background text-foreground transition-colors duration-300",children:k.jsxs("div",{className:"p-6 space-y-6 max-w-6xl mx-auto",children:[k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"🧭 Career Gap Analyzer — Team Cypher29"}),k.jsx(J3,{})]}),k.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Upload your ",k.jsx("strong",{children:"Resume"})," and a ",k.jsx("strong",{children:"Job Description"}),". Instantly see matched skills, missing skills, and a personalized learning path."]}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[k.jsxs(oo,{children:[k.jsx(Ta,{children:k.jsx(Pa,{children:"Step 1: Upload Resume"})}),k.jsxs(ka,{children:[k.jsx(rw,{type:"file",accept:".pdf,.docx,.txt",onChange:C=>S(C.target.files?C.target.files[0]:null)}),n&&k.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Selected: ",n.name]}),r&&k.jsxs("div",{className:"mt-4 border rounded-md overflow-hidden",children:[k.jsx($3,{file:r,onLoadSuccess:({numPages:C})=>a(C),onLoadError:C=>console.error("PDF load error:",C),children:k.jsx(Q3,{pageNumber:c,width:400})}),k.jsxs("div",{className:"flex justify-between items-center mt-2 text-sm",children:[k.jsx(ec,{variant:"outline",size:"sm",onClick:()=>u(C=>Math.max(C-1,1)),disabled:c<=1,children:"Previous"}),k.jsxs("span",{children:["Page ",c," of ",o]}),k.jsx(ec,{variant:"outline",size:"sm",onClick:()=>u(C=>o?Math.min(C+1,o):C),disabled:c>=(o??1),children:"Next"})]})]}),t&&k.jsxs("div",{className:"mt-4 p-2 border rounded-md h-48 overflow-y-auto text-sm bg-gray-50 dark:bg-gray-900 dark:text-gray-200",children:[k.jsx("p",{className:"font-semibold",children:"Preview:"}),k.jsx("pre",{className:"whitespace-pre-wrap",children:t})]})]})]}),k.jsxs(oo,{children:[k.jsx(Ta,{children:k.jsx(Pa,{children:"Step 2: Provide Job Description"})}),k.jsxs(ka,{className:"space-y-3",children:[k.jsx(FT,{placeholder:"Paste JD text here...",value:d,onChange:C=>h(C.target.value),className:"h-48"}),k.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"OR"}),k.jsx(rw,{placeholder:"Paste JD URL here...",value:f,onChange:C=>p(C.target.value)})]})]})]}),k.jsx(ec,{onClick:x,disabled:y,children:y?"Analyzing...":"🔍 Analyze Resume vs JD"}),b&&k.jsxs("div",{className:"space-y-6 mt-6",children:[k.jsxs(oo,{children:[k.jsx(Ta,{children:k.jsx(Pa,{children:"📊 Match Results"})}),k.jsxs(ka,{children:[k.jsx("div",{className:"flex items-center justify-between mb-2",children:k.jsxs("span",{children:["Overall Match: ",b.overall_match,"%"]})}),k.jsx(UT,{value:b.overall_match})]})]}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k.jsxs(oo,{children:[k.jsx(Ta,{children:k.jsx(Pa,{children:"✅ Matched Skills"})}),k.jsx(ka,{className:"flex flex-wrap gap-2",children:b.matched_skills.length>0?b.matched_skills.map((C,T)=>k.jsx(tS,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:C},T)):k.jsx("p",{className:"text-sm text-gray-500",children:"No matches found"})})]}),k.jsxs(oo,{children:[k.jsx(Ta,{children:k.jsx(Pa,{children:"❌ Missing Skills"})}),k.jsx(ka,{className:"flex flex-wrap gap-2",children:b.missing_skills.length>0?b.missing_skills.map((C,T)=>k.jsx(tS,{className:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:C},T)):k.jsx("p",{className:"text-sm text-gray-500",children:"No gaps detected 🎉"})})]})]}),k.jsxs(oo,{children:[k.jsx(Ta,{children:k.jsx(Pa,{children:"📚 Personalized Learning Path"})}),k.jsx(ka,{className:"space-y-3",children:b.recommendations.length>0?b.recommendations.map((C,T)=>k.jsxs("div",{className:"p-3 border rounded-lg dark:border-gray-700",children:[k.jsx("p",{className:"font-semibold",children:C.title}),k.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:C.type}),k.jsx("p",{className:"text-sm",children:C.why}),C.link&&k.jsx("a",{href:C.link,target:"_blank",rel:"noreferrer",className:"text-blue-600 dark:text-blue-400 text-sm",children:"Open Resource →"})]},T)):k.jsx("p",{className:"text-sm text-gray-500",children:"No recommendations available"})})]})]})]})})}function eB(){const[n,e]=_.useState(!1);return _.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]),k.jsx(ec,{variant:"outline",size:"icon",onClick:()=>e(t=>!t),children:n?k.jsx(N_,{className:"h-5 w-5"}):k.jsx(M_,{className:"h-5 w-5"})})}const tB=()=>{const n=DT();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),k.jsxs("div",{className:"min-h-screen bg-gradient-background flex flex-col",children:[k.jsx("div",{className:"absolute top-4 right-4",children:k.jsx(eB,{})}),k.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:k.jsx(oo,{className:"card-elevated max-w-md w-full text-center",children:k.jsxs("div",{className:"space-y-6",children:[k.jsx("div",{className:"mx-auto w-16 h-16 bg-danger/10 rounded-full flex items-center justify-center",children:k.jsx(YN,{className:"w-8 h-8 text-danger"})}),k.jsxs("div",{className:"space-y-2",children:[k.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"404"}),k.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Page Not Found"}),k.jsx("p",{className:"text-muted-foreground",children:"Oops! The page you're looking for doesn't exist or has been moved."})]}),k.jsx(ec,{asChild:!0,className:"w-full",children:k.jsxs("a",{href:"/",children:[k.jsx(KN,{className:"w-4 h-4 mr-2"}),"Return to Career Gap Analyzer"]})}),k.jsxs("p",{className:"text-xs text-muted-foreground",children:["Built with ❤️ by ",k.jsx("span",{className:"font-semibold text-primary",children:"Team Cypher29"})]})]})})})]})},nB=new SO,sB=()=>k.jsx(_O,{client:nB,children:k.jsx(FI,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!1,children:k.jsxs(eO,{children:[k.jsx(NI,{}),k.jsx(g2,{}),k.jsx(fF,{children:k.jsxs(uF,{children:[k.jsx(nw,{path:"/",element:k.jsx(Z3,{})}),k.jsx(nw,{path:"*",element:k.jsx(tB,{})})]})})]})})});s_(document.getElementById("root")).render(k.jsx(sB,{}));
